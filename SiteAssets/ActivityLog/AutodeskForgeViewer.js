var a0_0x16ad64=a0_0x5ee3;(function(_0x15a03f,_0x4fc8a5){var _0x459918=a0_0x5ee3,_0x2ceb41=_0x15a03f();while(!![]){try{var _0x4dfb72=parseInt(_0x459918(0x93))/0x1+parseInt(_0x459918(0x87))/0x2+parseInt(_0x459918(0x94))/0x3+-parseInt(_0x459918(0xa7))/0x4+parseInt(_0x459918(0x7d))/0x5+parseInt(_0x459918(0xb1))/0x6*(parseInt(_0x459918(0xb4))/0x7)+-parseInt(_0x459918(0x98))/0x8;if(_0x4dfb72===_0x4fc8a5)break;else _0x2ceb41['push'](_0x2ceb41['shift']());}catch(_0x230dd5){_0x2ceb41['push'](_0x2ceb41['shift']());}}}(a0_0x21bd,0xf2f05));var a0_0x1e8841=a0_0x3c1b;(function(_0x4c7633,_0x43db7a){var _0x278a6e=a0_0x5ee3,_0x759644=a0_0x3c1b,_0x10756f=_0x4c7633();while(!![]){try{var _0x49afd1=-parseInt(_0x759644(0x176))/0x1+parseInt(_0x759644(0x18c))/0x2+-parseInt(_0x759644(0x18a))/0x3*(parseInt(_0x759644(0x191))/0x4)+-parseInt(_0x759644(0x16c))/0x5+parseInt(_0x759644(0x198))/0x6+-parseInt(_0x759644(0x192))/0x7+parseInt(_0x759644(0x18e))/0x8*(parseInt(_0x759644(0x180))/0x9);if(_0x49afd1===_0x43db7a)break;else _0x10756f[_0x278a6e(0xb2)](_0x10756f[_0x278a6e(0x86)]());}catch(_0x84874){_0x10756f[_0x278a6e(0xb2)](_0x10756f['shift']());}}}(a0_0x5e0a,0x91166));var viewer;const CLIENT_ID=a0_0x1e8841(0x195),CLIENT_SECRET=a0_0x16ad64(0x9f),ACCESS_TOKEN_ENDPOINT=a0_0x1e8841(0x183);var YOUR_ACCESS_TOKEN='',siteUrl=_spPageContextInfo[a0_0x16ad64(0x89)];function a0_0x5e0a(){var _0x1cf3b4=a0_0x16ad64,_0x4f2352=[_0x1cf3b4(0x79),_0x1cf3b4(0x99),'24UVqIfl',_0x1cf3b4(0x7f),_0x1cf3b4(0x7a),'2284tssqyb',_0x1cf3b4(0x7b),'start',_0x1cf3b4(0xa3),_0x1cf3b4(0x88),_0x1cf3b4(0xab),_0x1cf3b4(0x90),_0x1cf3b4(0x9b),_0x1cf3b4(0x9a),_0x1cf3b4(0xa6),_0x1cf3b4(0xaa),_0x1cf3b4(0x9f),_0x1cf3b4(0xa5),_0x1cf3b4(0xa9),_0x1cf3b4(0xa2),_0x1cf3b4(0xaf),_0x1cf3b4(0x80),'/_api/web/GetFileByServerRelativeUrl(\x27',_0x1cf3b4(0xae),'4462270dAGJNz',_0x1cf3b4(0xb0),_0x1cf3b4(0x9e),_0x1cf3b4(0xa1),_0x1cf3b4(0x8b),'setRequestHeader',_0x1cf3b4(0x91),'/sites/Titan_2_2_1_DEV/DemoLibrary/1343939490.dwg','Document','Error\x20obtaining\x20access\x20token:',_0x1cf3b4(0x97),_0x1cf3b4(0xad),_0x1cf3b4(0xb3),_0x1cf3b4(0x84),_0x1cf3b4(0xa8),_0x1cf3b4(0x8d),'toBase64','test1',_0x1cf3b4(0x8e),_0x1cf3b4(0xb6),_0x1cf3b4(0x96),_0x1cf3b4(0x7c),_0x1cf3b4(0xac),'https://developer.api.autodesk.com/authentication/v1/authenticate',_0x1cf3b4(0x78),_0x1cf3b4(0x85),_0x1cf3b4(0xb5),_0x1cf3b4(0xa4),_0x1cf3b4(0x92),'getFileByServerRelativeUrl',_0x1cf3b4(0x95),_0x1cf3b4(0x7e)];return a0_0x5e0a=function(){return _0x4f2352;},a0_0x5e0a();}function getAccessToken(){var _0x54e726=a0_0x16ad64,_0x5b55d8=a0_0x1e8841;$[_0x54e726(0x80)]({'url':ACCESS_TOKEN_ENDPOINT,'type':_0x5b55d8(0x18f),'async':![],'data':{'client_id':CLIENT_ID,'client_secret':CLIENT_SECRET,'grant_type':'client_credentials','scope':'data:read'},'success':function(_0x5559d7){var _0x5f29a6=_0x5b55d8;const _0x2da4dd=_0x5559d7[_0x5f29a6(0x19f)];YOUR_ACCESS_TOKEN=_0x2da4dd;},'error':function(_0xcabf19,_0xb98a52,_0x174689){var _0x592cf3=_0x54e726;console[_0x592cf3(0x7c)](_0x174689);}});}function a0_0x21bd(){var _0x2ec765=['\x27)/$value','12wpjUjz','push','Bearer\x20','4806074lzMKOn','onload','getDefaultGeometry','getElementById','1434590yfrpRH','catch','861252cHiccW','error','5058825PdfsuB','stringify','POST','ajax','SP.ClientContext','response','data:read\x20data:write\x20data:create\x20bucket:create','application/x-www-form-urlencoded','openBinaryStream','shift','3940868iZzRZe','bBUBO3wtnwPNYg6AeAtrIFDbMIcsGTt0','webAbsoluteUrl','https://developer.api.autodesk.com/oss/v2/buckets/','Error\x20uploading\x20file:','Private','open','SOD','https://developer.api.autodesk.com/oss/v2/buckets','objectId','load','Error\x20loading\x20document:','1922992kRiAsI','2436393dIoJth','2811NLEsQP','4227534VHePzS','216767xonPIL','43412520COPQcl','BlockBlob','sp.js','1410534uAklAL','executeFunc','urn:','/objects/','R0cGGyke0Pv0sKMw','AutodeskProduction','getRoot','access_token','application/octet-stream','PUT','then','transient','2675376fGsrPL','responseType','GuiViewer3D','application/json','Viewing','Accept','client_credentials','GET','loadDocumentNode'];a0_0x21bd=function(){return _0x2ec765;};return a0_0x21bd();}var context,web,fileUrl=a0_0x1e8841(0x173),fileContents,clientId=a0_0x16ad64(0x88),clientSecret=a0_0x1e8841(0x19c),bucketName=a0_0x1e8841(0x17d);function a0_0x3c1b(_0x2393cf,_0x585f86){var _0x563918=a0_0x5e0a();return a0_0x3c1b=function(_0x100bbe,_0xf3b12d){_0x100bbe=_0x100bbe-0x169;var _0xabed37=_0x563918[_0x100bbe];return _0xabed37;},a0_0x3c1b(_0x2393cf,_0x585f86);}SP[a0_0x1e8841(0x17e)][a0_0x16ad64(0x9c)](a0_0x1e8841(0x199),a0_0x16ad64(0x81),function(){var _0x2a365e=a0_0x1e8841,_0x2ea980=new XMLHttpRequest();_0x2ea980[_0x2a365e(0x17b)](_0x2a365e(0x16b),siteUrl+_0x2a365e(0x16a)+fileUrl+_0x2a365e(0x16d),!![]),_0x2ea980[_0x2a365e(0x171)](_0x2a365e(0x182),_0x2a365e(0x194)),_0x2ea980[_0x2a365e(0x17a)]='arraybuffer',_0x2ea980[_0x2a365e(0x186)]=function(){var _0x5b7b47=a0_0x5ee3;file=_0x2ea980[_0x5b7b47(0x82)];},_0x2ea980['send'](),getAccessTokens();});function getAccessTokens(){var _0x252979=a0_0x16ad64,_0x11c9a8=a0_0x1e8841;$[_0x11c9a8(0x169)]({'url':_0x11c9a8(0x183),'type':'POST','headers':{'Content-Type':_0x11c9a8(0x179)},'data':{'client_id':clientId,'client_secret':clientSecret,'grant_type':_0x11c9a8(0x177),'scope':_0x252979(0x83)},'success':function(_0x2955b1){var _0x146d5c=_0x11c9a8,_0x3b2133=_0x2955b1[_0x146d5c(0x19f)];debugger;uploadFileToForge(file,_0x3b2133,bucketName)[_0x146d5c(0x19d)](function(_0x43b6a9){displayFileInViewer(_0x43b6a9,_0x3b2133);})[_0x146d5c(0x190)](function(_0x1b086b){var _0x13bd23=_0x146d5c;console[_0x13bd23(0x181)](_0x13bd23(0x170),_0x1b086b);});},'error':function(_0x2470b5){var _0x12cf4c=_0x11c9a8;console[_0x12cf4c(0x181)](_0x12cf4c(0x175),_0x2470b5);}});}function getFileFromSharePoint(_0x6cf425){var _0x4eb263=a0_0x1e8841,_0x2a1961=web[_0x4eb263(0x189)](_0x6cf425),_0x1e41ef=_0x2a1961[_0x4eb263(0x185)]();return _0x1e41ef;}function uploadFileToForge(_0x2c96a6,_0x54e86d,_0x2d8eec){return new Promise(function(_0x77691e,_0xed5421){var _0x325424=a0_0x5ee3,_0x5403ba=a0_0x3c1b;$[_0x5403ba(0x169)]({'url':_0x325424(0x8a)+_0x2d8eec+_0x5403ba(0x16e)+fileUrl,'type':_0x5403ba(0x187),'headers':{'Authorization':_0x5403ba(0x178)+_0x54e86d,'Content-Type':_0x5403ba(0x194),'x-ms-blob-type':_0x5403ba(0x18d)},'data':_0x2c96a6,'processData':![],'success':function(_0x438d7c){var _0x51eb79=_0x5403ba,_0x26edbe=_0x438d7c[_0x51eb79(0x197)][_0x51eb79(0x17c)]();_0x77691e(_0x26edbe);},'error':function(_0x9ddcbe){_0xed5421(_0x9ddcbe);}});});}function a0_0x5ee3(_0x30f9ab,_0x4e5d3a){var _0x21bd7f=a0_0x21bd();return a0_0x5ee3=function(_0x5ee3a8,_0xb80c1b){_0x5ee3a8=_0x5ee3a8-0x78;var _0x41ac34=_0x21bd7f[_0x5ee3a8];return _0x41ac34;},a0_0x5ee3(_0x30f9ab,_0x4e5d3a);}function displayFileInViewer(_0x367cdc,_0x2707ce){var _0x3b74f6=a0_0x16ad64,_0x47d069=a0_0x1e8841,_0x3f45b1=new Autodesk[(_0x47d069(0x196))][(_0x3b74f6(0x8c))][(_0x47d069(0x19e))](document[_0x47d069(0x184)]('viewer')),_0x2c8080={'env':_0x3b74f6(0xa0),'accessToken':_0x2707ce};Autodesk[_0x3b74f6(0xab)]['Initializer'](_0x2c8080,function(){var _0x216570=_0x3b74f6,_0x4c194b=_0x47d069;_0x3f45b1[_0x4c194b(0x193)]();var _0x2c19ee=_0x216570(0x9d)+_0x367cdc;Autodesk[_0x4c194b(0x196)][_0x4c194b(0x174)][_0x4c194b(0x172)](_0x2c19ee,function(_0x19f8fe){var _0x4e2eac=_0x4c194b,_0x1a0a66=_0x19f8fe[_0x4e2eac(0x16f)]()[_0x4e2eac(0x17f)]();_0x3f45b1[_0x4e2eac(0x1a0)](_0x19f8fe,_0x1a0a66);},function(_0x4da959){var _0x1ea99b=_0x4c194b;console[_0x1ea99b(0x181)](_0x1ea99b(0x188),_0x4da959);});});}function createBucket(_0x47cad8,_0xab36f9){return new Promise(function(_0x1a4528,_0x32070e){var _0x3130f2=a0_0x5ee3,_0x48c4e0=a0_0x3c1b;$['ajax']({'url':_0x3130f2(0x8f),'type':_0x48c4e0(0x18f),'headers':{'Authorization':_0x48c4e0(0x178)+_0xab36f9,'Content-Type':_0x48c4e0(0x19b)},'data':JSON[_0x48c4e0(0x18b)]({'bucketKey':_0x47cad8,'policyKey':_0x48c4e0(0x19a)}),'success':function(_0x3bfb50){_0x1a4528();},'error':function(_0x5aba72){_0x32070e(_0x5aba72);}});});}