const a0_0x48e56f=a0_0x4495;function a0_0x477f(){const _0x327696=['1996284KQFsOT','join','rename','constructCreateSessionUrl','Please\x20provide\x20the\x20Graph\x20client\x20instance,\x20FileObject\x20interface\x20implementation\x20and\x20OneDriveLargeFileUploadOptions\x20value','uploadEventHandlers','byteLength','getFileInfo','186MJNvKx','DEFAULT_UPLOAD_PATH','330449BovcdB','createUploadSession','4176232yJMSQy','Please\x20provide\x20the\x20Graph\x20client\x20instance,\x20file\x20object\x20and\x20OneDriveLargeFileUploadOptions\x20value','call','size','length','conflictBehavior',':/createUploadSession','api','4054465xHYoQP','483063anFIIa','rangeSize','undefined','/me/drive/root:','trim','path','commit','url','byteOffset','uploadSession','uploadSessionURL','createTaskWithFileObject','put','fileName','create','split','2176554ejznzK','13559688Sshnux','file','map','fileDescription','buffer'];a0_0x477f=function(){return _0x327696;};return a0_0x477f();}(function(_0x476afb,_0x9bde7b){const _0x135f90=a0_0x4495,_0x490d31=_0x476afb();while(!![]){try{const _0x2d99f9=parseInt(_0x135f90(0x166))/0x1+-parseInt(_0x135f90(0x151))/0x2+-parseInt(_0x135f90(0x14b))/0x3+parseInt(_0x135f90(0x15d))/0x4+parseInt(_0x135f90(0x165))/0x5+parseInt(_0x135f90(0x159))/0x6*(-parseInt(_0x135f90(0x15b))/0x7)+parseInt(_0x135f90(0x14c))/0x8;if(_0x2d99f9===_0x9bde7b)break;else _0x490d31['push'](_0x490d31['shift']());}catch(_0x4377f0){_0x490d31['push'](_0x490d31['shift']());}}}(a0_0x477f,0xce84a));import{__awaiter}from'tslib';import{GraphClientError}from'../GraphClientError';import{FileUpload}from'./FileUploadTask/FileObjectClasses/FileUpload';import{LargeFileUploadTask}from'./LargeFileUploadTask';import{getValidRangeSize}from'./OneDriveLargeFileUploadTaskUtil';function a0_0x4495(_0x39d9f9,_0x816da6){const _0x477f1b=a0_0x477f();return a0_0x4495=function(_0x4495c7,_0x4f5128){_0x4495c7=_0x4495c7-0x143;let _0x90ebc5=_0x477f1b[_0x4495c7];return _0x90ebc5;},a0_0x4495(_0x39d9f9,_0x816da6);}export class OneDriveLargeFileUploadTask extends LargeFileUploadTask{static['constructCreateSessionUrl'](_0x1d8e9f,_0x5157d0=OneDriveLargeFileUploadTask[a0_0x48e56f(0x15a)]){const _0x2dce5e=a0_0x48e56f;return _0x1d8e9f=_0x1d8e9f[_0x2dce5e(0x16a)](),_0x5157d0=_0x5157d0[_0x2dce5e(0x16a)](),_0x5157d0===''&&(_0x5157d0='/'),_0x5157d0[0x0]!=='/'&&(_0x5157d0='/'+_0x5157d0),_0x5157d0[_0x5157d0[_0x2dce5e(0x161)]-0x1]!=='/'&&(_0x5157d0=_0x5157d0+'/'),_0x2dce5e(0x169)+_0x5157d0[_0x2dce5e(0x14a)]('/')[_0x2dce5e(0x14e)](_0x1f8654=>encodeURIComponent(_0x1f8654))[_0x2dce5e(0x152)]('/')+encodeURIComponent(_0x1d8e9f)+_0x2dce5e(0x163);}static['getFileInfo'](_0x3142ed,_0xde4760){const _0x48beef=a0_0x48e56f;let _0x32d14a,_0x32730a;if(typeof Blob!==_0x48beef(0x168)&&_0x3142ed instanceof Blob)_0x32d14a=new File([_0x3142ed],_0xde4760),_0x32730a=_0x32d14a[_0x48beef(0x160)];else{if(typeof File!==_0x48beef(0x168)&&_0x3142ed instanceof File)_0x32d14a=_0x3142ed,_0x32730a=_0x32d14a[_0x48beef(0x160)];else{if(typeof Uint8Array!==_0x48beef(0x168)&&_0x3142ed instanceof Uint8Array){const _0x4eee10=_0x3142ed;_0x32730a=_0x4eee10[_0x48beef(0x157)],_0x32d14a=_0x4eee10[_0x48beef(0x150)]['slice'](_0x4eee10[_0x48beef(0x143)],_0x4eee10['byteOffset']+_0x4eee10['byteLength']);}}}return{'content':_0x32d14a,'size':_0x32730a};}static[a0_0x48e56f(0x149)](_0x3c1996,_0x470fa5,_0x1b3445){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x22f153=a0_0x4495;if(!_0x3c1996||!_0x470fa5||!_0x1b3445)throw new GraphClientError(_0x22f153(0x15e));const _0x48b550=_0x1b3445['fileName'],_0x227491=OneDriveLargeFileUploadTask[_0x22f153(0x158)](_0x470fa5,_0x48b550),_0x32afc4=new FileUpload(_0x227491['content'],_0x48b550,_0x227491[_0x22f153(0x160)]);return this[_0x22f153(0x146)](_0x3c1996,_0x32afc4,_0x1b3445);});}static[a0_0x48e56f(0x146)](_0x4f39a5,_0xabe13c,_0x2af4d9){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2f0fd2=a0_0x4495;if(!_0x4f39a5||!_0xabe13c||!_0x2af4d9)throw new GraphClientError(_0x2f0fd2(0x155));const _0x370bcb=_0x2af4d9[_0x2f0fd2(0x145)]?_0x2af4d9[_0x2f0fd2(0x145)]:OneDriveLargeFileUploadTask[_0x2f0fd2(0x154)](_0x2af4d9[_0x2f0fd2(0x148)],_0x2af4d9[_0x2f0fd2(0x16b)]),_0x30c304={'fileName':_0x2af4d9[_0x2f0fd2(0x148)],'fileDescription':_0x2af4d9[_0x2f0fd2(0x14f)],'conflictBehavior':_0x2af4d9[_0x2f0fd2(0x162)]},_0x53ad27=yield OneDriveLargeFileUploadTask[_0x2f0fd2(0x15c)](_0x4f39a5,_0x370bcb,_0x30c304),_0x3c4081=getValidRangeSize(_0x2af4d9[_0x2f0fd2(0x167)]);return new OneDriveLargeFileUploadTask(_0x4f39a5,_0xabe13c,_0x53ad27,{'rangeSize':_0x3c4081,'uploadEventHandlers':_0x2af4d9[_0x2f0fd2(0x156)]});});}static[a0_0x48e56f(0x15c)](_0xf59d16,_0x5c69c8,_0x44ad7f){const _0x33dce6=a0_0x48e56f,_0x1b2f19=Object[_0x33dce6(0x149)](null,{'createUploadSession':{'get':()=>super[_0x33dce6(0x15c)]}});return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1bbb72=_0x33dce6,_0x2c386c={'item':{'@microsoft.graph.conflictBehavior':(_0x44ad7f===null||_0x44ad7f===void 0x0?void 0x0:_0x44ad7f[_0x1bbb72(0x162)])||'rename','name':_0x44ad7f===null||_0x44ad7f===void 0x0?void 0x0:_0x44ad7f['fileName'],'description':_0x44ad7f===null||_0x44ad7f===void 0x0?void 0x0:_0x44ad7f[_0x1bbb72(0x14f)]}};return _0x1b2f19[_0x1bbb72(0x15c)][_0x1bbb72(0x15f)](this,_0xf59d16,_0x5c69c8,_0x2c386c);});}constructor(_0x28d9fe,_0x281246,_0x10870f,_0x2e2d6c){super(_0x28d9fe,_0x281246,_0x10870f,_0x2e2d6c);}[a0_0x48e56f(0x16c)](_0x263125,_0x15a399=a0_0x48e56f(0x153)){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3be8e1=a0_0x4495,_0x2801ee={'name':this[_0x3be8e1(0x14d)]['name'],'@microsoft.graph.conflictBehavior':_0x15a399,'@microsoft.graph.sourceUrl':this[_0x3be8e1(0x144)][_0x3be8e1(0x16d)]};return yield this['client'][_0x3be8e1(0x164)](_0x263125)[_0x3be8e1(0x147)](_0x2801ee);});}}OneDriveLargeFileUploadTask[a0_0x48e56f(0x15a)]='/';