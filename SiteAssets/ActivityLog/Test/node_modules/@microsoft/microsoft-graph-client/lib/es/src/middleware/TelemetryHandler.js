const a0_0x3e0854=a0_0x3a40;(function(_0x329f92,_0x41a5ef){const _0x25b2d3=a0_0x3a40,_0x28b8ef=_0x329f92();while(!![]){try{const _0x340619=-parseInt(_0x25b2d3(0xef))/0x1*(-parseInt(_0x25b2d3(0xf5))/0x2)+-parseInt(_0x25b2d3(0xe9))/0x3*(parseInt(_0x25b2d3(0xf0))/0x4)+parseInt(_0x25b2d3(0xf2))/0x5*(-parseInt(_0x25b2d3(0xeb))/0x6)+parseInt(_0x25b2d3(0x102))/0x7+parseInt(_0x25b2d3(0xf7))/0x8*(parseInt(_0x25b2d3(0xee))/0x9)+parseInt(_0x25b2d3(0xf3))/0xa+parseInt(_0x25b2d3(0xfb))/0xb;if(_0x340619===_0x41a5ef)break;else _0x28b8ef['push'](_0x28b8ef['shift']());}catch(_0x3861dc){_0x28b8ef['push'](_0x28b8ef['shift']());}}}(a0_0x512b,0x52eee));import{__awaiter}from'tslib';function a0_0x512b(){const _0x4c7e51=['CLIENT_REQUEST_ID_HEADER','1359hDiIsq','44189rrbfqv','681716gpWBkB','customHosts','1502925WyehXd','4144750TQKDwX','execute','18IyQgjh','PRODUCT_NAME','760lvKmIs','FEATURE_USAGE_STRING','SDK_VERSION_HEADER','request','4055667xiRfmE','string','options','getFeatureUsage','getMiddlewareOptions','headers','graph-js','1798531ZHIfOX','nextMiddleware','setNext','9stYbuY','middlewareControl','12muXiuv','client-request-id'];a0_0x512b=function(){return _0x4c7e51;};return a0_0x512b();}import{isCustomHost,isGraphURL}from'../GraphRequestUtil';import{PACKAGE_VERSION}from'../Version';import{MiddlewareControl}from'./MiddlewareControl';function a0_0x3a40(_0x22ac64,_0x4cb3c0){const _0x512b58=a0_0x512b();return a0_0x3a40=function(_0x3a4060,_0x282884){_0x3a4060=_0x3a4060-0xe8;let _0x28cf13=_0x512b58[_0x3a4060];return _0x28cf13;},a0_0x3a40(_0x22ac64,_0x4cb3c0);}import{appendRequestHeader,generateUUID,getRequestHeader,setRequestHeader}from'./MiddlewareUtil';import{TelemetryHandlerOptions}from'./options/TelemetryHandlerOptions';export class TelemetryHandler{[a0_0x3e0854(0xf4)](_0x274218){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x21e395=a0_0x3a40,_0xf4ae8=typeof _0x274218[_0x21e395(0xfa)]===_0x21e395(0xfc)?_0x274218[_0x21e395(0xfa)]:_0x274218[_0x21e395(0xfa)]['url'];if(isGraphURL(_0xf4ae8)||_0x274218[_0x21e395(0xf1)]&&isCustomHost(_0xf4ae8,_0x274218['customHosts'])){let _0x13f0d8=getRequestHeader(_0x274218['request'],_0x274218[_0x21e395(0xfd)],TelemetryHandler[_0x21e395(0xed)]);!_0x13f0d8&&(_0x13f0d8=generateUUID(),setRequestHeader(_0x274218['request'],_0x274218[_0x21e395(0xfd)],TelemetryHandler[_0x21e395(0xed)],_0x13f0d8));let _0xbdde1b=TelemetryHandler[_0x21e395(0xf6)]+'/'+PACKAGE_VERSION,_0x18737b;_0x274218[_0x21e395(0xea)]instanceof MiddlewareControl&&(_0x18737b=_0x274218[_0x21e395(0xea)][_0x21e395(0xff)](TelemetryHandlerOptions));if(_0x18737b){const _0x47fe88=_0x18737b[_0x21e395(0xfe)]();_0xbdde1b+='\x20('+TelemetryHandler['FEATURE_USAGE_STRING']+'='+_0x47fe88+')';}appendRequestHeader(_0x274218[_0x21e395(0xfa)],_0x274218['options'],TelemetryHandler[_0x21e395(0xf9)],_0xbdde1b);}else delete _0x274218[_0x21e395(0xfd)]['headers'][TelemetryHandler[_0x21e395(0xed)]],delete _0x274218['options'][_0x21e395(0x100)][TelemetryHandler[_0x21e395(0xf9)]];return yield this[_0x21e395(0x103)]['execute'](_0x274218);});}[a0_0x3e0854(0xe8)](_0x25c860){const _0x3dacac=a0_0x3e0854;this[_0x3dacac(0x103)]=_0x25c860;}}TelemetryHandler[a0_0x3e0854(0xed)]=a0_0x3e0854(0xec),TelemetryHandler[a0_0x3e0854(0xf9)]='SdkVersion',TelemetryHandler[a0_0x3e0854(0xf6)]=a0_0x3e0854(0x101),TelemetryHandler[a0_0x3e0854(0xf8)]='featureUsage';