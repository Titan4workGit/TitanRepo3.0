const a0_0x2b4f86=a0_0x3bff;(function(_0x177c29,_0x25a51f){const _0x1e5007=a0_0x3bff,_0x79169f=_0x177c29();while(!![]){try{const _0x19f4cb=-parseInt(_0x1e5007(0x1a0))/0x1*(-parseInt(_0x1e5007(0x1a2))/0x2)+-parseInt(_0x1e5007(0x1a7))/0x3*(parseInt(_0x1e5007(0x196))/0x4)+-parseInt(_0x1e5007(0x1a6))/0x5+parseInt(_0x1e5007(0x19f))/0x6+parseInt(_0x1e5007(0x19b))/0x7+parseInt(_0x1e5007(0x198))/0x8+-parseInt(_0x1e5007(0x1ad))/0x9*(-parseInt(_0x1e5007(0x199))/0xa);if(_0x19f4cb===_0x25a51f)break;else _0x79169f['push'](_0x79169f['shift']());}catch(_0x1e6ff5){_0x79169f['push'](_0x79169f['shift']());}}}(a0_0x2454,0xe8e93));import{__awaiter}from'tslib';import{isCustomHost,isGraphURL}from'../GraphRequestUtil';function a0_0x3bff(_0x4b5a9c,_0x515f49){const _0x245462=a0_0x2454();return a0_0x3bff=function(_0x3bffb3,_0x23705a){_0x3bffb3=_0x3bffb3-0x194;let _0x3b2168=_0x245462[_0x3bffb3];return _0x3b2168;},a0_0x3bff(_0x4b5a9c,_0x515f49);}import{PACKAGE_VERSION}from'../Version';function a0_0x2454(){const _0x513dc9=['headers','nextMiddleware','582885KgVFHb','SDK_VERSION_HEADER','options','graph-js','PRODUCT_NAME','216584miWjEX','url','3293120suxSfU','220JLNPIJ','FEATURE_USAGE_STRING','2706613uAFFOv','string','featureUsage','SdkVersion','4343838cLyuFT','53jaPVjZ','customHosts','3906ftjNqw','CLIENT_REQUEST_ID_HEADER','request','execute','8317200hppewg','24EVakwm','middlewareControl','getMiddlewareOptions','client-request-id'];a0_0x2454=function(){return _0x513dc9;};return a0_0x2454();}import{MiddlewareControl}from'./MiddlewareControl';import{appendRequestHeader,generateUUID,getRequestHeader,setRequestHeader}from'./MiddlewareUtil';import{TelemetryHandlerOptions}from'./options/TelemetryHandlerOptions';export class TelemetryHandler{[a0_0x2b4f86(0x1a5)](_0x44a82f){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x5141a2=a0_0x3bff,_0xd6c29f=typeof _0x44a82f[_0x5141a2(0x1a4)]===_0x5141a2(0x19c)?_0x44a82f[_0x5141a2(0x1a4)]:_0x44a82f['request'][_0x5141a2(0x197)];if(isGraphURL(_0xd6c29f)||_0x44a82f[_0x5141a2(0x1a1)]&&isCustomHost(_0xd6c29f,_0x44a82f['customHosts'])){let _0x7b45fb=getRequestHeader(_0x44a82f['request'],_0x44a82f['options'],TelemetryHandler[_0x5141a2(0x1a3)]);!_0x7b45fb&&(_0x7b45fb=generateUUID(),setRequestHeader(_0x44a82f['request'],_0x44a82f[_0x5141a2(0x1af)],TelemetryHandler[_0x5141a2(0x1a3)],_0x7b45fb));let _0x494827=TelemetryHandler['PRODUCT_NAME']+'/'+PACKAGE_VERSION,_0x3f7c57;_0x44a82f[_0x5141a2(0x1a8)]instanceof MiddlewareControl&&(_0x3f7c57=_0x44a82f[_0x5141a2(0x1a8)][_0x5141a2(0x1a9)](TelemetryHandlerOptions));if(_0x3f7c57){const _0x853a93=_0x3f7c57['getFeatureUsage']();_0x494827+='\x20('+TelemetryHandler[_0x5141a2(0x19a)]+'='+_0x853a93+')';}appendRequestHeader(_0x44a82f['request'],_0x44a82f['options'],TelemetryHandler[_0x5141a2(0x1ae)],_0x494827);}else delete _0x44a82f['options'][_0x5141a2(0x1ab)][TelemetryHandler[_0x5141a2(0x1a3)]],delete _0x44a82f[_0x5141a2(0x1af)]['headers'][TelemetryHandler[_0x5141a2(0x1ae)]];return yield this[_0x5141a2(0x1ac)][_0x5141a2(0x1a5)](_0x44a82f);});}['setNext'](_0xe4a209){const _0x14a727=a0_0x2b4f86;this[_0x14a727(0x1ac)]=_0xe4a209;}}TelemetryHandler[a0_0x2b4f86(0x1a3)]=a0_0x2b4f86(0x1aa),TelemetryHandler['SDK_VERSION_HEADER']=a0_0x2b4f86(0x19e),TelemetryHandler[a0_0x2b4f86(0x195)]=a0_0x2b4f86(0x194),TelemetryHandler[a0_0x2b4f86(0x19a)]=a0_0x2b4f86(0x19d);