function a0_0x5ac2(){const _0x5a62df=['push','length','previousSlice','end','sliceFile','size','readNBytesFromStream','concat','fileSlice','1235623xvpVqr','minValue','8QemcjN','20pinOFe','Please\x20provide\x20the\x20Readable\x20Stream\x20content,\x20name\x20of\x20the\x20file\x20and\x20size\x20of\x20the\x20file','Stream\x20is\x20not\x20readable.','14GuyByB','28956TreuDZ','Stream\x20ended\x20before\x20reading\x20required\x20range\x20size','slice','4966770ygXNxr','26442948KzsrvS','An\x20error\x20occurred\x20while\x20uploading\x20the\x20stream.\x20Please\x20restart\x20the\x20stream\x20upload\x20from\x20the\x20first\x20byte\x20of\x20the\x20file.','content','11KlbuCb','range','5630950XNzvaP','2FklaBt','readableLength','read','maxValue','1840710VJrNDG','9196047nSXWBf','readable'];a0_0x5ac2=function(){return _0x5a62df;};return a0_0x5ac2();}const a0_0x3a0b51=a0_0x3b6a;(function(_0x441b8d,_0x3174a7){const _0x2aebc3=a0_0x3b6a,_0x24cb22=_0x441b8d();while(!![]){try{const _0x51920f=-parseInt(_0x2aebc3(0xbf))/0x1*(parseInt(_0x2aebc3(0xd0))/0x2)+parseInt(_0x2aebc3(0xc6))/0x3*(-parseInt(_0x2aebc3(0xc2))/0x4)+parseInt(_0x2aebc3(0xc9))/0x5+-parseInt(_0x2aebc3(0xd4))/0x6*(-parseInt(_0x2aebc3(0xc5))/0x7)+parseInt(_0x2aebc3(0xc1))/0x8*(-parseInt(_0x2aebc3(0xd5))/0x9)+parseInt(_0x2aebc3(0xcf))/0xa*(-parseInt(_0x2aebc3(0xcd))/0xb)+parseInt(_0x2aebc3(0xca))/0xc;if(_0x51920f===_0x3174a7)break;else _0x24cb22['push'](_0x24cb22['shift']());}catch(_0x30cd0b){_0x24cb22['push'](_0x24cb22['shift']());}}}(a0_0x5ac2,0xe5eae));import{__awaiter}from'tslib';import{GraphClientError}from'../../../GraphClientError';function a0_0x3b6a(_0x4bb4ce,_0x2576c3){const _0x5ac240=a0_0x5ac2();return a0_0x3b6a=function(_0x3b6a13,_0x3125f1){_0x3b6a13=_0x3b6a13-0xbc;let _0x16edf8=_0x5ac240[_0x3b6a13];return _0x16edf8;},a0_0x3b6a(_0x4bb4ce,_0x2576c3);}export class StreamUpload{constructor(_0x156f9e,_0x38b02a,_0x1dde2a){const _0x5951e8=a0_0x3b6a;this['content']=_0x156f9e,this['name']=_0x38b02a,this[_0x5951e8(0xdc)]=_0x1dde2a;if(!_0x156f9e||!_0x38b02a||!_0x1dde2a)throw new GraphClientError(_0x5951e8(0xc3));}[a0_0x3a0b51(0xdb)](_0xcfbca0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x6263c0=a0_0x3b6a;let _0x316d21=_0xcfbca0['maxValue']-_0xcfbca0['minValue']+0x1;const _0x3a447f=[];if(this[_0x6263c0(0xd9)]){if(_0xcfbca0[_0x6263c0(0xc0)]<this[_0x6263c0(0xd9)]['range']['minValue'])throw new GraphClientError(_0x6263c0(0xcb));if(_0xcfbca0['minValue']<this['previousSlice']['range'][_0x6263c0(0xd3)]){const _0x1c68f5=this[_0x6263c0(0xd9)][_0x6263c0(0xce)][_0x6263c0(0xc0)],_0x5e2c37=this[_0x6263c0(0xd9)][_0x6263c0(0xce)][_0x6263c0(0xd3)];if(_0xcfbca0[_0x6263c0(0xc0)]===_0x1c68f5&&_0xcfbca0[_0x6263c0(0xd3)]===_0x5e2c37)return this[_0x6263c0(0xd9)][_0x6263c0(0xbe)];if(_0xcfbca0[_0x6263c0(0xd3)]===_0x5e2c37)return this[_0x6263c0(0xd9)][_0x6263c0(0xbe)][_0x6263c0(0xc8)](_0xcfbca0[_0x6263c0(0xc0)],_0xcfbca0[_0x6263c0(0xd3)]+0x1);_0x3a447f[_0x6263c0(0xd7)](this[_0x6263c0(0xd9)]['fileSlice'][_0x6263c0(0xc8)](_0xcfbca0[_0x6263c0(0xc0)],_0x5e2c37+0x1)),_0x316d21=_0xcfbca0['maxValue']-_0x5e2c37;}}if(this[_0x6263c0(0xcc)]&&this[_0x6263c0(0xcc)]['readable'])this[_0x6263c0(0xcc)][_0x6263c0(0xd1)]>=_0x316d21?_0x3a447f[_0x6263c0(0xd7)](this['content'][_0x6263c0(0xd2)](_0x316d21)):_0x3a447f[_0x6263c0(0xd7)](yield this[_0x6263c0(0xbc)](_0x316d21));else throw new GraphClientError(_0x6263c0(0xc4));const _0x4c466e=Buffer[_0x6263c0(0xbd)](_0x3a447f);return this['previousSlice']={'fileSlice':_0x4c466e,'range':_0xcfbca0},_0x4c466e;});}[a0_0x3a0b51(0xbc)](_0x518c72){return new Promise((_0x5a36b6,_0x556b4c)=>{const _0x3a7b9e=a0_0x3b6a,_0x5f10fe=[];let _0x4a5f76=_0x518c72,_0xe6981a=0x0;this[_0x3a7b9e(0xcc)]['on'](_0x3a7b9e(0xda),()=>{const _0x14dd8f=_0x3a7b9e;if(_0x4a5f76>0x0)return _0x556b4c(new GraphClientError(_0x14dd8f(0xc7)));}),this[_0x3a7b9e(0xcc)]['on'](_0x3a7b9e(0xd6),()=>{const _0x21f973=_0x3a7b9e;let _0x3036c1;while(_0xe6981a<_0x518c72&&(_0x3036c1=this[_0x21f973(0xcc)][_0x21f973(0xd2)](_0x4a5f76))!==null){_0xe6981a+=_0x3036c1[_0x21f973(0xd8)],_0x5f10fe[_0x21f973(0xd7)](_0x3036c1),_0x4a5f76>0x0&&(_0x4a5f76=_0x518c72-_0xe6981a);}if(_0xe6981a===_0x518c72)return _0x5a36b6(Buffer[_0x21f973(0xbd)](_0x5f10fe));if(!this[_0x21f973(0xcc)]||!this[_0x21f973(0xcc)][_0x21f973(0xd6)])return _0x556b4c(new GraphClientError('Error\x20encountered\x20while\x20reading\x20the\x20stream\x20during\x20the\x20upload'));});});}}