const a0_0x19683f=a0_0x3042;(function(_0x2c4fce,_0x14ee09){const _0x5a078e=a0_0x3042,_0x4c33c9=_0x2c4fce();while(!![]){try{const _0x66d108=-parseInt(_0x5a078e(0x9f))/0x1+-parseInt(_0x5a078e(0xaf))/0x2+-parseInt(_0x5a078e(0xa6))/0x3+parseInt(_0x5a078e(0xa5))/0x4*(-parseInt(_0x5a078e(0xae))/0x5)+parseInt(_0x5a078e(0xa4))/0x6*(parseInt(_0x5a078e(0xa0))/0x7)+-parseInt(_0x5a078e(0xa8))/0x8+parseInt(_0x5a078e(0xb4))/0x9;if(_0x66d108===_0x14ee09)break;else _0x4c33c9['push'](_0x4c33c9['shift']());}catch(_0x1f938d){_0x4c33c9['push'](_0x4c33c9['shift']());}}}(a0_0x4d6b,0x42348));function a0_0x3042(_0x400b12,_0x63d7cf){const _0x4d6b81=a0_0x4d6b();return a0_0x3042=function(_0x3042ab,_0x35045a){_0x3042ab=_0x3042ab-0x9f;let _0x4b44ed=_0x4d6b81[_0x3042ab];return _0x4b44ed;},a0_0x3042(_0x400b12,_0x63d7cf);}import{__awaiter}from'tslib';import{isCustomHost,isGraphURL}from'../GraphRequestUtil';import{MiddlewareControl}from'./MiddlewareControl';function a0_0x4d6b(){const _0x4b2af4=['options','11315kKnfga','281000ifNplP','authenticationProvider','AUTHORIZATION_HEADER','Bearer\x20','getAccessToken','10139292EbJozT','middlewareControl','headers','192639JcMINk','1620955bCZTFR','customHosts','request','nextMiddleware','6PhgIpi','152vDIcDr','816204kWpGtP','authenticationProviderOptions','3166208iLldhT','url','execute','string','updateFeatureUsageFlag'];a0_0x4d6b=function(){return _0x4b2af4;};return a0_0x4d6b();}import{appendRequestHeader}from'./MiddlewareUtil';import{AuthenticationHandlerOptions}from'./options/AuthenticationHandlerOptions';import{FeatureUsageFlag,TelemetryHandlerOptions}from'./options/TelemetryHandlerOptions';export class AuthenticationHandler{constructor(_0x86c74e){this['authenticationProvider']=_0x86c74e;}['execute'](_0x56607a){return __awaiter(this,void 0x0,void 0x0,function*(){const _0xfa17d1=a0_0x3042,_0x4648ef=typeof _0x56607a[_0xfa17d1(0xa2)]===_0xfa17d1(0xab)?_0x56607a[_0xfa17d1(0xa2)]:_0x56607a[_0xfa17d1(0xa2)][_0xfa17d1(0xa9)];if(isGraphURL(_0x4648ef)||_0x56607a[_0xfa17d1(0xa1)]&&isCustomHost(_0x4648ef,_0x56607a[_0xfa17d1(0xa1)])){let _0x57812a;_0x56607a[_0xfa17d1(0xb5)]instanceof MiddlewareControl&&(_0x57812a=_0x56607a[_0xfa17d1(0xb5)]['getMiddlewareOptions'](AuthenticationHandlerOptions));let _0x4649c1,_0x52511d;_0x57812a&&(_0x4649c1=_0x57812a[_0xfa17d1(0xb0)],_0x52511d=_0x57812a[_0xfa17d1(0xa7)]);!_0x4649c1&&(_0x4649c1=this[_0xfa17d1(0xb0)]);const _0x4d7345=yield _0x4649c1[_0xfa17d1(0xb3)](_0x52511d),_0x2bd3bb=_0xfa17d1(0xb2)+_0x4d7345;appendRequestHeader(_0x56607a['request'],_0x56607a['options'],AuthenticationHandler[_0xfa17d1(0xb1)],_0x2bd3bb),TelemetryHandlerOptions[_0xfa17d1(0xac)](_0x56607a,FeatureUsageFlag['AUTHENTICATION_HANDLER_ENABLED']);}else _0x56607a[_0xfa17d1(0xad)][_0xfa17d1(0xb6)]&&delete _0x56607a['options'][_0xfa17d1(0xb6)][AuthenticationHandler[_0xfa17d1(0xb1)]];return yield this['nextMiddleware'][_0xfa17d1(0xaa)](_0x56607a);});}['setNext'](_0x1b70b9){const _0x1c99a7=a0_0x3042;this[_0x1c99a7(0xa3)]=_0x1b70b9;}}AuthenticationHandler[a0_0x19683f(0xb1)]='Authorization';