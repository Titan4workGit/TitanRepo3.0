function a0_0x2c14(){const _0x5d378e=['Bearer\x20','authenticationProviderOptions','headers','middlewareControl','options','getAccessToken','customHosts','url','387zOgpit','1937310gBrOZL','3876288wfmcaU','2783680CyfUTg','45rcXyyx','string','AUTHORIZATION_HEADER','1595970ZnIfhg','13448540auRAQa','AUTHENTICATION_HANDLER_ENABLED','execute','53748LcsRsM','nextMiddleware','5roiWic','setNext','request','authenticationProvider','41341340zlsaMO'];a0_0x2c14=function(){return _0x5d378e;};return a0_0x2c14();}const a0_0x5d7f67=a0_0x5081;(function(_0x5efa69,_0x53b5b3){const _0x28128d=a0_0x5081,_0x73b0fa=_0x5efa69();while(!![]){try{const _0x2761f6=parseInt(_0x28128d(0xb7))/0x1+parseInt(_0x28128d(0xb2))/0x2+parseInt(_0x28128d(0xb0))/0x3*(parseInt(_0x28128d(0xbb))/0x4)+parseInt(_0x28128d(0xbd))/0x5*(-parseInt(_0x28128d(0xb1))/0x6)+parseInt(_0x28128d(0xb8))/0x7+parseInt(_0x28128d(0xb3))/0x8*(-parseInt(_0x28128d(0xb4))/0x9)+-parseInt(_0x28128d(0xc1))/0xa;if(_0x2761f6===_0x53b5b3)break;else _0x73b0fa['push'](_0x73b0fa['shift']());}catch(_0x2dafd4){_0x73b0fa['push'](_0x73b0fa['shift']());}}}(a0_0x2c14,0xf2290));function a0_0x5081(_0x514cfd,_0x14f32b){const _0x2c1479=a0_0x2c14();return a0_0x5081=function(_0x5081c9,_0x207b5d){_0x5081c9=_0x5081c9-0xaf;let _0x314a40=_0x2c1479[_0x5081c9];return _0x314a40;},a0_0x5081(_0x514cfd,_0x14f32b);}import{__awaiter}from'tslib';import{isCustomHost,isGraphURL}from'../GraphRequestUtil';import{MiddlewareControl}from'./MiddlewareControl';import{appendRequestHeader}from'./MiddlewareUtil';import{AuthenticationHandlerOptions}from'./options/AuthenticationHandlerOptions';import{FeatureUsageFlag,TelemetryHandlerOptions}from'./options/TelemetryHandlerOptions';export class AuthenticationHandler{constructor(_0x179805){this['authenticationProvider']=_0x179805;}[a0_0x5d7f67(0xba)](_0x41d8fb){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x528e65=a0_0x5081,_0xf4faa=typeof _0x41d8fb[_0x528e65(0xbf)]===_0x528e65(0xb5)?_0x41d8fb[_0x528e65(0xbf)]:_0x41d8fb[_0x528e65(0xbf)][_0x528e65(0xaf)];if(isGraphURL(_0xf4faa)||_0x41d8fb[_0x528e65(0xc8)]&&isCustomHost(_0xf4faa,_0x41d8fb[_0x528e65(0xc8)])){let _0x10eb96;_0x41d8fb[_0x528e65(0xc5)]instanceof MiddlewareControl&&(_0x10eb96=_0x41d8fb[_0x528e65(0xc5)]['getMiddlewareOptions'](AuthenticationHandlerOptions));let _0x22d975,_0x17cafd;_0x10eb96&&(_0x22d975=_0x10eb96[_0x528e65(0xc0)],_0x17cafd=_0x10eb96[_0x528e65(0xc3)]);!_0x22d975&&(_0x22d975=this['authenticationProvider']);const _0x321982=yield _0x22d975[_0x528e65(0xc7)](_0x17cafd),_0x1bbf9b=_0x528e65(0xc2)+_0x321982;appendRequestHeader(_0x41d8fb['request'],_0x41d8fb['options'],AuthenticationHandler[_0x528e65(0xb6)],_0x1bbf9b),TelemetryHandlerOptions['updateFeatureUsageFlag'](_0x41d8fb,FeatureUsageFlag[_0x528e65(0xb9)]);}else _0x41d8fb[_0x528e65(0xc6)][_0x528e65(0xc4)]&&delete _0x41d8fb[_0x528e65(0xc6)][_0x528e65(0xc4)][AuthenticationHandler[_0x528e65(0xb6)]];return yield this['nextMiddleware']['execute'](_0x41d8fb);});}[a0_0x5d7f67(0xbe)](_0x31971d){const _0x575a60=a0_0x5d7f67;this[_0x575a60(0xbc)]=_0x31971d;}}AuthenticationHandler[a0_0x5d7f67(0xb6)]='Authorization';