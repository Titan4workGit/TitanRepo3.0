function a0_0x3eb7(_0x61cfc4,_0x3918b8){const _0x3e64e6=a0_0x3e64();return a0_0x3eb7=function(_0x3eb730,_0x184139){_0x3eb730=_0x3eb730-0x7f;let _0x43f193=_0x3e64e6[_0x3eb730];return _0x43f193;},a0_0x3eb7(_0x61cfc4,_0x3918b8);}const a0_0x35ef21=a0_0x3eb7;(function(_0x51fc4a,_0x39e00b){const _0x50e5c3=a0_0x3eb7,_0xed7a7c=_0x51fc4a();while(!![]){try{const _0x9ea3cc=parseInt(_0x50e5c3(0x96))/0x1+-parseInt(_0x50e5c3(0x95))/0x2*(parseInt(_0x50e5c3(0x99))/0x3)+-parseInt(_0x50e5c3(0x9a))/0x4+-parseInt(_0x50e5c3(0xb2))/0x5*(parseInt(_0x50e5c3(0x90))/0x6)+parseInt(_0x50e5c3(0x91))/0x7+-parseInt(_0x50e5c3(0x88))/0x8*(-parseInt(_0x50e5c3(0xa7))/0x9)+-parseInt(_0x50e5c3(0x8c))/0xa;if(_0x9ea3cc===_0x39e00b)break;else _0xed7a7c['push'](_0xed7a7c['shift']());}catch(_0x3e143f){_0xed7a7c['push'](_0xed7a7c['shift']());}}}(a0_0x3e64,0x38757));import{__awaiter}from'tslib';function a0_0x3e64(){const _0x353ed6=['nextExpectedRanges','client','getResponse','expirationDateTime','progress','bytes\x20','ExpirationDateTime','isCancelled','extraCallbackParam','RAW','maxValue','24SxtFtx','reportProgress','responseType','uploadSliceGetRawResponse','970840LhWWER','Something\x20went\x20wrong!\x20Large\x20file\x20upload\x20slice\x20response\x20is\x20null.','uploadSlice','rangeSize','12TBGlUx','1566453KIifjn','file','undefined','warn','404658KKpang','441691nijAXH','slice','minValue','3hYYfJI','706560NGPbvp','Please\x20pass\x20the\x20FileUpload\x20object,\x20StreamUpload\x20object\x20or\x20any\x20custom\x20implementation\x20of\x20the\x20FileObject\x20interface','CreateUploadResult','name','getStatus','createUploadSession','post','Task\x20with\x20which\x20you\x20are\x20trying\x20to\x20upload\x20is\x20already\x20completed,\x20Please\x20check\x20for\x20your\x20uploaded\x20file','options','cancel','NextExpectedRanges','content','uploadEventHandlers','315360EEsteY','nextRange','parseRange','updateTaskStatus','headers','api','url','upload','split','application/octet-stream','status','158205oVSFAo','getNextRange','put','size','sliceFile','uploadSession','DEFAULT_FILE_SIZE','uploadUrl'];a0_0x3e64=function(){return _0x353ed6;};return a0_0x3e64();}import{GraphClientError}from'../GraphClientError';import{GraphResponseHandler}from'../GraphResponseHandler';import{ResponseType}from'../ResponseType';import{Range}from'./FileUploadTask/Range';import{UploadResult}from'./FileUploadTask/UploadResult';export class LargeFileUploadTask{static[a0_0x35ef21(0x9f)](_0x424879,_0x209a20,_0x5bfd64,_0x13d76e={}){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x362936=a0_0x3eb7,_0x49c6d4=yield _0x424879['api'](_0x209a20)[_0x362936(0xab)](_0x13d76e)[_0x362936(0xa0)](_0x5bfd64),_0xef163e={'url':_0x49c6d4[_0x362936(0xb9)],'expiry':new Date(_0x49c6d4[_0x362936(0x80)]),'isCancelled':![]};return _0xef163e;});}constructor(_0x2fcf52,_0x305e92,_0x4beccf,_0x390214={}){const _0x262dd0=a0_0x35ef21;this['DEFAULT_FILE_SIZE']=0x5*0x400*0x400,this['client']=_0x2fcf52;if(!_0x305e92[_0x262dd0(0xb6)])throw new GraphClientError(_0x262dd0(0x9b));else this[_0x262dd0(0x92)]=_0x305e92;this[_0x262dd0(0x92)]=_0x305e92,!_0x390214[_0x262dd0(0x8f)]&&(_0x390214[_0x262dd0(0x8f)]=this[_0x262dd0(0xb8)]),this[_0x262dd0(0xa2)]=_0x390214,this[_0x262dd0(0xb7)]=_0x4beccf,this[_0x262dd0(0xa8)]=new Range(0x0,this[_0x262dd0(0xa2)]['rangeSize']-0x1);}[a0_0x35ef21(0xa9)](_0x3c77ac){const _0x368d94=a0_0x35ef21,_0xb401ab=_0x3c77ac[0x0];if(typeof _0xb401ab===_0x368d94(0x93)||_0xb401ab==='')return new Range();const _0x30e4b4=_0xb401ab[_0x368d94(0xaf)]('-'),_0x59bf25=parseInt(_0x30e4b4[0x0],0xa);let _0x5defb6=parseInt(_0x30e4b4[0x1],0xa);return Number['isNaN'](_0x5defb6)&&(_0x5defb6=this[_0x368d94(0x92)]['size']-0x1),new Range(_0x59bf25,_0x5defb6);}[a0_0x35ef21(0xaa)](_0x146fac){const _0x1d551a=a0_0x35ef21;this[_0x1d551a(0xb7)]['expiry']=new Date(_0x146fac[_0x1d551a(0x80)]),this[_0x1d551a(0xa8)]=this[_0x1d551a(0xa9)](_0x146fac[_0x1d551a(0xba)]);}[a0_0x35ef21(0xb3)](){const _0x500e29=a0_0x35ef21;if(this[_0x500e29(0xa8)][_0x500e29(0x98)]===-0x1)return this[_0x500e29(0xa8)];const _0x4f0d6f=this[_0x500e29(0xa8)][_0x500e29(0x98)];let _0x4e6a59=_0x4f0d6f+this['options'][_0x500e29(0x8f)]-0x1;return _0x4e6a59>=this[_0x500e29(0x92)][_0x500e29(0xb5)]&&(_0x4e6a59=this[_0x500e29(0x92)][_0x500e29(0xb5)]-0x1),new Range(_0x4f0d6f,_0x4e6a59);}[a0_0x35ef21(0xb6)](_0x1d813d){const _0x438396=a0_0x35ef21;console[_0x438396(0x94)]('The\x20LargeFileUploadTask.sliceFile()\x20function\x20has\x20been\x20deprecated\x20and\x20moved\x20into\x20the\x20FileObject\x20interface.');if(this['file'][_0x438396(0xa5)]instanceof ArrayBuffer||this[_0x438396(0x92)][_0x438396(0xa5)]instanceof Blob||this['file'][_0x438396(0xa5)]instanceof Uint8Array)return this[_0x438396(0x92)]['content'][_0x438396(0x97)](_0x1d813d['minValue'],_0x1d813d[_0x438396(0x87)]+0x1);throw new GraphClientError('The\x20LargeFileUploadTask.sliceFile()\x20function\x20expects\x20only\x20Blob,\x20ArrayBuffer\x20or\x20Uint8Array\x20file\x20content.\x20Please\x20note\x20that\x20the\x20sliceFile()\x20function\x20is\x20deprecated.');}[a0_0x35ef21(0xae)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3b27e3=a0_0x3eb7,_0x4c4a80=this[_0x3b27e3(0xa2)]&&this[_0x3b27e3(0xa2)][_0x3b27e3(0xa6)];while(!this[_0x3b27e3(0xb7)][_0x3b27e3(0x84)]){const _0x504b8e=this['getNextRange']();if(_0x504b8e['maxValue']===-0x1){const _0x464a07=new Error(_0x3b27e3(0xa1));_0x464a07[_0x3b27e3(0x9d)]='Invalid\x20Session';throw _0x464a07;}const _0x2b8580=yield this[_0x3b27e3(0x92)][_0x3b27e3(0xb6)](_0x504b8e),_0x56ebb0=yield this[_0x3b27e3(0x8b)](_0x2b8580,_0x504b8e,this[_0x3b27e3(0x92)][_0x3b27e3(0xb5)]);if(!_0x56ebb0)throw new GraphClientError(_0x3b27e3(0x8d));const _0x4bcfbe=yield GraphResponseHandler[_0x3b27e3(0x7f)](_0x56ebb0);if(_0x56ebb0[_0x3b27e3(0xb1)]===0xc9||_0x56ebb0['status']===0xc8&&_0x4bcfbe['id'])return this[_0x3b27e3(0x89)](_0x4c4a80,_0x504b8e),UploadResult[_0x3b27e3(0x9c)](_0x4bcfbe,_0x56ebb0[_0x3b27e3(0xab)]);const _0x22333e={'expirationDateTime':_0x4bcfbe['expirationDateTime']||_0x4bcfbe[_0x3b27e3(0x83)],'nextExpectedRanges':_0x4bcfbe[_0x3b27e3(0xa4)]||_0x4bcfbe[_0x3b27e3(0xba)]};this[_0x3b27e3(0xaa)](_0x22333e),this[_0x3b27e3(0x89)](_0x4c4a80,_0x504b8e);}});}[a0_0x35ef21(0x89)](_0x2972f8,_0x2a9f04){const _0x5b1120=a0_0x35ef21;_0x2972f8&&_0x2972f8[_0x5b1120(0x81)]&&_0x2972f8['progress'](_0x2a9f04,_0x2972f8[_0x5b1120(0x85)]);}[a0_0x35ef21(0x8e)](_0x56b90e,_0x5da652,_0x23b8ad){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3e7258=a0_0x3eb7;return yield this[_0x3e7258(0xbb)]['api'](this['uploadSession'][_0x3e7258(0xad)])[_0x3e7258(0xab)]({'Content-Length':''+(_0x5da652[_0x3e7258(0x87)]-_0x5da652[_0x3e7258(0x98)]+0x1),'Content-Range':_0x3e7258(0x82)+_0x5da652[_0x3e7258(0x98)]+'-'+_0x5da652[_0x3e7258(0x87)]+'/'+_0x23b8ad,'Content-Type':_0x3e7258(0xb0)})[_0x3e7258(0xb4)](_0x56b90e);});}[a0_0x35ef21(0x8b)](_0x22f352,_0x1a3530,_0x2d4647){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x14f8c5=a0_0x3eb7;return yield this[_0x14f8c5(0xbb)][_0x14f8c5(0xac)](this[_0x14f8c5(0xb7)][_0x14f8c5(0xad)])[_0x14f8c5(0xab)]({'Content-Length':''+(_0x1a3530[_0x14f8c5(0x87)]-_0x1a3530[_0x14f8c5(0x98)]+0x1),'Content-Range':'bytes\x20'+_0x1a3530[_0x14f8c5(0x98)]+'-'+_0x1a3530[_0x14f8c5(0x87)]+'/'+_0x2d4647,'Content-Type':_0x14f8c5(0xb0)})[_0x14f8c5(0x8a)](ResponseType[_0x14f8c5(0x86)])['put'](_0x22f352);});}[a0_0x35ef21(0xa3)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x319906=a0_0x3eb7,_0x22cbab=yield this[_0x319906(0xbb)][_0x319906(0xac)](this[_0x319906(0xb7)][_0x319906(0xad)])[_0x319906(0x8a)](ResponseType[_0x319906(0x86)])['delete']();return _0x22cbab[_0x319906(0xb1)]===0xcc&&(this[_0x319906(0xb7)][_0x319906(0x84)]=!![]),_0x22cbab;});}[a0_0x35ef21(0x9e)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3a29dc=a0_0x3eb7,_0x4c8597=yield this[_0x3a29dc(0xbb)][_0x3a29dc(0xac)](this[_0x3a29dc(0xb7)]['url'])['get']();return this['updateTaskStatus'](_0x4c8597),_0x4c8597;});}['resume'](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1c9056=a0_0x3eb7;return yield this['getStatus'](),yield this[_0x1c9056(0xae)]();});}['getUploadSession'](){const _0x54e013=a0_0x35ef21;return this[_0x54e013(0xb7)];}}