'use strict';function a0_0x3376(_0x241402,_0x4c84ed){var _0x11ca33=a0_0x11ca();return a0_0x3376=function(_0x3376c4,_0x242250){_0x3376c4=_0x3376c4-0x1e2;var _0x11b368=_0x11ca33[_0x3376c4];return _0x11b368;},a0_0x3376(_0x241402,_0x4c84ed);}var a0_0x6398f5=a0_0x3376;(function(_0x328f3b,_0x56abc5){var _0x5ad338=a0_0x3376,_0x5b515d=_0x328f3b();while(!![]){try{var _0x462e33=-parseInt(_0x5ad338(0x20c))/0x1*(-parseInt(_0x5ad338(0x1fc))/0x2)+parseInt(_0x5ad338(0x1e7))/0x3+-parseInt(_0x5ad338(0x1e6))/0x4+parseInt(_0x5ad338(0x20a))/0x5+-parseInt(_0x5ad338(0x1e5))/0x6+parseInt(_0x5ad338(0x1f9))/0x7+-parseInt(_0x5ad338(0x1fb))/0x8;if(_0x462e33===_0x56abc5)break;else _0x5b515d['push'](_0x5b515d['shift']());}catch(_0x207999){_0x5b515d['push'](_0x5b515d['shift']());}}}(a0_0x11ca,0x1ade5));Object['defineProperty'](exports,a0_0x6398f5(0x21c),{'value':!![]}),exports[a0_0x6398f5(0x1eb)]=void 0x0;var tslib_1=require('tslib'),MiddlewareControl_1=require(a0_0x6398f5(0x1f6)),MiddlewareUtil_1=require(a0_0x6398f5(0x1f3)),ChaosHandlerData_1=require(a0_0x6398f5(0x1e3)),ChaosHandlerOptions_1=require('./options/ChaosHandlerOptions'),ChaosStrategy_1=require('./options/ChaosStrategy'),ChaosHandler=(function(){var _0x3d54d2=a0_0x6398f5;function _0x51f563(_0x54140f,_0x11fafc){var _0xd1298c=a0_0x3376;_0x54140f===void 0x0&&(_0x54140f=new ChaosHandlerOptions_1['ChaosHandlerOptions']()),this[_0xd1298c(0x208)]=_0x54140f,this[_0xd1298c(0x1ea)]=_0x11fafc;}return _0x51f563[_0x3d54d2(0x218)][_0x3d54d2(0x1ee)]=function(_0x21a3b2,_0x342a66,_0x4f81fc){var _0xd29d8a=_0x3d54d2,_0x53ef7b=_0x21a3b2[_0xd29d8a(0x1f0)]?new Headers(_0x21a3b2['headers']):new Headers();return _0x53ef7b[_0xd29d8a(0x205)](_0xd29d8a(0x1ff),_0xd29d8a(0x1f4)),_0x53ef7b['append'](_0xd29d8a(0x1fe),_0x342a66),_0x53ef7b[_0xd29d8a(0x205)](_0xd29d8a(0x215),_0x342a66),_0x53ef7b['append'](_0xd29d8a(0x216),''),_0x53ef7b['append'](_0xd29d8a(0x1f1),_0x4f81fc),_0x53ef7b[_0xd29d8a(0x205)](_0xd29d8a(0x21e),''),_0x21a3b2[_0xd29d8a(0x1ec)]===0x1ad&&_0x53ef7b['append'](_0xd29d8a(0x21f),'3'),_0x53ef7b;},_0x51f563[_0x3d54d2(0x218)][_0x3d54d2(0x210)]=function(_0x3a60da,_0x227cfc,_0x1d76e9){var _0x5ac6d1=_0x3d54d2;if(_0x3a60da[_0x5ac6d1(0x211)])return _0x3a60da[_0x5ac6d1(0x211)];var _0x395284;if(_0x3a60da['statusCode']>=0x190){var _0x4905ab=ChaosHandlerData_1['httpStatusCode'][_0x3a60da['statusCode']],_0x4eb1d3=_0x3a60da['statusMessage'];_0x395284={'error':{'code':_0x4905ab,'message':_0x4eb1d3,'innerError':{'request-id':_0x227cfc,'date':_0x1d76e9}}};}else _0x395284={};return _0x395284;},_0x51f563[_0x3d54d2(0x218)][_0x3d54d2(0x1e4)]=function(_0x3d040e,_0x3f3ebb){var _0x27e8a0=_0x3d54d2,_0x47f47f=_0x3f3ebb[_0x27e8a0(0x1f7)],_0x25f689=(0x0,MiddlewareUtil_1[_0x27e8a0(0x217)])(),_0x29ba2e=new Date(),_0x26f920=this['createResponseHeaders'](_0x3d040e,_0x25f689,_0x29ba2e['toString']()),_0x423659=this[_0x27e8a0(0x210)](_0x3d040e,_0x25f689,_0x29ba2e['toString']()),_0x4bd2b3={'url':_0x47f47f,'status':_0x3d040e[_0x27e8a0(0x1ec)],'statusText':_0x3d040e[_0x27e8a0(0x204)],'headers':_0x26f920};_0x3f3ebb[_0x27e8a0(0x1f2)]=new Response(typeof _0x423659===_0x27e8a0(0x20f)?_0x423659:JSON[_0x27e8a0(0x1fd)](_0x423659),_0x4bd2b3);},_0x51f563[_0x3d54d2(0x218)][_0x3d54d2(0x219)]=function(_0x17be4d,_0x56864e){var _0x1371d4=_0x3d54d2;return tslib_1[_0x1371d4(0x213)](this,void 0x0,void 0x0,function(){return tslib_1['__generator'](this,function(_0x357c4a){var _0x168a62=a0_0x3376;switch(_0x357c4a[_0x168a62(0x1e8)]){case 0x0:this[_0x168a62(0x201)](_0x17be4d,_0x56864e[_0x168a62(0x1f7)],_0x56864e['options']['method']);if(!(_0x17be4d[_0x168a62(0x20b)]===ChaosStrategy_1[_0x168a62(0x21b)][_0x168a62(0x209)]&&!this['nextMiddleware']||Math['floor'](Math['random']()*0x64)<_0x17be4d['chaosPercentage']))return[0x3,0x1];this[_0x168a62(0x1e4)](_0x17be4d,_0x56864e);return[0x3,0x3];case 0x1:if(!this[_0x168a62(0x21a)])return[0x3,0x3];return[0x4,this['nextMiddleware']['execute'](_0x56864e)];case 0x2:_0x357c4a[_0x168a62(0x20e)](),_0x357c4a['label']=0x3;case 0x3:return[0x2];}});});},_0x51f563[_0x3d54d2(0x218)][_0x3d54d2(0x1ef)]=function(_0x205b3b){var _0x3ec8a8=_0x3d54d2,_0x35f0eb=ChaosHandlerData_1[_0x3ec8a8(0x207)][_0x205b3b];return _0x35f0eb[Math[_0x3ec8a8(0x203)](Math[_0x3ec8a8(0x1fa)]()*_0x35f0eb['length'])];},_0x51f563[_0x3d54d2(0x218)][_0x3d54d2(0x1e2)]=function(_0x294ad4){var _0x41b1a3=_0x3d54d2,_0xf723b7=/https?:\/\/graph\.microsoft\.com\/[^/]+(.+?)(\?|$)/,_0x5a96c6;return _0xf723b7['exec'](_0x294ad4)!==null&&(_0x5a96c6=_0xf723b7[_0x41b1a3(0x212)](_0x294ad4)[0x1]),_0x5a96c6;},_0x51f563[_0x3d54d2(0x218)][_0x3d54d2(0x201)]=function(_0x148c8b,_0x49037c,_0x141e9a){var _0x4cd7bd=_0x3d54d2,_0x342771=this;if(_0x148c8b['chaosStrategy']===ChaosStrategy_1[_0x4cd7bd(0x21b)][_0x4cd7bd(0x209)]){if(_0x148c8b[_0x4cd7bd(0x1ec)]===undefined){var _0x250b44=this[_0x4cd7bd(0x1e2)](_0x49037c);this[_0x4cd7bd(0x1ea)]['get'](_0x250b44)!==undefined?this[_0x4cd7bd(0x1ea)][_0x4cd7bd(0x214)](_0x250b44)[_0x4cd7bd(0x214)](_0x141e9a)!==undefined&&(_0x148c8b[_0x4cd7bd(0x1ec)]=this['manualMap'][_0x4cd7bd(0x214)](_0x250b44)['get'](_0x141e9a)):this[_0x4cd7bd(0x1ea)][_0x4cd7bd(0x1e9)](function(_0x2f0e33,_0x5c8de5){var _0x462892=_0x4cd7bd,_0x262769=new RegExp(_0x5c8de5+'$');_0x262769['test'](_0x250b44)&&(_0x342771[_0x462892(0x1ea)][_0x462892(0x214)](_0x5c8de5)['get'](_0x141e9a)!==undefined&&(_0x148c8b[_0x462892(0x1ec)]=_0x342771[_0x462892(0x1ea)][_0x462892(0x214)](_0x5c8de5)[_0x462892(0x214)](_0x141e9a)));});}}else _0x148c8b['statusCode']=this['getRandomStatusCode'](_0x141e9a);},_0x51f563['prototype'][_0x3d54d2(0x206)]=function(_0x1645f9){var _0x4afeab=_0x3d54d2,_0x520328;return _0x1645f9['middlewareControl']instanceof MiddlewareControl_1[_0x4afeab(0x1ed)]&&(_0x520328=_0x1645f9[_0x4afeab(0x202)]['getMiddlewareOptions'](ChaosHandlerOptions_1[_0x4afeab(0x1f8)])),typeof _0x520328==='undefined'&&(_0x520328=Object[_0x4afeab(0x1f5)](new ChaosHandlerOptions_1['ChaosHandlerOptions'](),this[_0x4afeab(0x208)])),_0x520328;},_0x51f563[_0x3d54d2(0x218)][_0x3d54d2(0x21d)]=function(_0x18a263){var _0x30c0e4=_0x3d54d2;return tslib_1[_0x30c0e4(0x213)](this,void 0x0,void 0x0,function(){var _0x315cd6=_0x30c0e4,_0x14809d;return tslib_1[_0x315cd6(0x20d)](this,function(_0x276977){var _0x62c897=_0x315cd6;switch(_0x276977[_0x62c897(0x1e8)]){case 0x0:_0x14809d=this[_0x62c897(0x206)](_0x18a263);return[0x4,this[_0x62c897(0x219)](_0x14809d,_0x18a263)];case 0x1:return[0x2,_0x276977['sent']()];}});});},_0x51f563[_0x3d54d2(0x218)][_0x3d54d2(0x200)]=function(_0x2c2afb){var _0x188f6d=_0x3d54d2;this[_0x188f6d(0x21a)]=_0x2c2afb;},_0x51f563;}());exports[a0_0x6398f5(0x1eb)]=ChaosHandler;function a0_0x11ca(){var _0x5e944c=['statusCode','MiddlewareControl','createResponseHeaders','getRandomStatusCode','headers','Date','response','./MiddlewareUtil','no-store','assign','./MiddlewareControl','request','ChaosHandlerOptions','678034LBpZUc','random','935960kIJpfH','10PyMpTe','stringify','request-id','Cache-Control','setNext','setStatusCode','middlewareControl','floor','statusMessage','append','getOptions','methodStatusCode','options','MANUAL','133635ymShwj','chaosStrategy','6587hxkYDt','__generator','sent','string','createResponseBody','responseBody','exec','__awaiter','get','client-request-id','x-ms-ags-diagnostic','generateUUID','prototype','sendRequest','nextMiddleware','ChaosStrategy','__esModule','execute','Strict-Transport-Security','retry-after','getRelativeURL','./options/ChaosHandlerData','createResponse','79704DOuVHf','198460cdrgqK','400269bQrzbC','label','forEach','manualMap','ChaosHandler'];a0_0x11ca=function(){return _0x5e944c;};return a0_0x11ca();}