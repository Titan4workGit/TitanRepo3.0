'use strict';var a0_0x42b94f=a0_0x4576;function a0_0x4576(_0x1bb2f5,_0xb0bacd){var _0x4b9583=a0_0x4b95();return a0_0x4576=function(_0x457645,_0x1928ec){_0x457645=_0x457645-0x166;var _0x22246d=_0x4b9583[_0x457645];return _0x22246d;},a0_0x4576(_0x1bb2f5,_0xb0bacd);}(function(_0x577282,_0x1b0490){var _0x3a50a3=a0_0x4576,_0x15532b=_0x577282();while(!![]){try{var _0xf630b2=parseInt(_0x3a50a3(0x1a4))/0x1+parseInt(_0x3a50a3(0x183))/0x2+parseInt(_0x3a50a3(0x17e))/0x3+-parseInt(_0x3a50a3(0x17c))/0x4*(parseInt(_0x3a50a3(0x174))/0x5)+parseInt(_0x3a50a3(0x181))/0x6*(parseInt(_0x3a50a3(0x178))/0x7)+-parseInt(_0x3a50a3(0x179))/0x8*(parseInt(_0x3a50a3(0x197))/0x9)+parseInt(_0x3a50a3(0x18d))/0xa;if(_0xf630b2===_0x1b0490)break;else _0x15532b['push'](_0x15532b['shift']());}catch(_0x5f01fb){_0x15532b['push'](_0x15532b['shift']());}}}(a0_0x4b95,0x42a9b));Object[a0_0x42b94f(0x195)](exports,a0_0x42b94f(0x198),{'value':!![]}),exports[a0_0x42b94f(0x188)]=void 0x0;var tslib_1=require('tslib'),MiddlewareControl_1=require('./MiddlewareControl'),MiddlewareUtil_1=require(a0_0x42b94f(0x18e)),ChaosHandlerData_1=require(a0_0x42b94f(0x19a)),ChaosHandlerOptions_1=require(a0_0x42b94f(0x19d)),ChaosStrategy_1=require(a0_0x42b94f(0x1a0)),ChaosHandler=(function(){var _0x2acec1=a0_0x42b94f;function _0x39074e(_0x3140e2,_0x2f5865){var _0x17ee06=a0_0x4576;_0x3140e2===void 0x0&&(_0x3140e2=new ChaosHandlerOptions_1['ChaosHandlerOptions']()),this[_0x17ee06(0x169)]=_0x3140e2,this[_0x17ee06(0x187)]=_0x2f5865;}return _0x39074e[_0x2acec1(0x189)][_0x2acec1(0x177)]=function(_0x1c2f7d,_0x218481,_0x3e274){var _0x40323b=_0x2acec1,_0x2ee392=_0x1c2f7d[_0x40323b(0x185)]?new Headers(_0x1c2f7d[_0x40323b(0x185)]):new Headers();return _0x2ee392[_0x40323b(0x17a)](_0x40323b(0x16c),'no-store'),_0x2ee392[_0x40323b(0x17a)]('request-id',_0x218481),_0x2ee392['append'](_0x40323b(0x171),_0x218481),_0x2ee392[_0x40323b(0x17a)](_0x40323b(0x190),''),_0x2ee392['append'](_0x40323b(0x173),_0x3e274),_0x2ee392[_0x40323b(0x17a)](_0x40323b(0x18f),''),_0x1c2f7d[_0x40323b(0x18c)]===0x1ad&&_0x2ee392['append'](_0x40323b(0x16f),'3'),_0x2ee392;},_0x39074e[_0x2acec1(0x189)][_0x2acec1(0x19b)]=function(_0x30a74e,_0x4624eb,_0x16d02e){var _0x421021=_0x2acec1;if(_0x30a74e[_0x421021(0x186)])return _0x30a74e[_0x421021(0x186)];var _0x591e4d;if(_0x30a74e[_0x421021(0x18c)]>=0x190){var _0x14dc7e=ChaosHandlerData_1[_0x421021(0x196)][_0x30a74e[_0x421021(0x18c)]],_0x20db0c=_0x30a74e['statusMessage'];_0x591e4d={'error':{'code':_0x14dc7e,'message':_0x20db0c,'innerError':{'request-id':_0x4624eb,'date':_0x16d02e}}};}else _0x591e4d={};return _0x591e4d;},_0x39074e[_0x2acec1(0x189)][_0x2acec1(0x199)]=function(_0x2c6ec8,_0x464538){var _0x59d285=_0x2acec1,_0x58e8d1=_0x464538['request'],_0x29a7e9=(0x0,MiddlewareUtil_1[_0x59d285(0x193)])(),_0xe7fa2e=new Date(),_0x48db24=this[_0x59d285(0x177)](_0x2c6ec8,_0x29a7e9,_0xe7fa2e['toString']()),_0x414061=this[_0x59d285(0x19b)](_0x2c6ec8,_0x29a7e9,_0xe7fa2e[_0x59d285(0x172)]()),_0x4726a0={'url':_0x58e8d1,'status':_0x2c6ec8['statusCode'],'statusText':_0x2c6ec8[_0x59d285(0x167)],'headers':_0x48db24};_0x464538[_0x59d285(0x16e)]=new Response(typeof _0x414061==='string'?_0x414061:JSON[_0x59d285(0x192)](_0x414061),_0x4726a0);},_0x39074e[_0x2acec1(0x189)]['sendRequest']=function(_0x4e44fd,_0x2fcfa3){var _0x425b79=_0x2acec1;return tslib_1[_0x425b79(0x17d)](this,void 0x0,void 0x0,function(){return tslib_1['__generator'](this,function(_0x51385f){var _0x366bdd=a0_0x4576;switch(_0x51385f[_0x366bdd(0x16d)]){case 0x0:this[_0x366bdd(0x16b)](_0x4e44fd,_0x2fcfa3['request'],_0x2fcfa3[_0x366bdd(0x169)][_0x366bdd(0x18a)]);if(!(_0x4e44fd[_0x366bdd(0x180)]===ChaosStrategy_1[_0x366bdd(0x175)][_0x366bdd(0x18b)]&&!this['nextMiddleware']||Math['floor'](Math[_0x366bdd(0x19c)]()*0x64)<_0x4e44fd[_0x366bdd(0x17f)]))return[0x3,0x1];this[_0x366bdd(0x199)](_0x4e44fd,_0x2fcfa3);return[0x3,0x3];case 0x1:if(!this[_0x366bdd(0x170)])return[0x3,0x3];return[0x4,this['nextMiddleware'][_0x366bdd(0x191)](_0x2fcfa3)];case 0x2:_0x51385f[_0x366bdd(0x16a)](),_0x51385f[_0x366bdd(0x16d)]=0x3;case 0x3:return[0x2];}});});},_0x39074e[_0x2acec1(0x189)]['getRandomStatusCode']=function(_0x306b8b){var _0x4554f8=_0x2acec1,_0x30c2de=ChaosHandlerData_1[_0x4554f8(0x184)][_0x306b8b];return _0x30c2de[Math[_0x4554f8(0x182)](Math[_0x4554f8(0x19c)]()*_0x30c2de[_0x4554f8(0x1a2)])];},_0x39074e[_0x2acec1(0x189)][_0x2acec1(0x1a6)]=function(_0x5c6355){var _0x5c59b7=_0x2acec1,_0x10279e=/https?:\/\/graph\.microsoft\.com\/[^/]+(.+?)(\?|$)/,_0x5ea7ea;return _0x10279e[_0x5c59b7(0x194)](_0x5c6355)!==null&&(_0x5ea7ea=_0x10279e[_0x5c59b7(0x194)](_0x5c6355)[0x1]),_0x5ea7ea;},_0x39074e['prototype']['setStatusCode']=function(_0x513db8,_0x1c8e44,_0x36b48d){var _0x1ad34f=_0x2acec1,_0x1126a5=this;if(_0x513db8[_0x1ad34f(0x180)]===ChaosStrategy_1['ChaosStrategy'][_0x1ad34f(0x18b)]){if(_0x513db8[_0x1ad34f(0x18c)]===undefined){var _0x102f88=this['getRelativeURL'](_0x1c8e44);this[_0x1ad34f(0x187)][_0x1ad34f(0x176)](_0x102f88)!==undefined?this['manualMap'][_0x1ad34f(0x176)](_0x102f88)[_0x1ad34f(0x176)](_0x36b48d)!==undefined&&(_0x513db8[_0x1ad34f(0x18c)]=this[_0x1ad34f(0x187)][_0x1ad34f(0x176)](_0x102f88)['get'](_0x36b48d)):this['manualMap'][_0x1ad34f(0x1a1)](function(_0x3615e8,_0x514250){var _0x56758b=_0x1ad34f,_0xb79524=new RegExp(_0x514250+'$');_0xb79524[_0x56758b(0x168)](_0x102f88)&&(_0x1126a5['manualMap'][_0x56758b(0x176)](_0x514250)[_0x56758b(0x176)](_0x36b48d)!==undefined&&(_0x513db8['statusCode']=_0x1126a5['manualMap'][_0x56758b(0x176)](_0x514250)[_0x56758b(0x176)](_0x36b48d)));});}}else _0x513db8[_0x1ad34f(0x18c)]=this[_0x1ad34f(0x17b)](_0x36b48d);},_0x39074e['prototype'][_0x2acec1(0x1a3)]=function(_0x2542a3){var _0x4e5730=_0x2acec1,_0x3ec153;return _0x2542a3['middlewareControl']instanceof MiddlewareControl_1[_0x4e5730(0x166)]&&(_0x3ec153=_0x2542a3['middlewareControl']['getMiddlewareOptions'](ChaosHandlerOptions_1['ChaosHandlerOptions'])),typeof _0x3ec153==='undefined'&&(_0x3ec153=Object['assign'](new ChaosHandlerOptions_1[(_0x4e5730(0x19f))](),this[_0x4e5730(0x169)])),_0x3ec153;},_0x39074e[_0x2acec1(0x189)][_0x2acec1(0x191)]=function(_0x460972){var _0x1c8340=_0x2acec1;return tslib_1[_0x1c8340(0x17d)](this,void 0x0,void 0x0,function(){var _0x460363=_0x1c8340,_0x4d5d01;return tslib_1[_0x460363(0x1a5)](this,function(_0x5b005f){var _0x56be2b=_0x460363;switch(_0x5b005f[_0x56be2b(0x16d)]){case 0x0:_0x4d5d01=this['getOptions'](_0x460972);return[0x4,this['sendRequest'](_0x4d5d01,_0x460972)];case 0x1:return[0x2,_0x5b005f[_0x56be2b(0x16a)]()];}});});},_0x39074e[_0x2acec1(0x189)][_0x2acec1(0x19e)]=function(_0x5e37af){var _0x4d6c39=_0x2acec1;this[_0x4d6c39(0x170)]=_0x5e37af;},_0x39074e;}());exports[a0_0x42b94f(0x188)]=ChaosHandler;function a0_0x4b95(){var _0x4229f2=['toString','Date','115exoPSM','ChaosStrategy','get','createResponseHeaders','1906835fzOkFL','525464PHbySN','append','getRandomStatusCode','89944PwyWOj','__awaiter','577815JmunSd','chaosPercentage','chaosStrategy','6pEYjiO','floor','971254TLdFVU','methodStatusCode','headers','responseBody','manualMap','ChaosHandler','prototype','method','MANUAL','statusCode','1161800svUCMq','./MiddlewareUtil','Strict-Transport-Security','x-ms-ags-diagnostic','execute','stringify','generateUUID','exec','defineProperty','httpStatusCode','45XUpqjZ','__esModule','createResponse','./options/ChaosHandlerData','createResponseBody','random','./options/ChaosHandlerOptions','setNext','ChaosHandlerOptions','./options/ChaosStrategy','forEach','length','getOptions','51827PbQSSz','__generator','getRelativeURL','MiddlewareControl','statusMessage','test','options','sent','setStatusCode','Cache-Control','label','response','retry-after','nextMiddleware','client-request-id'];a0_0x4b95=function(){return _0x4229f2;};return a0_0x4b95();}