var a0_0x3ac467=a0_0x49c4;(function(_0x18a9ed,_0x403b39){var _0x2d8759=a0_0x49c4,_0x382f39=_0x18a9ed();while(!![]){try{var _0x3f5f44=-parseInt(_0x2d8759(0x224))/0x1*(-parseInt(_0x2d8759(0x1ff))/0x2)+parseInt(_0x2d8759(0x1e5))/0x3+parseInt(_0x2d8759(0x201))/0x4*(-parseInt(_0x2d8759(0x228))/0x5)+parseInt(_0x2d8759(0x1f0))/0x6*(parseInt(_0x2d8759(0x21b))/0x7)+-parseInt(_0x2d8759(0x23a))/0x8*(-parseInt(_0x2d8759(0x1fd))/0x9)+-parseInt(_0x2d8759(0x1dd))/0xa+-parseInt(_0x2d8759(0x1d4))/0xb*(parseInt(_0x2d8759(0x1f8))/0xc);if(_0x3f5f44===_0x403b39)break;else _0x382f39['push'](_0x382f39['shift']());}catch(_0x33bd28){_0x382f39['push'](_0x382f39['shift']());}}}(a0_0x5cdb,0x2c439));function a0_0x5cdb(){var _0x3663a3=['</tr>','split','webAbsoluteUrl','append','when','input[id^=\x27chkItemStatus_\x27]','click','indexOf','resolve','html','<td><span\x20class=\x22action-edit-button\x22><a\x20onclick=OpenUpdateModalPopup(\x22','error','#txtCategory','../Pages/AddKnowledge.aspx?WebAppId=232&DepartmentId=','#myModal','#categoryListItems','ajaxSetup','152yoGsjB','attr','application/json;odata=verbose','#txtSomethingWentWrong','Error\x20in\x20Category\x20Topic.','KnowledgeBaseCategory','Knowledge','done','\x22)><i\x20class=\x22fa\x20fa-edit\x22></i></a></span>','6677bKqQNa','\x22\x20type=\x22checkbox\x22\x20','<th\x20bgcolor=\x22efefef\x22\x20data-localize=\x22Published\x22>Published</th>','DepartmentId','<span\x20class=\x22action-delete-button\x22><a\x20onclick=DeleteItemCategory(\x22','Are\x20you\x20sure,You\x20want\x20to\x20delete\x20this\x20category\x20?','<th\x20bgcolor=\x22efefef\x22\x20data-localize=\x22Category\x22>Category</th>','Departments','<td><a\x20style=\x22cursor:pointer\x22\x20onclick=\x22RedirectOnCategoryTopics(','1826510PsPOrM','log','<thead>','Category\x20has\x20been\x20added\x20successfully.','remove','Category\x20has\x20been\x20updated\x20successfully.','prop','ready','818571IedLZm','&$filter=Status\x20eq\x20\x271\x27','slice','promise','Please\x20enter\x20category.','stringify','hide','href','</td>','</table>','push','6xRcJdE','<input\x20id=\x22chkItemStatus_','show','#btnAddNewTopic','SP.Data.','fail','</thead>','reject','132CxLdka','<a></td>','modal','#__REQUESTDIGEST','POST','25983UawXBq','length','13626PuIBcz','val','11252AyxVeE','ajax','ID,Modified,Status,Title&$filter=Title\x20eq\x20\x27','checked','<th\x20bgcolor=\x22efefef\x22\x20data-localize=\x22Action\x22>Action</th>','\x27\x20and\x20ID\x20ne\x20\x27','/_api/web/lists/getbytitle(\x27Departments\x27)/items?$select=ID,SiteURL,DepartmentName&$filter=ID\x20eq\x20\x27','results','trim','DELETE','PendingCounter','Deferred','&topiccategoryid=','change','location','#btnAddCateg','<tr>','Description','<td></td>',')\x22>','/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items(','PATCH','CompanyId','PublishedCounter','webPartName','DepartmentName','1735741AkbgZF','toUpperCase','userId','&undefined=undefined','/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items?$select=','/_api/web/lists/getbytitle(\x27','../Pages/Topics.aspx?WebAppId=232&DepartmentId=','#deptName','</tbody>','5IMxuwe','\x22)><i\x20class=\x22fa\x20fa-trash\x22></i></a></span>','<td>','\x22,\x22','425eJfuKi'];a0_0x5cdb=function(){return _0x3663a3;};return a0_0x5cdb();}var currentDepartnemtUrls='',categoryId='',departmentID='',isCurrentUserAuthorizedtoKnowledgeAdmin=![];$(document)[a0_0x3ac467(0x1e4)](function(){var _0x882e1b=a0_0x3ac467;userActivityNotificationEntry(_spPageContextInfo[_0x882e1b(0x21d)],window[_0x882e1b(0x20f)]),$[_0x882e1b(0x239)]({'cache':![]}),departmentID=GetParameterValues(_0x882e1b(0x1d7));Logged_DepartmentId==departmentID?$('#btnAddNewTopic')[_0x882e1b(0x1f2)]():$('#btnAddNewTopic')[_0x882e1b(0x1eb)]();var _0xb2346a=titanForWork['getQueryStringParameter'](_0x882e1b(0x217)),_0x14d601=new Array();_0x14d601[_0x882e1b(0x1ef)](_0x882e1b(0x1d1));var _0x18d0ed=UserExistInProcessApprover(_0xb2346a,departmentID,_0x14d601);for(var _0x339eb5=0x0;_0x339eb5<_0x18d0ed[_0x882e1b(0x1fe)];_0x339eb5++){_0x18d0ed[_0x339eb5][_0x882e1b(0x219)]==_0x882e1b(0x1d1)&&(isCurrentUserAuthorizedtoKnowledgeAdmin=!![]);}InitializationComponents(),$(_0x882e1b(0x210))[_0x882e1b(0x22f)](function(){var _0x5ed030=_0x882e1b;$(_0x5ed030(0x235))['val'](''),$(_0x5ed030(0x237))[_0x5ed030(0x1fa)](_0x5ed030(0x1f2));}),$('#btnAddUpdateCategory')[_0x882e1b(0x22f)](function(){var _0x152953=_0x882e1b,_0x23b2aa=$('#txtCategory')[_0x152953(0x200)]()[_0x152953(0x209)]();if(_0x23b2aa!=''&&_0x23b2aa!=null){var _0x1d6c76=categoryId;CategoryNameValidation(_0x23b2aa,_0x1d6c76)==0x0?_0x1d6c76==''||_0x1d6c76==null?AddNewCategory():UpdateCategory(_0x1d6c76):alert('Category\x20name\x20is\x20already\x20exist.');}else alert(_0x152953(0x1e9));}),$(_0x882e1b(0x1f3))[_0x882e1b(0x22f)](function(){var _0x36856f=_0x882e1b;departmentID>0x0&&(document['location'][_0x36856f(0x1ec)]=_0x36856f(0x236)+departmentID+'&undefined=undefined');}),isCurrentUserAuthorizedtoKnowledgeAdmin==![]&&$('#btnAddCateg')[_0x882e1b(0x1e1)]();});function InitializationComponents(){var _0x288bf2=a0_0x3ac467;departmentID>0x0&&GetDepartmentUrl(_0x288bf2(0x1db),departmentID);}function BindStatusChangeEvent(){var _0x499fc9=a0_0x3ac467;$(_0x499fc9(0x22e))['unbind']()[_0x499fc9(0x20e)](function(){var _0x131b74=_0x499fc9,_0x27672f=$(this)[_0x131b74(0x23b)]('id'),_0x58054a=_0x27672f[_0x131b74(0x22a)]('_')[0x1];$(this)[_0x131b74(0x1e3)](_0x131b74(0x204))?UpdateCategoryStatus(_0x58054a,!![]):UpdateCategoryStatus(_0x58054a,![]);});}function AddNewCategory(_0x41fa5c){var _0x4e9d98=a0_0x3ac467,_0x1ad2bd=_0x4e9d98(0x1d0),_0x23487f=GetItemTypeForListName(_0x1ad2bd),_0x1015e6;_0x1015e6={'__metadata':{'type':_0x23487f},'Status':!![],'Title':$(_0x4e9d98(0x235))['val']()[_0x4e9d98(0x209)](),'PublishedCounter':'0','PendingCounter':'0','DraftCounter':'0'},$[_0x4e9d98(0x22d)](AddItemToList(_0x1ad2bd,_0x1015e6))[_0x4e9d98(0x1d2)](function(_0x3e8027){var _0x336e63=_0x4e9d98;$(_0x336e63(0x237))['modal'](_0x336e63(0x1eb)),$(_0x336e63(0x235))[_0x336e63(0x200)](''),GetAllCategory(currentDepartnemtUrls),alert(_0x336e63(0x1e0));})['fail'](function(){var _0x47717b=_0x4e9d98;console[_0x47717b(0x1de)](_0x47717b(0x23e));});;}function UpdateCategory(_0x43f399){var _0x3d6d0=a0_0x3ac467,_0x3feae2='KnowledgeBaseCategory',_0xe39536=GetItemTypeForListName(_0x3feae2),_0x324ede;_0x324ede={'__metadata':{'type':_0xe39536},'Title':$(_0x3d6d0(0x235))[_0x3d6d0(0x200)]()[_0x3d6d0(0x209)]()},$['when'](updateItemWithID(_0x3feae2,_0x324ede,_0x43f399))[_0x3d6d0(0x1d2)](function(_0x37d1ee){var _0x5cbf87=_0x3d6d0;$(_0x5cbf87(0x237))[_0x5cbf87(0x1fa)](_0x5cbf87(0x1eb)),$(_0x5cbf87(0x235))[_0x5cbf87(0x200)](''),GetAllCategory(currentDepartnemtUrls),alert(_0x5cbf87(0x1e2));})['fail'](function(){var _0x42fa31=_0x3d6d0;console[_0x42fa31(0x1de)](_0x42fa31(0x23e));});;}function UpdateCategoryStatus(_0x41d20d,_0x11b039){var _0x1b494b=a0_0x3ac467,_0x2b9ea9='KnowledgeBaseCategory',_0x106531=GetItemTypeForListName(_0x2b9ea9),_0x1255cf;_0x1255cf={'__metadata':{'type':_0x106531},'Status':_0x11b039},$[_0x1b494b(0x22d)](updateItemWithID(_0x2b9ea9,_0x1255cf,_0x41d20d))[_0x1b494b(0x1d2)](function(_0x160a96){})[_0x1b494b(0x1f5)](function(){var _0x31612b=_0x1b494b;console[_0x31612b(0x1de)](_0x31612b(0x23e));});;}function CategoryNameValidation(_0x27af7f,_0x5a8a3e){var _0x4dac28=a0_0x3ac467,_0x2420d9=0x0,_0x1c81bb='';_0x5a8a3e==''||_0x5a8a3e==null?_0x1c81bb=_0x4dac28(0x203)+_0x27af7f+'\x27':_0x1c81bb=_0x4dac28(0x203)+_0x27af7f+_0x4dac28(0x206)+_0x5a8a3e+'\x27';var _0xf978a4=currentDepartnemtUrls+_0x4dac28(0x21f)+_0x1c81bb;return $[_0x4dac28(0x202)]({'url':_0xf978a4,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x44a4d9){var _0x1626b1=_0x4dac28,_0x48f2ca=_0x44a4d9['d'][_0x1626b1(0x208)];_0x2420d9=_0x48f2ca[_0x1626b1(0x1fe)];},'eror':function(_0x3ac463){var _0x4c3168=_0x4dac28;console['log'](_0x4c3168(0x234));}}),_0x2420d9;}function GetAllCategory(_0x122c9f){var _0xf0117f=a0_0x3ac467,_0x5e3a55='ID,Modified,Status,Title,PublishedCounter,PendingCounter,DraftCounter&$top=5000&$orderby=Modified\x20desc';isCurrentUserAuthorizedtoKnowledgeAdmin!=!![]&&(_0x5e3a55=_0x5e3a55+_0xf0117f(0x1e6));var _0x5bf73c=_0x122c9f+'/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items?$select='+_0x5e3a55;$[_0xf0117f(0x202)]({'url':_0x5bf73c,'headers':{'Accept':_0xf0117f(0x23c)},'async':![],'success':function(_0x5e4a9f){var _0x6382a8=_0xf0117f,_0x2175d8=_0x5e4a9f['d'][_0x6382a8(0x208)],_0xdf470c='';_0xdf470c+='<table\x20class=\x22table\x20table2\x22>',_0xdf470c+=_0x6382a8(0x1df),_0xdf470c+=_0x6382a8(0x211),_0xdf470c+=_0x6382a8(0x1da),_0xdf470c+=_0x6382a8(0x1d6),_0xdf470c+='<th\x20bgcolor=\x22efefef\x22\x20data-localize=\x22Draft\x22>Draft</th>',_0xdf470c+='<th\x20bgcolor=\x22efefef\x22\x20data-localize=\x22LastUpdated\x22>Last\x20Updated</th>';isCurrentUserAuthorizedtoKnowledgeAdmin==!![]&&(_0xdf470c+='<th\x20bgcolor=\x22efefef\x22\x20data-localize=\x22Status\x22>Status</th>',_0xdf470c+=_0x6382a8(0x205));_0xdf470c+='</tr>',_0xdf470c+=_0x6382a8(0x1f6),_0xdf470c+='<tbody\x20id=\x22listCollection\x22>';for(var _0x56ccb6=0x0;_0x56ccb6<_0x2175d8[_0x6382a8(0x1fe)];_0x56ccb6++){var _0x4f1eb5=_0x2175d8[_0x56ccb6]['Title'],_0xebfe4=_0x2175d8[_0x56ccb6]['Status'],_0x167dfc='';_0xebfe4==!![]&&(_0x167dfc=_0x6382a8(0x204));var _0x3570f3=new Date(_0x2175d8[_0x56ccb6]['Modified']),_0x553c57=_0x2175d8[_0x56ccb6][_0x6382a8(0x218)];_0x553c57==null&&(_0x553c57=0x0);var _0x18cc79=_0x2175d8[_0x56ccb6]['DraftCounter'];_0x18cc79==null&&(_0x18cc79=0x0);var _0x2f91ad=_0x2175d8[_0x56ccb6][_0x6382a8(0x20b)];_0x2f91ad==null&&(_0x2f91ad=0x0);var _0x346173=_0x2175d8[_0x56ccb6][_0x6382a8(0x212)];_0xdf470c+=_0x6382a8(0x211),_0xdf470c+=_0x6382a8(0x1dc)+_0x2175d8[_0x56ccb6]['ID']+_0x6382a8(0x214)+_0x4f1eb5+_0x6382a8(0x1f9),_0xdf470c+=_0x6382a8(0x226)+_0x553c57+_0x6382a8(0x1ed),_0xdf470c+=_0x6382a8(0x226)+_0x18cc79+_0x6382a8(0x1ed),_0x553c57+_0x18cc79+_0x2f91ad==0x0?_0xdf470c+=_0x6382a8(0x213):_0xdf470c+=_0x6382a8(0x226)+ShowCommonDateFormat(_0x3570f3)+_0x6382a8(0x1ed),isCurrentUserAuthorizedtoKnowledgeAdmin==!![]&&(_0xdf470c+='<td>',_0xdf470c+='<label\x20class=\x22switch\x22>',_0xdf470c+=_0x6382a8(0x1f1)+_0x2175d8[_0x56ccb6]['ID']+_0x6382a8(0x1d5)+_0x167dfc+'>',_0xdf470c+='<span\x20class=\x22slider\x20round\x22></span></label></td>',_0xdf470c+=_0x6382a8(0x233)+_0x2175d8[_0x56ccb6]['ID']+_0x6382a8(0x227)+escape(_0x4f1eb5)+_0x6382a8(0x1d3),_0x553c57+_0x18cc79+_0x2f91ad==0x0&&(_0xdf470c+=_0x6382a8(0x1d8)+_0x2175d8[_0x56ccb6]['ID']+_0x6382a8(0x225)),_0xdf470c+='</td>'),_0xdf470c+=_0x6382a8(0x229);}_0xdf470c+=_0x6382a8(0x223),_0xdf470c+=_0x6382a8(0x1ee),$(_0x6382a8(0x238))[_0x6382a8(0x232)](''),$(_0x6382a8(0x238))[_0x6382a8(0x22c)](_0xdf470c),BindStatusChangeEvent();},'eror':function(_0x274884){var _0x821d78=_0xf0117f;console[_0x821d78(0x1de)]('error');}});}function GetDepartmentUrl(_0x13b36c,_0x2ccbc7){var _0x30515b=a0_0x3ac467,_0x439562=_spPageContextInfo[_0x30515b(0x22b)]+_0x30515b(0x207)+_0x2ccbc7+'\x27';$[_0x30515b(0x202)]({'url':_0x439562,'headers':{'Accept':'application/json;odata=verbose'},'async':!![],'success':function(_0x3a11f3){var _0x576ec8=_0x30515b,_0xcbfaf4=_0x3a11f3['d'][_0x576ec8(0x208)];if(_0xcbfaf4['length']>0x0){currentDepartnemtUrls=_0xcbfaf4[0x0]['SiteURL'];var _0x1bdb80=_0xcbfaf4[0x0][_0x576ec8(0x21a)];$(_0x576ec8(0x222))['html'](_0x1bdb80),GetAllCategory(currentDepartnemtUrls);}},'eror':function(_0x20bf97){var _0x2b5938=_0x30515b;console[_0x2b5938(0x1de)]($(_0x2b5938(0x23d))['val']());}});}function updateItemWithID(_0x3956d7,_0x38e324,_0x184dff){var _0x118a7c=a0_0x3ac467,_0x163586=$[_0x118a7c(0x20c)]();return $[_0x118a7c(0x202)]({'url':currentDepartnemtUrls+_0x118a7c(0x220)+_0x3956d7+'\x27)/GetItemById(\x27'+_0x184dff+'\x27)','type':'POST','headers':{'accept':_0x118a7c(0x23c),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x118a7c(0x200)](),'content-Type':'application/json;odata=verbose','X-Http-Method':_0x118a7c(0x216),'If-Match':'*'},'data':JSON['stringify'](_0x38e324),'async':![],'success':function(_0x574a73){var _0x38e5cf=_0x118a7c;_0x163586[_0x38e5cf(0x231)](!![]);},'error':function(_0x2208e7){var _0x55baf1=_0x118a7c;alert(JSON['stringify'](_0x2208e7)),_0x163586[_0x55baf1(0x1f7)](_0x2208e7);}}),_0x163586[_0x118a7c(0x1e8)]();}function GetItemTypeForListName(_0x189d46){var _0x2fd519=a0_0x3ac467;return _0x2fd519(0x1f4)+_0x189d46['charAt'](0x0)[_0x2fd519(0x21c)]()+_0x189d46[_0x2fd519(0x22a)]('\x20')['join']('')[_0x2fd519(0x1e7)](0x1)+'ListItem';}function AddItemToList(_0x2f7ef5,_0x12353c){var _0x174ab3=a0_0x3ac467,_0x444dca=$[_0x174ab3(0x20c)]();restQuery='ID';var _0x4a4f3e=currentDepartnemtUrls+_0x174ab3(0x220)+_0x2f7ef5+'\x27)/items?$select='+restQuery;return $[_0x174ab3(0x202)]({'url':_0x4a4f3e,'type':_0x174ab3(0x1fc),'async':![],'headers':{'accept':_0x174ab3(0x23c),'X-RequestDigest':$(_0x174ab3(0x1fb))[_0x174ab3(0x200)](),'content-Type':_0x174ab3(0x23c)},'data':JSON[_0x174ab3(0x1ea)](_0x12353c),'success':function(_0x5a808c){var _0xf968b0=_0x174ab3,_0x44f6b8=_0x5a808c['d']['ID'];_0x444dca[_0xf968b0(0x231)](_0x5a808c);},'error':function(_0x4a016e){var _0x5191f6=_0x174ab3;alert(JSON[_0x5191f6(0x1ea)](_0x4a016e)),_0x444dca[_0x5191f6(0x1f7)](_0x4a016e);}}),_0x444dca[_0x174ab3(0x1e8)]();}function DeleteItemCategory(_0x5a8916){var _0x1a9097=a0_0x3ac467,_0x102634=confirm(_0x1a9097(0x1d9));if(_0x102634==!![]){var _0x2cef74=$[_0x1a9097(0x20c)](),_0xe9237b=currentDepartnemtUrls+_0x1a9097(0x215)+_0x5a8916+')';return $['ajax']({'url':_0xe9237b,'type':_0x1a9097(0x20a),'contentType':_0x1a9097(0x23c),'headers':{'Accept':'application/json;odata=verbose','X-RequestDigest':$(_0x1a9097(0x1fb))[_0x1a9097(0x200)](),'IF-MATCH':'*','X-HTTP-Method':'DELETE'},'success':function(_0x30b750){var _0x324e0b=_0x1a9097;GetAllCategory(currentDepartnemtUrls),_0x2cef74[_0x324e0b(0x231)](_0x30b750);},'error':function(_0x5edf22){var _0xa730e=_0x1a9097;_0x2cef74[_0xa730e(0x1f7)](JSON[_0xa730e(0x1ea)](_0x5edf22));}}),_0x2cef74['promise']();}}function a0_0x49c4(_0x386ec3,_0x215547){var _0x5cdb13=a0_0x5cdb();return a0_0x49c4=function(_0x49c499,_0x393c3b){_0x49c499=_0x49c499-0x1d0;var _0x196a66=_0x5cdb13[_0x49c499];return _0x196a66;},a0_0x49c4(_0x386ec3,_0x215547);}function OpenUpdateModalPopup(_0x44dc3f,_0x56a23f){var _0x3dd55b=a0_0x3ac467;categoryId=_0x44dc3f,_0x56a23f=unescape(_0x56a23f),$(_0x3dd55b(0x235))['val'](_0x56a23f),$(_0x3dd55b(0x237))[_0x3dd55b(0x1fa)](_0x3dd55b(0x1f2));}function RedirectOnCategoryTopics(_0x516c9b){var _0x2b12d1=a0_0x3ac467;departmentID>0x0&&(document[_0x2b12d1(0x20f)][_0x2b12d1(0x1ec)]=_0x2b12d1(0x221)+departmentID+_0x2b12d1(0x20d)+_0x516c9b+_0x2b12d1(0x21e));}function GetParameterValues(_0x317cb6){var _0x161d34=a0_0x3ac467,_0x510ef8=window[_0x161d34(0x20f)][_0x161d34(0x1ec)][_0x161d34(0x1e7)](window['location'][_0x161d34(0x1ec)][_0x161d34(0x230)]('?')+0x1)[_0x161d34(0x22a)]('&');for(var _0x5c0007=0x0;_0x5c0007<_0x510ef8['length'];_0x5c0007++){var _0x4aca0c=_0x510ef8[_0x5c0007][_0x161d34(0x22a)]('=');if(_0x4aca0c[0x0]==_0x317cb6)return _0x4aca0c[0x1];}}