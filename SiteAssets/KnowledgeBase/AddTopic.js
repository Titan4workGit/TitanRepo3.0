var a0_0xf4ad3d=a0_0x503a;(function(_0x4cd49c,_0xb8eff){var _0x161260=a0_0x503a,_0x56a007=_0x4cd49c();while(!![]){try{var _0x54a65e=parseInt(_0x161260(0x100))/0x1*(parseInt(_0x161260(0xc7))/0x2)+-parseInt(_0x161260(0x113))/0x3+parseInt(_0x161260(0xd8))/0x4*(parseInt(_0x161260(0x10e))/0x5)+parseInt(_0x161260(0x9f))/0x6+parseInt(_0x161260(0xf9))/0x7+-parseInt(_0x161260(0xd6))/0x8+-parseInt(_0x161260(0xfd))/0x9;if(_0x54a65e===_0xb8eff)break;else _0x56a007['push'](_0x56a007['shift']());}catch(_0x2ca889){_0x56a007['push'](_0x56a007['shift']());}}}(a0_0x22ee,0xb2235));var currentDepartnemtUrls='',prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0,previoscategoryid='',newCategoryId='',departmentID='',CompanyId='';$(document)[a0_0xf4ad3d(0xf1)](function(){var _0x11a8ad=a0_0xf4ad3d;CompanyId=titanForWork['getQueryStringParameter'](_0x11a8ad(0xc9)),SetPeoplePicker_Multiselect(_0x11a8ad(0xc5),!![]),InitializationComponents(),$(_0x11a8ad(0x103))[_0x11a8ad(0x125)](function(){var _0x47f2c2=_0x11a8ad,_0x2201c2=$('#txtTopicTitle')[_0x47f2c2(0xad)]();if(_0x2201c2[_0x47f2c2(0xb7)]==0x0)return alert(_0x47f2c2(0x121)),![];if(_0x2201c2[_0x47f2c2(0xb7)]>0xfa)return alert(_0x47f2c2(0xf6)),![];if($(_0x47f2c2(0x11f))[_0x47f2c2(0xad)]()==null||$(_0x47f2c2(0x11f))[_0x47f2c2(0xad)]()=='')alert(_0x47f2c2(0xfe));else{var _0x260a31=titanForWork['getQueryStringParameter']('topicid');_0x260a31==''||_0x260a31==null?AddNewTopic('Draft'):UpdateTopic(_0x47f2c2(0xd9),_0x260a31);}}),$(_0x11a8ad(0xe6))[_0x11a8ad(0x125)](function(){var _0x368e40=_0x11a8ad,_0x72795f=$(_0x368e40(0xc3))[_0x368e40(0xad)]()['trim'](),_0x219db6=$('.Editor-editor')[_0x368e40(0x9b)]()['trim']();if(_0x72795f[_0x368e40(0xb7)]==0x0)return alert(_0x368e40(0x121)),![];if(_0x219db6[_0x368e40(0xb7)]==0x0)return alert(_0x368e40(0xcd)),![];if(_0x72795f['length']>0xfa)return alert(_0x368e40(0xf6)),![];if($('#ddlCategory')[_0x368e40(0xad)]()==null||$('#ddlCategory')['val']()=='')alert('Please\x20select\x20topic\x20category.');else{if(checkPublishValidation()==!![]){var _0x3474a8=titanForWork[_0x368e40(0xae)](_0x368e40(0x109));_0x3474a8==''||_0x3474a8==null?AddNewTopic(_0x368e40(0xe3)):UpdateTopic(_0x368e40(0xe3),_0x3474a8);}}}),$('#txtAttachment')['change'](function(){var _0x42f385=_0x11a8ad,_0xf0c051=titanForWork[_0x42f385(0xae)](_0x42f385(0x109));$[_0x42f385(0xd2)](this[_0x42f385(0xd3)],function(_0x5bef26,_0x2a07ae){var _0x3c359a=_0x42f385,_0x4f5ea2=_0x2a07ae[_0x3c359a(0xa6)]['split']('.');_0x4f5ea2=_0x4f5ea2[_0x4f5ea2['length']-0x1];var _0x2a7c67=returnExtension(_0x4f5ea2);if(_0x2a7c67==!![])return alert(_0x4f5ea2+_0x3c359a(0xb2)),![];}),_0xf0c051==''||_0xf0c051==null?alert(_0x42f385(0xff)):AddAttachments(_0xf0c051);}),$(_0x11a8ad(0xdc))['click'](function(){var _0x2dbf5a=_0x11a8ad,_0x119d44=confirm(_0x2dbf5a(0xc1));_0x119d44==!![]&&RemoveListItem();}),$(_0x11a8ad(0xe8))[_0x11a8ad(0x125)](function(){var _0x3e0d88=_0x11a8ad;document[_0x3e0d88(0x104)][_0x3e0d88(0xac)]=_0x3e0d88(0xa3)+CompanyId+'';});});function UserAuthorization(){var _0x54dbf7=a0_0xf4ad3d,_0x355a3=titanForWork['getQueryStringParameter']('CompanyId');titanForWork[_0x54dbf7(0xd4)](_0x54dbf7(0x119),_0x355a3)[_0x54dbf7(0xbe)](function(_0xdff436,_0x483a27){var _0x520b3e=_0x54dbf7;if(_0xdff436[_0x520b3e(0xb7)]>0x0){if(_0xdff436[0x0]['SiteAdmin']==_0x520b3e(0xa5)||_0xdff436[0x0][_0x520b3e(0xa0)]==_0x520b3e(0xa0)){}else alert(_0x483a27),window[_0x520b3e(0x104)][_0x520b3e(0xac)]=_spPageContextInfo['webAbsoluteUrl']+_0x520b3e(0x106)+_0x355a3;}});}function AddNewOnPageLoadTopic(){var _0x5ca144=a0_0xf4ad3d,_0x50c3b6='KnowledgeBase',_0x277201=GetItemTypeForListName(_0x50c3b6),_0x107cb6;_0x107cb6={'__metadata':{'type':_0x277201},'Title':$(_0x5ca144(0xc3))[_0x5ca144(0xad)](),'Description':$(_0x5ca144(0x105))['html'](),'KnowledgeCategoryId':$('#ddlCategory')[_0x5ca144(0xad)](),'ApprovalStatus':_0x5ca144(0x118)},$['when'](AddItemToList(_0x50c3b6,_0x107cb6))['done'](function(_0xf02aa9){var _0x163d05=_0x5ca144,_0x8399cc=_0xf02aa9['d'];document['location'][_0x163d05(0xac)]=document['location']['href']+_0x163d05(0xaf)+_0x8399cc['ID']+_0x163d05(0xc0);})[_0x5ca144(0xb9)](function(){var _0x46a400=_0x5ca144;console[_0x46a400(0xb4)]('Error\x20in\x20adding\x20Topic.');});}function AddNewTopic(_0x1cefa1){var _0x10f405=a0_0xf4ad3d,_0x469ac0=ListCommonService['getMultiPeoplePickerUserInfo'](_0x10f405(0xc5)),_0x516b4f=_0x10f405(0x9e),_0x310634=new Date(),_0x2aa8f3=GetItemTypeForListName(_0x516b4f),_0x17c03d;_0x17c03d={'__metadata':{'type':_0x2aa8f3},'ApprovedById':_spPageContextInfo[_0x10f405(0x107)],'ApprovedDate':_0x310634[_0x10f405(0x128)](),'ApprovalStatus':_0x1cefa1,'Title':$(_0x10f405(0xc3))[_0x10f405(0xad)](),'Description':$(_0x10f405(0x105))[_0x10f405(0xea)](),'KnowledgeCategoryId':$(_0x10f405(0x11f))['val'](),'CoAuthorId':{'results':_0x469ac0}},$['when'](AddItemToList(_0x516b4f,_0x17c03d))['done'](function(_0x12fcb1){var _0x49c5bf=_0x10f405,_0x20770c=_0x12fcb1['d'];$['when'](CategoryCounterDetails($('#ddlCategory')[_0x49c5bf(0xad)]()))[_0x49c5bf(0xbe)](function(_0xdfdb1c){var _0x10ed63=_0x49c5bf,_0x7e191=_0x10ed63(0x102),_0x3b4a9d=GetItemTypeForListName(_0x7e191),_0x34ab1a;_0x34ab1a={'__metadata':{'type':_0x3b4a9d},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x10ed63(0xca)](updateItemWithID(_0x7e191,_0x34ab1a,$(_0x10ed63(0x11f))[_0x10ed63(0xad)]()))[_0x10ed63(0xbe)](function(_0xdbe50e){var _0x1ae745=_0x10ed63;_0x1cefa1==_0x1ae745(0xe3)?(alert('Topic\x20has\x20been\x20published\x20successfully.'),document['location'][_0x1ae745(0xac)]=_0x1ae745(0xa3)+CompanyId+''):(alert(_0x1ae745(0x123)),document['location']['href']=document[_0x1ae745(0x104)][_0x1ae745(0xac)]+_0x1ae745(0xaf)+_0x20770c['ID']+'&undefined=undefined');})[_0x10ed63(0xb9)](function(){var _0x266520=_0x10ed63;console[_0x266520(0xb4)](_0x266520(0xce));});})['fail'](function(){var _0x4db663=_0x49c5bf;console[_0x4db663(0xb4)](_0x4db663(0xce));});})[_0x10f405(0xb9)](function(){var _0x1de2fe=_0x10f405;console[_0x1de2fe(0xb4)](_0x1de2fe(0xce));});}function UpdateTopic(_0x37f941,_0xc292ed){var _0x27b865=a0_0xf4ad3d,_0xe57f04=ListCommonService['getMultiPeoplePickerUserInfo'](_0x27b865(0xc5)),_0x9e8405=_0x27b865(0x9e),_0x18df5f=new Date(),_0x3589e3=GetItemTypeForListName(_0x9e8405),_0x41a965;_0x41a965={'__metadata':{'type':_0x3589e3},'ApprovedById':_spPageContextInfo['userId'],'ApprovedDate':_0x18df5f['toISOString'](),'ApprovalStatus':_0x37f941,'Title':$(_0x27b865(0xc3))[_0x27b865(0xad)](),'Description':$('.Editor-editor')[_0x27b865(0xea)](),'KnowledgeCategoryId':$(_0x27b865(0x11f))['val'](),'CoAuthorId':{'results':_0xe57f04}},$['when'](updateItemWithID(_0x9e8405,_0x41a965,_0xc292ed))['done'](function(_0x260d8f){var _0xe9f9ea=_0x27b865;$[_0xe9f9ea(0xca)](CategoryCounterDetails(previoscategoryid))[_0xe9f9ea(0xbe)](function(_0x5e6707){var _0x26691c=_0xe9f9ea,_0x276bfb=_0x26691c(0x102),_0x41aa51=GetItemTypeForListName(_0x276bfb),_0x55eb5f;_0x55eb5f={'__metadata':{'type':_0x41aa51},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x26691c(0xca)](updateItemWithID(_0x276bfb,_0x55eb5f,previoscategoryid))['done'](function(_0x4c7a6e){var _0x2a8dfb=_0x26691c;newCategoryId=$('#ddlCategory')[_0x2a8dfb(0xad)](),previoscategoryid!=newCategoryId?$[_0x2a8dfb(0xca)](CategoryCounterDetails(newCategoryId))[_0x2a8dfb(0xbe)](function(_0x32ffab){var _0x5d4fa8=_0x2a8dfb,_0x365d09=_0x5d4fa8(0x102),_0x360e94=GetItemTypeForListName(_0x365d09),_0x1a66a2;_0x1a66a2={'__metadata':{'type':_0x360e94},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x5d4fa8(0xca)](updateItemWithID(_0x365d09,_0x1a66a2,newCategoryId))[_0x5d4fa8(0xbe)](function(_0x4bbf25){var _0x299f44=_0x5d4fa8;_0x37f941==_0x299f44(0xe3)?(alert(_0x299f44(0xcb)),document[_0x299f44(0x104)][_0x299f44(0xac)]='../Pages/Myworkplace.aspx?WebAppId='+CompanyId+''):(alert('Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.'),document[_0x299f44(0x104)]['href']=document[_0x299f44(0x104)][_0x299f44(0xac)][_0x299f44(0xc6)]('?')[0x0]+'?WebAppId=232&DepartmentId='+departmentID+_0x299f44(0xaf)+_0xc292ed+_0x299f44(0x9c));});}):_0x37f941==_0x2a8dfb(0xe3)?(alert('Topic\x20has\x20been\x20published\x20successfully.'),document[_0x2a8dfb(0x104)]['href']=_0x2a8dfb(0xa3)+CompanyId+''):(alert(_0x2a8dfb(0x123)),document[_0x2a8dfb(0x104)][_0x2a8dfb(0xac)]=document[_0x2a8dfb(0x104)][_0x2a8dfb(0xac)]['split']('?')[0x0]+_0x2a8dfb(0xa2)+departmentID+_0x2a8dfb(0xaf)+_0xc292ed+_0x2a8dfb(0x9c));});})['fail'](function(){var _0x4d5217=_0xe9f9ea;console[_0x4d5217(0xb4)]('Error\x20in\x20updating\x20Topic.');});});}function CategoryCounterDetails(_0x2fbcfd){var _0x3fed8b=a0_0xf4ad3d;prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0;var _0x2840ca=$[_0x3fed8b(0x112)](),_0x29165c=_0x3fed8b(0xfc)+_0x2fbcfd+'\x27',_0x2ca9d9=currentDepartnemtUrls+_0x3fed8b(0xef)+_0x29165c;return $['ajax']({'url':_0x2ca9d9,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x555a70){var _0x5c92bb=_0x3fed8b,_0x4c33e6=_0x555a70['d'][_0x5c92bb(0x10f)];for(var _0x47c945=0x0;_0x47c945<_0x4c33e6[_0x5c92bb(0xb7)];_0x47c945++){if(_0x4c33e6[_0x47c945]['ApprovalStatus']==_0x5c92bb(0xe3))prevPublishedCounter++;else{if(_0x4c33e6[_0x47c945][_0x5c92bb(0xe4)]==_0x5c92bb(0xcc))prevPendingCounter++;else _0x4c33e6[_0x47c945][_0x5c92bb(0xe4)]=='Draft'&&prevDraftCounter++;}}_0x2840ca[_0x5c92bb(0xec)](_0x555a70);},'eror':function(_0x206fbb){console['log']('error');}}),_0x2840ca['promise']();}function GetTopicDetails(_0x93bbc6,_0x20ce97){var _0x3197a6=a0_0xf4ad3d,_0x237fb3='',_0x4159b9='ID,ApprovedDate,ApprovalStatus,Title,Description,AttachmentFiles,KnowledgeCategoryId,CoAuthor/UserName,ApprovedBy/Id,ApprovedBy/UserName&$expand=ApprovedBy,AttachmentFiles,CoAuthor&$filter=ID\x20eq\x20\x27'+_0x20ce97+'\x27',_0x5ec5df=_0x93bbc6+_0x3197a6(0xef)+_0x4159b9;$[_0x3197a6(0x117)]({'url':_0x5ec5df,'headers':{'Accept':_0x3197a6(0xbc)},'async':![],'success':function(_0x12e06b){var _0x1763d2=_0x3197a6,_0xb3a168=_0x12e06b['d'][_0x1763d2(0x10f)];for(var _0x5ee54c=0x0;_0x5ee54c<_0xb3a168[_0x1763d2(0xb7)];_0x5ee54c++){var _0x18567e=_0xb3a168[_0x5ee54c][_0x1763d2(0xe5)];$(_0x1763d2(0xc3))[_0x1763d2(0xad)](_0x18567e);var _0x1f0d24=_0xb3a168[_0x5ee54c]['Description'];$(_0x1763d2(0x105))['html'](_0x1f0d24);var _0x5ecc9f=_0xb3a168[_0x5ee54c][_0x1763d2(0xe1)];$(_0x1763d2(0x11f))['val'](_0x5ecc9f),$(_0x1763d2(0xdc))[_0x1763d2(0xb1)](),previoscategoryid=_0x5ecc9f,_0x237fb3=_0xb3a168[0x0]['CoAuthor']['results'];if(_0x237fb3!=null)for(var _0x576d22=0x0;_0x576d22<_0x237fb3['length'];_0x576d22++){var _0xb44348=_0x237fb3[_0x576d22][_0x1763d2(0xeb)];setPeoplePickerUsersInfoCurrent(_0x1763d2(0xd0),_0xb44348);}if(_0xb3a168[_0x5ee54c]['ApprovalStatus']==_0x1763d2(0xe3)){}}},'eror':function(_0x1df61a){var _0x5203a4=_0x3197a6;console[_0x5203a4(0xb4)](_0x5203a4(0x120));}});}function GetAttachments(_0x30d5a7,_0x46f6ff){var _0x2242cb=a0_0xf4ad3d,_0x14a8ff=_0x2242cb(0x11b)+_0x46f6ff+'\x27',_0x1bad13=_0x30d5a7+_0x2242cb(0xef)+_0x14a8ff;$['ajax']({'url':_0x1bad13,'headers':{'Accept':_0x2242cb(0xbc)},'async':![],'success':function(_0x420131){var _0x4fed4c=_0x2242cb,_0x11415=_0x420131['d'][_0x4fed4c(0x10f)];for(var _0x2cd928=0x0;_0x2cd928<_0x11415[_0x4fed4c(0xb7)];_0x2cd928++){var _0x122397='';if(_0x11415[_0x2cd928][_0x4fed4c(0x108)][_0x4fed4c(0x10f)][_0x4fed4c(0xb7)]>0x0){$('#spanAttachmentCollection')[_0x4fed4c(0xb1)]();for(var _0x2a256f=0x0;_0x2a256f<_0x11415[_0x2cd928][_0x4fed4c(0x108)]['results']['length'];_0x2a256f++){_0x122397+=_0x4fed4c(0xb0)+_0x11415[_0x2cd928][_0x4fed4c(0x108)][_0x4fed4c(0x10f)][_0x2a256f][_0x4fed4c(0x10c)]+'\x27>'+_0x11415[_0x2cd928]['AttachmentFiles']['results'][_0x2a256f][_0x4fed4c(0xda)]+_0x4fed4c(0xc8);{_0x122397+='<span\x20aria-hidden=\x27true\x27\x20id=\x27btnDeleteAttachment\x27\x20style=\x27cursor:\x20pointer;\x27onclick=DeleteItemAttachment(\x27'+_0x46f6ff+_0x4fed4c(0x9d)+escape(_0x11415[_0x2cd928][_0x4fed4c(0x108)][_0x4fed4c(0x10f)][_0x2a256f][_0x4fed4c(0xda)])+_0x4fed4c(0xe2);}}$(_0x4fed4c(0xbb))['html'](''),$(_0x4fed4c(0xbb))[_0x4fed4c(0xa4)](_0x122397);}else $(_0x4fed4c(0xbb))['hide']();if(_0x11415[_0x2cd928][_0x4fed4c(0xe4)]==_0x4fed4c(0xe3)){}}},'eror':function(_0x487034){var _0x405c0a=_0x2242cb;console[_0x405c0a(0xb4)](_0x405c0a(0x120));}});}function InitializationComponents(){var _0xaca549=a0_0xf4ad3d;departmentID=GetParameterValues('DepartmentId'),departmentID>0x0&&GetDepartmentUrl(_0xaca549(0x122),departmentID);}function GetDepartmentUrl(_0x593992,_0x378710){var _0x1c8265=a0_0xf4ad3d,_0x5e09d8=_spPageContextInfo[_0x1c8265(0xed)]+_0x1c8265(0xb5)+_0x378710+'\x27';$['ajax']({'url':_0x5e09d8,'headers':{'Accept':_0x1c8265(0xbc)},'async':!![],'success':function(_0x2f7f97){var _0x132765=_0x1c8265,_0x4133d3=_0x2f7f97['d'][_0x132765(0x10f)];if(_0x4133d3['length']>0x0){currentDepartnemtUrls=_0x4133d3[0x0]['SiteURL'],bindCategoryDropDown(),$(_0x132765(0xbb))[_0x132765(0xab)]();var _0x829a9c=titanForWork[_0x132765(0xae)](_0x132765(0x109));if(_0x829a9c!=null&&_0x829a9c!=''){GetTopicDetails(currentDepartnemtUrls,_0x829a9c),GetAttachments(currentDepartnemtUrls,_0x829a9c);var _0x55cac1=titanForWork[_0x132765(0xae)]('hideDelete');_0x55cac1==null?$('#btnDelete')[_0x132765(0xb1)]():$(_0x132765(0xdc))['hide']();}else $(_0x132765(0x116))[_0x132765(0xab)](),AddNewOnPageLoadTopic();}},'eror':function(_0x54db31){var _0x2f0b7b=_0x1c8265;console[_0x2f0b7b(0xb4)]($(_0x2f0b7b(0xfa))[_0x2f0b7b(0xad)]());}});}function bindCategoryDropDown(){var _0x573883=a0_0xf4ad3d,_0x4339c9='';$('#ddlCategory')[_0x573883(0xde)](),_0x4339c9=_0x573883(0x124);var _0x207b78=currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items?$select='+_0x4339c9;$[_0x573883(0x117)]({'url':_0x207b78,'headers':{'Accept':_0x573883(0xbc)},'async':![],'success':function(_0x581d44){var _0x397d97=_0x573883,_0x45bcd0=_0x581d44['d'][_0x397d97(0x10f)];for(var _0x17fa9e=0x0;_0x17fa9e<_0x45bcd0[_0x397d97(0xb7)];_0x17fa9e++){var _0x8349d7=_0x45bcd0[_0x17fa9e]['Title'],_0x4c5678=_0x45bcd0[_0x17fa9e]['ID'];$(_0x397d97(0x11f))[_0x397d97(0xa4)]($('<option></option>')[_0x397d97(0xe0)](_0x397d97(0x10b),_0x4c5678)[_0x397d97(0x9b)](_0x8349d7));}var _0x4a0df6=titanForWork[_0x397d97(0xae)]('topiccategoryid');_0x4a0df6!=null&&$(_0x397d97(0x11f))[_0x397d97(0xad)](_0x4a0df6);},'eror':function(_0x12a8ea){var _0x4ef43f=_0x573883;console[_0x4ef43f(0xb4)](_0x4ef43f(0x120));}});}function a0_0x22ee(){var _0x4122fb=['click','readAsArrayBuffer','\x27)/AttachmentFiles/\x20add(FileName=\x27','toISOString','prop','text','&undefined=undefined','\x27,\x27','KnowledgeBase','8487300tLfZLx','TechAdmin','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(\x27','?WebAppId=232&DepartmentId=','../Pages/Myworkplace.aspx?WebAppId=','append','SiteAdmin','name','SearchPrincipalSource','\x27)/items?$select=','target','ResolvePrincipalSource','hide','href','val','getQueryStringParameter','&topicid=','<a\x20id=\x27btnLinkAttachment\x27\x20target=\x27_blank\x27\x20href=\x27','show','\x20This\x20files\x20type\x20are\x20not\x20allow!\x20','reject','log','/_api/web/lists/getbytitle(\x27Departments\x27)/items?$select=ID,SiteURL&$filter=ID\x20eq\x20\x27','promise','length','/_api/web/lists/getbytitle(\x27','fail','AddUserKeys','#spanAttachmentCollection','application/json;odata=verbose','/_api/contextinfo','done','join','&hideDelete=1&undefined=undefined','Are\x20you\x20sure,you\x20want\x20to\x20delete\x20this\x20item\x20?','SPClientPeoplePickerDict','#txtTopicTitle','ListItem','newEmployeePicker','split','5660zEIDMF','</a>&nbsp','CompanyId','when','Topic\x20has\x20been\x20published\x20successfully.','Pending','Please\x20enter\x20topic\x20description.','Error\x20in\x20adding\x20Topic.','MaximumEntitySuggestions','newEmployeePicker_TopSpan','User','each','files','PageAuthorization','#__REQUESTDIGEST','9774688nelYDd','toUpperCase','2204yBQYVU','Draft','FileName','[id^=\x27','#btnDelete','stringify','empty','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(','attr','KnowledgeCategoryId','\x27);>x</span></label>&nbsp&nbsp','Approved','ApprovalStatus','Title','#btnApproved','indexOf','#btnCloseTopicForm','[id$=\x27','html','UserName','resolve','webAbsoluteUrl','Something\x20went\x20wrong.','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select=','\x27)/GetItemById(\x27','ready','disabled','focus','AllowMultipleValues','contenteditable','Title\x20can\x27t\x20be\x20more\x20than\x20250\x20characters.','DELETE','charAt','8322713ijAmZg','#txtSomethingWentWrong','onload','ID,ApprovalStatus,KnowledgeCategoryId&$top=5000&$filter=KnowledgeCategoryId\x20eq\x20\x27','8550603WZyxMk','Please\x20select\x20topic\x20category.','Please\x20click\x20on\x20draft.','291NNRInt','GetContextWebInformation','KnowledgeBaseCategory','#btnDraft','location','.Editor-editor','/Pages/Default.aspx?WebAppId=','userId','AttachmentFiles','topicid',')/AttachmentFiles/getByFileName(\x27','value','ServerRelativeUrl','The\x20file\x20name\x20is\x20already\x20exist.','5260hroFKh','results','GetAllUserInfo','POST','Deferred','3315405zRtdKo','Key','SP.Data.','#txtAttachment','ajax','Not\x20Submitted','ManageCompany','Please\x20add\x20topic.','ID,AttachmentFiles,ApprovalStatus&$expand=AttachmentFiles&$filter=ID\x20eq\x20\x27','.sp-peoplepicker-editorInput','slice','Width','#ddlCategory','error','Please\x20enter\x20topic\x20title.','Departments','Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.','Title,ID&$filter=Status\x20eq\x20\x271\x27'];a0_0x22ee=function(){return _0x4122fb;};return a0_0x22ee();}function setPeoplePickerUsersInfoCurrent(_0xea821b,_0x1a944b){var _0x2a9314=a0_0xf4ad3d,_0x55827f=$(_0x2a9314(0xe9)+_0xea821b+'\x27]'),_0x417b9d=SPClientPeoplePicker[_0x2a9314(0xc2)][_0x55827f[0x0]['id']];_0x417b9d[_0x2a9314(0xba)](_0x1a944b,![]);}function updateItemWithID(_0x5f3f7c,_0x2a5c32,_0x21d198){var _0x139ca6=a0_0xf4ad3d,_0x108a1e=$[_0x139ca6(0x112)]();return $[_0x139ca6(0x117)]({'url':currentDepartnemtUrls+_0x139ca6(0xb8)+_0x5f3f7c+_0x139ca6(0xf0)+_0x21d198+'\x27)','type':'POST','headers':{'accept':_0x139ca6(0xbc),'X-RequestDigest':$(_0x139ca6(0xd5))[_0x139ca6(0xad)](),'content-Type':'application/json;odata=verbose','X-Http-Method':'PATCH','If-Match':'*'},'data':JSON[_0x139ca6(0xdd)](_0x2a5c32),'async':![],'success':function(_0x515ed8){_0x108a1e['resolve'](!![]);},'error':function(_0x5c3ec0){var _0x112b2f=_0x139ca6;alert(JSON[_0x112b2f(0xdd)](_0x5c3ec0)),_0x108a1e[_0x112b2f(0xb3)](_0x5c3ec0);}}),_0x108a1e[_0x139ca6(0xb6)]();}function GetItemTypeForListName(_0x53faa7){var _0x1a17c0=a0_0xf4ad3d;return _0x1a17c0(0x115)+_0x53faa7[_0x1a17c0(0xf8)](0x0)[_0x1a17c0(0xd7)]()+_0x53faa7[_0x1a17c0(0xc6)]('\x20')[_0x1a17c0(0xbf)]('')[_0x1a17c0(0x11d)](0x1)+_0x1a17c0(0xc4);}function a0_0x503a(_0x1ab5c3,_0x256c61){var _0x22ee10=a0_0x22ee();return a0_0x503a=function(_0x503ac6,_0x570834){_0x503ac6=_0x503ac6-0x9a;var _0x1d1296=_0x22ee10[_0x503ac6];return _0x1d1296;},a0_0x503a(_0x1ab5c3,_0x256c61);}function getUserInfo(_0x311b0a){var _0x19c61e=a0_0xf4ad3d,_0x520b78=$(_0x19c61e(0xdb)+_0x311b0a+'\x27]'),_0x3ac2fa=SPClientPeoplePicker[_0x19c61e(0xc2)][_0x520b78[0x1]['id']],_0x5c5312=_0x3ac2fa[_0x19c61e(0x110)](),_0x460437='';return _0x5c5312['length']>0x0&&(_0x460437=_0x5c5312[0x0][_0x19c61e(0x114)]),_0x460437;}function SetPeoplePicker_Multiselect(_0x4c2f25,_0x16fb8d){var _0x44ba41=a0_0xf4ad3d;_0x16fb8d==null&&(_0x16fb8d=![]);var _0x3666b1={};_0x3666b1['PrincipalAccountType']=_0x44ba41(0xd1),_0x3666b1[_0x44ba41(0xa7)]=0xf,_0x3666b1[_0x44ba41(0xaa)]=0xf,_0x3666b1[_0x44ba41(0xf4)]=_0x16fb8d,_0x3666b1[_0x44ba41(0xcf)]=0x32,_0x3666b1[_0x44ba41(0x11e)]='',SPClientPeoplePicker_InitStandaloneControlWrapper(_0x4c2f25,null,_0x3666b1);}function AddItemToList(_0x4eee16,_0x26b6ae){var _0xa1f856=a0_0xf4ad3d,_0x5a1f62=$[_0xa1f856(0x112)]();restQuery='ID';var _0x5a94cd=currentDepartnemtUrls+_0xa1f856(0xb8)+_0x4eee16+_0xa1f856(0xa8)+restQuery;return $[_0xa1f856(0x117)]({'url':_0x5a94cd,'type':_0xa1f856(0x111),'async':![],'headers':{'accept':_0xa1f856(0xbc),'X-RequestDigest':$('#__REQUESTDIGEST')['val'](),'content-Type':_0xa1f856(0xbc)},'data':JSON['stringify'](_0x26b6ae),'success':function(_0x3e75da){var _0x45ecfd=_0xa1f856,_0x5c4de4=_0x3e75da['d']['ID'];_0x5a1f62[_0x45ecfd(0xec)](_0x3e75da);},'error':function(_0x5094a1){var _0x5a52ab=_0xa1f856;alert(JSON[_0x5a52ab(0xdd)](_0x5094a1)),_0x5a1f62[_0x5a52ab(0xb3)](_0x5094a1);}}),_0x5a1f62[_0xa1f856(0xb6)]();}function AddAttachments(_0x4e8820){var _0x302ec2=a0_0xf4ad3d,_0x535678='';$[_0x302ec2(0x117)]({'url':currentDepartnemtUrls+_0x302ec2(0xbd),'method':_0x302ec2(0x111),'headers':{'ACCEPT':_0x302ec2(0xbc),'content-type':_0x302ec2(0xbc)},'success':function(_0xed9682){var _0x1f9c98=_0x302ec2;_0x535678=_0xed9682['d'][_0x1f9c98(0x101)]['FormDigestValue'];},'error':function(_0x1f9de0){}})[_0x302ec2(0xbe)](function(){var _0x21437d=_0x302ec2,_0x10afe8=$('#txtAttachment'),_0x5c2c64=_0x10afe8[0x0][_0x21437d(0xd3)][0x0]['name'],_0x114a98=new FileReader();_0x114a98[_0x21437d(0xfb)]=function(_0xdb451a){var _0x20579b=_0x21437d,_0x44b94d=_0xdb451a[_0x20579b(0xa9)]['result'],_0x92aa7f=$[_0x20579b(0x117)]({'url':currentDepartnemtUrls+_0x20579b(0xa1)+_0x4e8820+_0x20579b(0x127)+_0x5c2c64+'\x27)','method':_0x20579b(0x111),'binaryStringRequestBody':!![],'data':_0x44b94d,'processData':![],'headers':{'ACCEPT':_0x20579b(0xbc),'X-RequestDigest':_0x535678},'success':function(_0x3bdbf1){var _0x98fda1=_0x20579b,_0x3e4b9f=titanForWork[_0x98fda1(0xae)](_0x98fda1(0x109));GetAttachments(currentDepartnemtUrls,_0x3e4b9f),$('#spanAttachmentCollection')['show'](),$('#txtAttachment')['val'](null);},'error':function(_0x2fa47a){var _0x269ced=_0x20579b;alert(_0x269ced(0x10d));}});},_0x114a98[_0x21437d(0x126)](_0x10afe8[0x0][_0x21437d(0xd3)][0x0]);});}function DeleteItemAttachment(_0x1ca6ff,_0x47cf1a){var _0x3db969=a0_0xf4ad3d;_0x47cf1a=unescape(_0x47cf1a);var _0x4c9a35=$['Deferred'](),_0x2f1060=currentDepartnemtUrls+'/_api/web/lists/GetByTitle(\x27KnowledgeBase\x27)/GetItemById('+_0x1ca6ff+_0x3db969(0x10a)+_0x47cf1a+'\x27)';return $[_0x3db969(0x117)]({'url':_0x2f1060,'type':_0x3db969(0xf7),'contentType':_0x3db969(0xbc),'headers':{'X-RequestDigest':$(_0x3db969(0xd5))['val'](),'X-HTTP-Method':_0x3db969(0xf7),'Accept':_0x3db969(0xbc)},'success':function(_0x591d44){var _0x50510c=_0x3db969,_0x2e8e6a=titanForWork[_0x50510c(0xae)](_0x50510c(0x109));$(_0x50510c(0x116))['val'](''),GetAttachments(currentDepartnemtUrls,_0x2e8e6a),_0x4c9a35[_0x50510c(0xec)](_0x591d44);},'error':function(_0x1aa19c){var _0x41464a=_0x3db969;_0x4c9a35[_0x41464a(0xb3)](JSON['stringify'](_0x1aa19c));}}),_0x4c9a35['promise']();}function checkPublishValidation(){var _0x1286e9=a0_0xf4ad3d;if($(_0x1286e9(0xc3))[_0x1286e9(0xad)]()=='')return alert(_0x1286e9(0x11a)),$('#txtTopicTitle')['focus'](),![];if($(_0x1286e9(0x105))[_0x1286e9(0x9b)]()=='')return alert('Please\x20enter\x20description.'),$(_0x1286e9(0x105))[_0x1286e9(0xf3)](),![];return!![];}function RemoveListItem(){var _0x3a9b0e=a0_0xf4ad3d,_0x5bce43=titanForWork[_0x3a9b0e(0xae)]('topicid');$[_0x3a9b0e(0x117)]({'url':currentDepartnemtUrls+_0x3a9b0e(0xdf)+_0x5bce43+')','type':_0x3a9b0e(0x111),'contentType':_0x3a9b0e(0xbc),'headers':{'Accept':_0x3a9b0e(0xbc),'X-RequestDigest':$(_0x3a9b0e(0xd5))[_0x3a9b0e(0xad)](),'IF-MATCH':'*','X-HTTP-Method':_0x3a9b0e(0xf7)},'success':function(_0x38eb2c){var _0x38d651=_0x3a9b0e;$['when'](CategoryCounterDetails($(_0x38d651(0x11f))[_0x38d651(0xad)]()))[_0x38d651(0xbe)](function(_0x4515e9){var _0x8becfe=_0x38d651,_0x397455=_0x8becfe(0x102),_0x316d44=GetItemTypeForListName(_0x397455),_0x3afa59;_0x3afa59={'__metadata':{'type':_0x316d44},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x8becfe(0xca)](updateItemWithID(_0x397455,_0x3afa59,$(_0x8becfe(0x11f))[_0x8becfe(0xad)]()))['done'](function(_0x481d12){var _0xd16f1d=_0x8becfe;document['location'][_0xd16f1d(0xac)]=_0xd16f1d(0xa3)+CompanyId+'';})[_0x8becfe(0xb9)](function(){var _0x139b27=_0x8becfe;console[_0x139b27(0xb4)](_0x139b27(0xce));});})[_0x38d651(0xb9)](function(){var _0x21c344=_0x38d651;console[_0x21c344(0xb4)](_0x21c344(0xce));});},'error':function(_0x45326e){var _0xba098a=_0x3a9b0e;console[_0xba098a(0xb4)](_0xba098a(0xee));}});}function controlBoxesReadonly(){var _0x17e16c=a0_0xf4ad3d;$(_0x17e16c(0xc3))[_0x17e16c(0xe0)]('readonly',!![]),$(_0x17e16c(0x105))[_0x17e16c(0xe0)](_0x17e16c(0xf5),![]),$(_0x17e16c(0x11f))[_0x17e16c(0xe0)](_0x17e16c(0xf2),!![]),$(_0x17e16c(0x11c))[_0x17e16c(0xe0)](_0x17e16c(0xf2),'disabled'),$(_0x17e16c(0x116))[_0x17e16c(0x9a)](_0x17e16c(0xf2),!![]),$('#btnApproved')[_0x17e16c(0xab)](),$('#btnDraft')[_0x17e16c(0xab)](),$('#btnDelete')[_0x17e16c(0xab)]();}function GetParameterValues(_0x4f26fa){var _0x44454a=a0_0xf4ad3d,_0x48e699=window[_0x44454a(0x104)][_0x44454a(0xac)][_0x44454a(0x11d)](window[_0x44454a(0x104)][_0x44454a(0xac)][_0x44454a(0xe7)]('?')+0x1)['split']('&');for(var _0x3fb86b=0x0;_0x3fb86b<_0x48e699[_0x44454a(0xb7)];_0x3fb86b++){var _0x48fd14=_0x48e699[_0x3fb86b][_0x44454a(0xc6)]('=');if(_0x48fd14[0x0]==_0x4f26fa)return _0x48fd14[0x1];}}