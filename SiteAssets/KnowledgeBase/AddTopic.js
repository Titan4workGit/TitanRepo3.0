var a0_0x5f1448=a0_0x4aaf;(function(_0x49cf7f,_0x14dde7){var _0x364602=a0_0x4aaf,_0x409d81=_0x49cf7f();while(!![]){try{var _0x3a3858=-parseInt(_0x364602(0x16a))/0x1+parseInt(_0x364602(0x16b))/0x2*(-parseInt(_0x364602(0x199))/0x3)+parseInt(_0x364602(0x17b))/0x4*(-parseInt(_0x364602(0x197))/0x5)+-parseInt(_0x364602(0x194))/0x6+parseInt(_0x364602(0x1eb))/0x7*(parseInt(_0x364602(0x1b9))/0x8)+-parseInt(_0x364602(0x1df))/0x9+parseInt(_0x364602(0x1d9))/0xa*(parseInt(_0x364602(0x1d1))/0xb);if(_0x3a3858===_0x14dde7)break;else _0x409d81['push'](_0x409d81['shift']());}catch(_0x3fcb1f){_0x409d81['push'](_0x409d81['shift']());}}}(a0_0x2d8d,0xe005c));var currentDepartnemtUrls='',prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0,previoscategoryid='',newCategoryId='',departmentID='',CompanyId='';$(document)[a0_0x5f1448(0x1de)](function(){var _0x3a1965=a0_0x5f1448;CompanyId=titanForWork[_0x3a1965(0x18d)](_0x3a1965(0x1cb)),SetPeoplePicker_Multiselect('newEmployeePicker',!![]),InitializationComponents(),$('#btnDraft')[_0x3a1965(0x161)](function(){var _0x216edd=_0x3a1965,_0x520ab8=$(_0x216edd(0x1e4))['val']();if(_0x520ab8[_0x216edd(0x16e)]==0x0)return alert('Please\x20enter\x20topic\x20title.'),![];if(_0x520ab8[_0x216edd(0x16e)]>0xfa)return alert(_0x216edd(0x17f)),![];if($(_0x216edd(0x1ca))[_0x216edd(0x1bb)]()==null||$(_0x216edd(0x1ca))[_0x216edd(0x1bb)]()=='')alert(_0x216edd(0x1a4));else{var _0x53adbc=titanForWork[_0x216edd(0x18d)]('topicid');_0x53adbc==''||_0x53adbc==null?AddNewTopic(_0x216edd(0x189)):UpdateTopic('Draft',_0x53adbc);}}),$(_0x3a1965(0x164))[_0x3a1965(0x161)](function(){var _0x5bb9ad=_0x3a1965,_0x602c3f=$(_0x5bb9ad(0x1e4))[_0x5bb9ad(0x1bb)]()[_0x5bb9ad(0x178)](),_0x5ab256=$('.Editor-editor')[_0x5bb9ad(0x1cd)]()[_0x5bb9ad(0x178)]();if(_0x602c3f[_0x5bb9ad(0x16e)]==0x0)return alert(_0x5bb9ad(0x1c7)),![];if(_0x5ab256[_0x5bb9ad(0x16e)]==0x0)return alert(_0x5bb9ad(0x1e7)),![];if(_0x602c3f['length']>0xfa)return alert(_0x5bb9ad(0x17f)),![];if($(_0x5bb9ad(0x1ca))[_0x5bb9ad(0x1bb)]()==null||$(_0x5bb9ad(0x1ca))[_0x5bb9ad(0x1bb)]()=='')alert('Please\x20select\x20topic\x20category.');else{if(checkPublishValidation()==!![]){var _0xaee847=titanForWork['getQueryStringParameter'](_0x5bb9ad(0x1a1));_0xaee847==''||_0xaee847==null?AddNewTopic(_0x5bb9ad(0x1b6)):UpdateTopic(_0x5bb9ad(0x1b6),_0xaee847);}}}),$(_0x3a1965(0x1ec))[_0x3a1965(0x1b5)](function(){var _0x269e2f=_0x3a1965,_0x426411=titanForWork[_0x269e2f(0x18d)](_0x269e2f(0x1a1));$[_0x269e2f(0x181)](this['files'],function(_0x26318e,_0x24383a){var _0x3a8df4=_0x269e2f,_0x37e90b=_0x24383a[_0x3a8df4(0x1c9)]['split']('.');_0x37e90b=_0x37e90b[_0x37e90b['length']-0x1];var _0x199859=returnExtension(_0x37e90b);if(_0x199859==!![])return alert(_0x37e90b+_0x3a8df4(0x1bf)),![];}),_0x426411==''||_0x426411==null?alert(_0x269e2f(0x1cc)):AddAttachments(_0x426411);}),$(_0x3a1965(0x19b))[_0x3a1965(0x161)](function(){var _0x31a905=_0x3a1965,_0xa299ad=confirm(_0x31a905(0x1d8));_0xa299ad==!![]&&RemoveListItem();}),$(_0x3a1965(0x1b1))[_0x3a1965(0x161)](function(){var _0x4e2d92=_0x3a1965;document[_0x4e2d92(0x1a3)][_0x4e2d92(0x183)]=_0x4e2d92(0x166)+CompanyId+'';});});function UserAuthorization(){var _0x100c77=a0_0x5f1448,_0x155d38=titanForWork[_0x100c77(0x18d)]('CompanyId');titanForWork['PageAuthorization'](_0x100c77(0x1e5),_0x155d38)[_0x100c77(0x1a6)](function(_0x375bbc,_0x3aabe3){var _0x58c0d9=_0x100c77;if(_0x375bbc[_0x58c0d9(0x16e)]>0x0){if(_0x375bbc[0x0][_0x58c0d9(0x1e9)]==_0x58c0d9(0x1e9)||_0x375bbc[0x0][_0x58c0d9(0x1e6)]==_0x58c0d9(0x1e6)){}else alert(_0x3aabe3),window[_0x58c0d9(0x1a3)]['href']=_spPageContextInfo[_0x58c0d9(0x175)]+_0x58c0d9(0x1a7)+_0x155d38;}});}function AddNewOnPageLoadTopic(){var _0x56c58c=a0_0x5f1448,_0x422c28=_0x56c58c(0x1cf),_0x3461ce=GetItemTypeForListName(_0x422c28),_0x49cb74;_0x49cb74={'__metadata':{'type':_0x3461ce},'Title':$(_0x56c58c(0x1e4))[_0x56c58c(0x1bb)](),'Description':$('.Editor-editor')[_0x56c58c(0x1db)](),'KnowledgeCategoryId':$(_0x56c58c(0x1ca))[_0x56c58c(0x1bb)](),'ApprovalStatus':_0x56c58c(0x1c0)},$[_0x56c58c(0x185)](AddItemToList(_0x422c28,_0x49cb74))[_0x56c58c(0x1a6)](function(_0x352c84){var _0x1a5b64=_0x56c58c,_0x4e6b79=_0x352c84['d'];document['location']['href']=document[_0x1a5b64(0x1a3)]['href']+_0x1a5b64(0x171)+_0x4e6b79['ID']+'&hideDelete=1&undefined=undefined';})['fail'](function(){var _0x3ee1c9=_0x56c58c;console[_0x3ee1c9(0x1b2)]('Error\x20in\x20adding\x20Topic.');});}function AddNewTopic(_0x3a70bf){var _0x43692a=a0_0x5f1448,_0x450aa6=ListCommonService[_0x43692a(0x1ae)](_0x43692a(0x173)),_0x823267=_0x43692a(0x1cf),_0x112530=new Date(),_0x48967b=GetItemTypeForListName(_0x823267),_0x4ac103;_0x4ac103={'__metadata':{'type':_0x48967b},'ApprovedById':_spPageContextInfo[_0x43692a(0x174)],'ApprovedDate':_0x112530[_0x43692a(0x15f)](),'ApprovalStatus':_0x3a70bf,'Title':$(_0x43692a(0x1e4))[_0x43692a(0x1bb)](),'Description':$(_0x43692a(0x172))['html'](),'KnowledgeCategoryId':$(_0x43692a(0x1ca))['val'](),'CoAuthorId':{'results':_0x450aa6}},$['when'](AddItemToList(_0x823267,_0x4ac103))['done'](function(_0x4b73f6){var _0x4c3019=_0x43692a,_0x19906c=_0x4b73f6['d'];$[_0x4c3019(0x185)](CategoryCounterDetails($(_0x4c3019(0x1ca))[_0x4c3019(0x1bb)]()))[_0x4c3019(0x1a6)](function(_0x1534b4){var _0x297a5b=_0x4c3019,_0x27350e=_0x297a5b(0x1c8),_0x5fc1e3=GetItemTypeForListName(_0x27350e),_0x511304;_0x511304={'__metadata':{'type':_0x5fc1e3},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x297a5b(0x185)](updateItemWithID(_0x27350e,_0x511304,$(_0x297a5b(0x1ca))['val']()))[_0x297a5b(0x1a6)](function(_0x69986b){var _0x417e50=_0x297a5b;_0x3a70bf=='Approved'?(alert(_0x417e50(0x1e1)),document[_0x417e50(0x1a3)][_0x417e50(0x183)]=_0x417e50(0x166)+CompanyId+''):(alert(_0x417e50(0x1dd)),document[_0x417e50(0x1a3)][_0x417e50(0x183)]=document[_0x417e50(0x1a3)][_0x417e50(0x183)]+_0x417e50(0x171)+_0x19906c['ID']+_0x417e50(0x1aa));})[_0x297a5b(0x1c6)](function(){var _0x20a718=_0x297a5b;console[_0x20a718(0x1b2)](_0x20a718(0x1ad));});})['fail'](function(){var _0x2e6de8=_0x4c3019;console[_0x2e6de8(0x1b2)]('Error\x20in\x20adding\x20Topic.');});})['fail'](function(){var _0x1194d6=_0x43692a;console[_0x1194d6(0x1b2)](_0x1194d6(0x1ad));});}function UpdateTopic(_0x496b43,_0x2435c3){var _0x1e2446=a0_0x5f1448,_0x40c6f6=ListCommonService[_0x1e2446(0x1ae)]('newEmployeePicker'),_0x468f60=_0x1e2446(0x1cf),_0x5cdd08=new Date(),_0x4cde2f=GetItemTypeForListName(_0x468f60),_0x224931;_0x224931={'__metadata':{'type':_0x4cde2f},'ApprovedById':_spPageContextInfo['userId'],'ApprovedDate':_0x5cdd08[_0x1e2446(0x15f)](),'ApprovalStatus':_0x496b43,'Title':$(_0x1e2446(0x1e4))[_0x1e2446(0x1bb)](),'Description':$(_0x1e2446(0x172))[_0x1e2446(0x1db)](),'KnowledgeCategoryId':$(_0x1e2446(0x1ca))[_0x1e2446(0x1bb)](),'CoAuthorId':{'results':_0x40c6f6}},$[_0x1e2446(0x185)](updateItemWithID(_0x468f60,_0x224931,_0x2435c3))[_0x1e2446(0x1a6)](function(_0x199d37){var _0xf8488a=_0x1e2446;$[_0xf8488a(0x185)](CategoryCounterDetails(previoscategoryid))[_0xf8488a(0x1a6)](function(_0x39306a){var _0x37666d=_0xf8488a,_0x2bbd25=_0x37666d(0x1c8),_0x1a3a3a=GetItemTypeForListName(_0x2bbd25),_0x38d4b4;_0x38d4b4={'__metadata':{'type':_0x1a3a3a},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$['when'](updateItemWithID(_0x2bbd25,_0x38d4b4,previoscategoryid))[_0x37666d(0x1a6)](function(_0x341dbb){var _0x31b97b=_0x37666d;newCategoryId=$(_0x31b97b(0x1ca))[_0x31b97b(0x1bb)](),previoscategoryid!=newCategoryId?$[_0x31b97b(0x185)](CategoryCounterDetails(newCategoryId))[_0x31b97b(0x1a6)](function(_0x50b6cc){var _0x499cbc=_0x31b97b,_0x2acdcd=_0x499cbc(0x1c8),_0x4d77a1=GetItemTypeForListName(_0x2acdcd),_0x16debe;_0x16debe={'__metadata':{'type':_0x4d77a1},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x499cbc(0x185)](updateItemWithID(_0x2acdcd,_0x16debe,newCategoryId))[_0x499cbc(0x1a6)](function(_0x295d72){var _0x1db718=_0x499cbc;_0x496b43==_0x1db718(0x1b6)?(alert('Topic\x20has\x20been\x20published\x20successfully.'),document[_0x1db718(0x1a3)][_0x1db718(0x183)]=_0x1db718(0x166)+CompanyId+''):(alert(_0x1db718(0x1dd)),document[_0x1db718(0x1a3)][_0x1db718(0x183)]=document[_0x1db718(0x1a3)][_0x1db718(0x183)][_0x1db718(0x160)]('?')[0x0]+_0x1db718(0x1ba)+departmentID+_0x1db718(0x171)+_0x2435c3+'&undefined=undefined');});}):_0x496b43==_0x31b97b(0x1b6)?(alert(_0x31b97b(0x1e1)),document[_0x31b97b(0x1a3)][_0x31b97b(0x183)]=_0x31b97b(0x166)+CompanyId+''):(alert(_0x31b97b(0x1dd)),document['location']['href']=document[_0x31b97b(0x1a3)][_0x31b97b(0x183)]['split']('?')[0x0]+_0x31b97b(0x1ba)+departmentID+_0x31b97b(0x171)+_0x2435c3+_0x31b97b(0x1aa));});})[_0xf8488a(0x1c6)](function(){var _0xe95bf8=_0xf8488a;console[_0xe95bf8(0x1b2)](_0xe95bf8(0x1ed));});});}function CategoryCounterDetails(_0x49f997){var _0x4f012b=a0_0x5f1448;prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0;var _0x249f6a=$[_0x4f012b(0x1b8)](),_0x1c5a0d=_0x4f012b(0x1af)+_0x49f997+'\x27',_0x342d32=currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select='+_0x1c5a0d;return $['ajax']({'url':_0x342d32,'headers':{'Accept':_0x4f012b(0x1ea)},'async':![],'success':function(_0x348567){var _0x42f735=_0x4f012b,_0x48778c=_0x348567['d'][_0x42f735(0x165)];for(var _0x5206b4=0x0;_0x5206b4<_0x48778c[_0x42f735(0x16e)];_0x5206b4++){if(_0x48778c[_0x5206b4][_0x42f735(0x1dc)]==_0x42f735(0x1b6))prevPublishedCounter++;else{if(_0x48778c[_0x5206b4][_0x42f735(0x1dc)]==_0x42f735(0x1e0))prevPendingCounter++;else _0x48778c[_0x5206b4][_0x42f735(0x1dc)]=='Draft'&&prevDraftCounter++;}}_0x249f6a['resolve'](_0x348567);},'eror':function(_0x3430c3){var _0x57dbae=_0x4f012b;console[_0x57dbae(0x1b2)](_0x57dbae(0x190));}}),_0x249f6a[_0x4f012b(0x162)]();}function GetTopicDetails(_0x1168c6,_0x8b106b){var _0x8ac7d8=a0_0x5f1448,_0x5682e4='',_0x564a2a=_0x8ac7d8(0x1f2)+_0x8b106b+'\x27',_0x5d6b9a=_0x1168c6+'/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select='+_0x564a2a;$['ajax']({'url':_0x5d6b9a,'headers':{'Accept':_0x8ac7d8(0x1ea)},'async':![],'success':function(_0x4bf69e){var _0x1a3b60=_0x8ac7d8,_0x2a1839=_0x4bf69e['d'][_0x1a3b60(0x165)];for(var _0x125886=0x0;_0x125886<_0x2a1839[_0x1a3b60(0x16e)];_0x125886++){var _0x403dbf=_0x2a1839[_0x125886]['Title'];$(_0x1a3b60(0x1e4))[_0x1a3b60(0x1bb)](_0x403dbf);var _0x34bf44=_0x2a1839[_0x125886][_0x1a3b60(0x18e)];$('.Editor-editor')[_0x1a3b60(0x1db)](_0x34bf44);var _0x50d4f0=_0x2a1839[_0x125886][_0x1a3b60(0x1d5)];$(_0x1a3b60(0x1ca))['val'](_0x50d4f0),$('#btnDelete')[_0x1a3b60(0x18a)](),previoscategoryid=_0x50d4f0,_0x5682e4=_0x2a1839[0x0][_0x1a3b60(0x184)][_0x1a3b60(0x165)];if(_0x5682e4!=null)for(var _0x36fc35=0x0;_0x36fc35<_0x5682e4[_0x1a3b60(0x16e)];_0x36fc35++){var _0x128075=_0x5682e4[_0x36fc35]['UserName'];setPeoplePickerUsersInfoCurrent(_0x1a3b60(0x1ee),_0x128075);}if(_0x2a1839[_0x125886][_0x1a3b60(0x1dc)]==_0x1a3b60(0x1b6)){}}},'eror':function(_0x396029){var _0x161332=_0x8ac7d8;console[_0x161332(0x1b2)](_0x161332(0x190));}});}function GetAttachments(_0x3a0ed7,_0x1c787a){var _0x3fab5e=a0_0x5f1448,_0x10c145=_0x3fab5e(0x1ce)+_0x1c787a+'\x27',_0x8189e4=_0x3a0ed7+'/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select='+_0x10c145;$[_0x3fab5e(0x1ac)]({'url':_0x8189e4,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x46b494){var _0x5eb477=_0x3fab5e,_0x515374=_0x46b494['d'][_0x5eb477(0x165)];for(var _0x4670cf=0x0;_0x4670cf<_0x515374[_0x5eb477(0x16e)];_0x4670cf++){var _0x59330f='';if(_0x515374[_0x4670cf][_0x5eb477(0x1a2)][_0x5eb477(0x165)][_0x5eb477(0x16e)]>0x0){$(_0x5eb477(0x18b))[_0x5eb477(0x18a)]();for(var _0x1fa505=0x0;_0x1fa505<_0x515374[_0x4670cf][_0x5eb477(0x1a2)][_0x5eb477(0x165)]['length'];_0x1fa505++){_0x59330f+='<a\x20id=\x27btnLinkAttachment\x27\x20target=\x27_blank\x27\x20href=\x27'+_0x515374[_0x4670cf][_0x5eb477(0x1a2)]['results'][_0x1fa505][_0x5eb477(0x1e2)]+'\x27>'+_0x515374[_0x4670cf]['AttachmentFiles'][_0x5eb477(0x165)][_0x1fa505][_0x5eb477(0x1c5)]+_0x5eb477(0x1a0);{_0x59330f+=_0x5eb477(0x17a)+_0x1c787a+'\x27,\x27'+escape(_0x515374[_0x4670cf][_0x5eb477(0x1a2)]['results'][_0x1fa505][_0x5eb477(0x1c5)])+_0x5eb477(0x19c);}}$(_0x5eb477(0x18b))['html'](''),$(_0x5eb477(0x18b))[_0x5eb477(0x1b3)](_0x59330f);}else $(_0x5eb477(0x18b))[_0x5eb477(0x17d)]();if(_0x515374[_0x4670cf]['ApprovalStatus']==_0x5eb477(0x1b6)){}}},'eror':function(_0x1200fa){var _0x1b07e9=_0x3fab5e;console[_0x1b07e9(0x1b2)](_0x1b07e9(0x190));}});}function a0_0x4aaf(_0x88f161,_0x2e569a){var _0x2d8d16=a0_0x2d8d();return a0_0x4aaf=function(_0x4aaf3c,_0x215bdc){_0x4aaf3c=_0x4aaf3c-0x15f;var _0xf56c73=_0x2d8d16[_0x4aaf3c];return _0xf56c73;},a0_0x4aaf(_0x88f161,_0x2e569a);}function InitializationComponents(){var _0x3b8f7e=a0_0x5f1448;departmentID=GetParameterValues(_0x3b8f7e(0x163)),departmentID>0x0&&GetDepartmentUrl(_0x3b8f7e(0x19e),departmentID);}function GetDepartmentUrl(_0x5ee4a8,_0x122d77){var _0x340c26=a0_0x5f1448,_0x17d406=_spPageContextInfo['webAbsoluteUrl']+_0x340c26(0x16d)+_0x122d77+'\x27';$['ajax']({'url':_0x17d406,'headers':{'Accept':_0x340c26(0x1ea)},'async':!![],'success':function(_0x1c72c6){var _0x3bee82=_0x340c26,_0x12e2c0=_0x1c72c6['d'][_0x3bee82(0x165)];if(_0x12e2c0[_0x3bee82(0x16e)]>0x0){currentDepartnemtUrls=_0x12e2c0[0x0][_0x3bee82(0x1a9)],bindCategoryDropDown(),$(_0x3bee82(0x18b))[_0x3bee82(0x17d)]();var _0x35c68a=titanForWork[_0x3bee82(0x18d)](_0x3bee82(0x1a1));if(_0x35c68a!=null&&_0x35c68a!=''){GetTopicDetails(currentDepartnemtUrls,_0x35c68a),GetAttachments(currentDepartnemtUrls,_0x35c68a);var _0x57b3c9=titanForWork[_0x3bee82(0x18d)]('hideDelete');_0x57b3c9==null?$(_0x3bee82(0x19b))['show']():$(_0x3bee82(0x19b))[_0x3bee82(0x17d)]();}else $('#txtAttachment')['hide'](),AddNewOnPageLoadTopic();}},'eror':function(_0x418d8f){var _0x29cc47=_0x340c26;console[_0x29cc47(0x1b2)]($(_0x29cc47(0x188))[_0x29cc47(0x1bb)]());}});}function a0_0x2d8d(){var _0x392dd4=['location','Please\x20select\x20topic\x20category.','charAt','done','/Pages/Default.aspx?WebAppId=','join','SiteURL','&undefined=undefined','PATCH','ajax','Error\x20in\x20adding\x20Topic.','getMultiPeoplePickerUserInfo','ID,ApprovalStatus,KnowledgeCategoryId&$top=5000&$filter=KnowledgeCategoryId\x20eq\x20\x27','POST','#btnCloseTopicForm','log','append','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(\x27','change','Approved','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(','Deferred','760FtJqAO','?WebAppId=232&DepartmentId=','val',')/AttachmentFiles/getByFileName(\x27','value','/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items?$select=','\x20This\x20files\x20type\x20are\x20not\x20allow!\x20','Not\x20Submitted','GetContextWebInformation','\x27)/GetItemById(\x27','stringify','empty','FileName','fail','Please\x20enter\x20topic\x20title.','KnowledgeBaseCategory','name','#ddlCategory','CompanyId','Please\x20click\x20on\x20draft.','text','ID,AttachmentFiles,ApprovalStatus&$expand=AttachmentFiles&$filter=ID\x20eq\x20\x27','KnowledgeBase','[id$=\x27','45046166WBSoKW','topiccategoryid','GetAllUserInfo','.sp-peoplepicker-editorInput','KnowledgeCategoryId','The\x20file\x20name\x20is\x20already\x20exist.','User','Are\x20you\x20sure,you\x20want\x20to\x20delete\x20this\x20item\x20?','10gGtqSh','[id^=\x27','html','ApprovalStatus','Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.','ready','2997891xTpDGG','Pending','Topic\x20has\x20been\x20published\x20successfully.','ServerRelativeUrl','toUpperCase','#txtTopicTitle','ManageCompany','TechAdmin','Please\x20enter\x20topic\x20description.','ResolvePrincipalSource','SiteAdmin','application/json;odata=verbose','54719AYkLSH','#txtAttachment','Error\x20in\x20updating\x20Topic.','newEmployeePicker_TopSpan','/_api/contextinfo','result','indexOf','ID,ApprovedDate,ApprovalStatus,Title,Description,AttachmentFiles,KnowledgeCategoryId,CoAuthor/UserName,ApprovedBy/Id,ApprovedBy/UserName&$expand=ApprovedBy,AttachmentFiles,CoAuthor&$filter=ID\x20eq\x20\x27','toISOString','split','click','promise','DepartmentId','#btnApproved','results','../Pages/Myworkplace.aspx?WebAppId=','FormDigestValue','<option></option>','AllowMultipleValues','1722068RbGGiR','2IDoPuN','SP.Data.','/_api/web/lists/getbytitle(\x27Departments\x27)/items?$select=ID,SiteURL&$filter=ID\x20eq\x20\x27','length','AddUserKeys','MaximumEntitySuggestions','&topicid=','.Editor-editor','newEmployeePicker','userId','webAbsoluteUrl','attr','disabled','trim','/_api/web/lists/getbytitle(\x27','<span\x20aria-hidden=\x27true\x27\x20id=\x27btnDeleteAttachment\x27\x20style=\x27cursor:\x20pointer;\x27onclick=DeleteItemAttachment(\x27','12oLYPLo','SPClientPeoplePickerDict','hide','DELETE','Title\x20can\x27t\x20be\x20more\x20than\x20250\x20characters.','\x27)/items?$select=','each','resolve','href','CoAuthor','when','ListItem','readAsArrayBuffer','#txtSomethingWentWrong','Draft','show','#spanAttachmentCollection','Please\x20add\x20topic.','getQueryStringParameter','Description','focus','error','Width','reject','contenteditable','2529888SifyBw','slice','files','1107130rJDUbc','#__REQUESTDIGEST','2337096nkYjDw','Key','#btnDelete','\x27);>x</span></label>&nbsp&nbsp','#btnDraft','Departments','PrincipalAccountType','</a>&nbsp','topicid','AttachmentFiles'];a0_0x2d8d=function(){return _0x392dd4;};return a0_0x2d8d();}function bindCategoryDropDown(){var _0x484c29=a0_0x5f1448,_0x650635='';$('#ddlCategory')[_0x484c29(0x1c4)](),_0x650635='Title,ID&$filter=Status\x20eq\x20\x271\x27';var _0x5d8398=currentDepartnemtUrls+_0x484c29(0x1be)+_0x650635;$['ajax']({'url':_0x5d8398,'headers':{'Accept':_0x484c29(0x1ea)},'async':![],'success':function(_0x2c2306){var _0x1c45a8=_0x484c29,_0x787d2d=_0x2c2306['d'][_0x1c45a8(0x165)];for(var _0x43ec7d=0x0;_0x43ec7d<_0x787d2d[_0x1c45a8(0x16e)];_0x43ec7d++){var _0x45e8fd=_0x787d2d[_0x43ec7d]['Title'],_0x191bee=_0x787d2d[_0x43ec7d]['ID'];$(_0x1c45a8(0x1ca))[_0x1c45a8(0x1b3)]($(_0x1c45a8(0x168))[_0x1c45a8(0x176)](_0x1c45a8(0x1bd),_0x191bee)[_0x1c45a8(0x1cd)](_0x45e8fd));}var _0x2aff63=titanForWork[_0x1c45a8(0x18d)](_0x1c45a8(0x1d2));_0x2aff63!=null&&$(_0x1c45a8(0x1ca))[_0x1c45a8(0x1bb)](_0x2aff63);},'eror':function(_0x20463c){var _0x5a1756=_0x484c29;console[_0x5a1756(0x1b2)](_0x5a1756(0x190));}});}function setPeoplePickerUsersInfoCurrent(_0x4ed5c1,_0x2d4775){var _0x2cf7dd=a0_0x5f1448,_0x74cced=$(_0x2cf7dd(0x1d0)+_0x4ed5c1+'\x27]'),_0x38d435=SPClientPeoplePicker[_0x2cf7dd(0x17c)][_0x74cced[0x0]['id']];_0x38d435[_0x2cf7dd(0x16f)](_0x2d4775,![]);}function updateItemWithID(_0x3f75ab,_0x2fa674,_0x3e5a36){var _0x4b97e6=a0_0x5f1448,_0x5648fc=$[_0x4b97e6(0x1b8)]();return $['ajax']({'url':currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27'+_0x3f75ab+_0x4b97e6(0x1c2)+_0x3e5a36+'\x27)','type':'POST','headers':{'accept':_0x4b97e6(0x1ea),'X-RequestDigest':$(_0x4b97e6(0x198))['val'](),'content-Type':_0x4b97e6(0x1ea),'X-Http-Method':_0x4b97e6(0x1ab),'If-Match':'*'},'data':JSON[_0x4b97e6(0x1c3)](_0x2fa674),'async':![],'success':function(_0x37ebca){var _0x1c46b6=_0x4b97e6;_0x5648fc[_0x1c46b6(0x182)](!![]);},'error':function(_0x3e4b11){var _0x475993=_0x4b97e6;alert(JSON[_0x475993(0x1c3)](_0x3e4b11)),_0x5648fc[_0x475993(0x192)](_0x3e4b11);}}),_0x5648fc[_0x4b97e6(0x162)]();}function GetItemTypeForListName(_0xefae10){var _0x15d5ec=a0_0x5f1448;return _0x15d5ec(0x16c)+_0xefae10[_0x15d5ec(0x1a5)](0x0)[_0x15d5ec(0x1e3)]()+_0xefae10[_0x15d5ec(0x160)]('\x20')[_0x15d5ec(0x1a8)]('')['slice'](0x1)+_0x15d5ec(0x186);}function getUserInfo(_0x31e3fb){var _0x14fb14=a0_0x5f1448,_0x44c93c=$(_0x14fb14(0x1da)+_0x31e3fb+'\x27]'),_0x165aba=SPClientPeoplePicker[_0x14fb14(0x17c)][_0x44c93c[0x1]['id']],_0x4f6118=_0x165aba[_0x14fb14(0x1d3)](),_0x1422ec='';return _0x4f6118[_0x14fb14(0x16e)]>0x0&&(_0x1422ec=_0x4f6118[0x0][_0x14fb14(0x19a)]),_0x1422ec;}function SetPeoplePicker_Multiselect(_0x286142,_0xdfb8e4){var _0x2dd423=a0_0x5f1448;_0xdfb8e4==null&&(_0xdfb8e4=![]);var _0x49ba24={};_0x49ba24[_0x2dd423(0x19f)]=_0x2dd423(0x1d7),_0x49ba24['SearchPrincipalSource']=0xf,_0x49ba24[_0x2dd423(0x1e8)]=0xf,_0x49ba24[_0x2dd423(0x169)]=_0xdfb8e4,_0x49ba24[_0x2dd423(0x170)]=0x32,_0x49ba24[_0x2dd423(0x191)]='',SPClientPeoplePicker_InitStandaloneControlWrapper(_0x286142,null,_0x49ba24);}function AddItemToList(_0x14712b,_0x4f9e40){var _0xd52fe3=a0_0x5f1448,_0x56d07a=$[_0xd52fe3(0x1b8)]();restQuery='ID';var _0x480ef4=currentDepartnemtUrls+_0xd52fe3(0x179)+_0x14712b+_0xd52fe3(0x180)+restQuery;return $[_0xd52fe3(0x1ac)]({'url':_0x480ef4,'type':_0xd52fe3(0x1b0),'async':![],'headers':{'accept':_0xd52fe3(0x1ea),'X-RequestDigest':$(_0xd52fe3(0x198))[_0xd52fe3(0x1bb)](),'content-Type':'application/json;odata=verbose'},'data':JSON['stringify'](_0x4f9e40),'success':function(_0x369fd8){var _0x430662=_0x369fd8['d']['ID'];_0x56d07a['resolve'](_0x369fd8);},'error':function(_0x15ce56){var _0x4e0e6b=_0xd52fe3;alert(JSON[_0x4e0e6b(0x1c3)](_0x15ce56)),_0x56d07a['reject'](_0x15ce56);}}),_0x56d07a[_0xd52fe3(0x162)]();}function AddAttachments(_0x45346e){var _0x137346=a0_0x5f1448,_0x2f7d4a='';$[_0x137346(0x1ac)]({'url':currentDepartnemtUrls+_0x137346(0x1ef),'method':_0x137346(0x1b0),'headers':{'ACCEPT':'application/json;odata=verbose','content-type':_0x137346(0x1ea)},'success':function(_0x3e1679){var _0x5c3811=_0x137346;_0x2f7d4a=_0x3e1679['d'][_0x5c3811(0x1c1)][_0x5c3811(0x167)];},'error':function(_0x2624d8){}})['done'](function(){var _0x2e11c1=_0x137346,_0x1aa565=$(_0x2e11c1(0x1ec)),_0x38a210=_0x1aa565[0x0][_0x2e11c1(0x196)][0x0]['name'],_0x38e6bd=new FileReader();_0x38e6bd['onload']=function(_0x5d3b95){var _0xe29a6a=_0x2e11c1,_0x36886c=_0x5d3b95['target'][_0xe29a6a(0x1f0)],_0x4ec111=$['ajax']({'url':currentDepartnemtUrls+_0xe29a6a(0x1b4)+_0x45346e+'\x27)/AttachmentFiles/\x20add(FileName=\x27'+_0x38a210+'\x27)','method':_0xe29a6a(0x1b0),'binaryStringRequestBody':!![],'data':_0x36886c,'processData':![],'headers':{'ACCEPT':_0xe29a6a(0x1ea),'X-RequestDigest':_0x2f7d4a},'success':function(_0x2e2dbf){var _0x5b71ab=_0xe29a6a,_0x93acd7=titanForWork[_0x5b71ab(0x18d)]('topicid');GetAttachments(currentDepartnemtUrls,_0x93acd7),$(_0x5b71ab(0x18b))[_0x5b71ab(0x18a)](),$(_0x5b71ab(0x1ec))[_0x5b71ab(0x1bb)](null);},'error':function(_0x51d058){var _0x8c0752=_0xe29a6a;alert(_0x8c0752(0x1d6));}});},_0x38e6bd[_0x2e11c1(0x187)](_0x1aa565[0x0][_0x2e11c1(0x196)][0x0]);});}function DeleteItemAttachment(_0x445a50,_0x1ca06b){var _0x16135b=a0_0x5f1448;_0x1ca06b=unescape(_0x1ca06b);var _0x31908b=$[_0x16135b(0x1b8)](),_0x22d111=currentDepartnemtUrls+'/_api/web/lists/GetByTitle(\x27KnowledgeBase\x27)/GetItemById('+_0x445a50+_0x16135b(0x1bc)+_0x1ca06b+'\x27)';return $[_0x16135b(0x1ac)]({'url':_0x22d111,'type':_0x16135b(0x17e),'contentType':_0x16135b(0x1ea),'headers':{'X-RequestDigest':$(_0x16135b(0x198))[_0x16135b(0x1bb)](),'X-HTTP-Method':_0x16135b(0x17e),'Accept':_0x16135b(0x1ea)},'success':function(_0x586e8f){var _0x169550=_0x16135b,_0x496542=titanForWork[_0x169550(0x18d)](_0x169550(0x1a1));$('#txtAttachment')[_0x169550(0x1bb)](''),GetAttachments(currentDepartnemtUrls,_0x496542),_0x31908b[_0x169550(0x182)](_0x586e8f);},'error':function(_0x41eb30){_0x31908b['reject'](JSON['stringify'](_0x41eb30));}}),_0x31908b[_0x16135b(0x162)]();}function checkPublishValidation(){var _0x79cd0f=a0_0x5f1448;if($('#txtTopicTitle')['val']()=='')return alert(_0x79cd0f(0x18c)),$(_0x79cd0f(0x1e4))[_0x79cd0f(0x18f)](),![];if($(_0x79cd0f(0x172))[_0x79cd0f(0x1cd)]()=='')return alert('Please\x20enter\x20description.'),$(_0x79cd0f(0x172))['focus'](),![];return!![];}function RemoveListItem(){var _0x53039f=a0_0x5f1448,_0x33cbca=titanForWork['getQueryStringParameter']('topicid');$[_0x53039f(0x1ac)]({'url':currentDepartnemtUrls+_0x53039f(0x1b7)+_0x33cbca+')','type':_0x53039f(0x1b0),'contentType':'application/json;odata=verbose','headers':{'Accept':_0x53039f(0x1ea),'X-RequestDigest':$(_0x53039f(0x198))[_0x53039f(0x1bb)](),'IF-MATCH':'*','X-HTTP-Method':_0x53039f(0x17e)},'success':function(_0x3e2be8){var _0x32ead4=_0x53039f;$[_0x32ead4(0x185)](CategoryCounterDetails($(_0x32ead4(0x1ca))[_0x32ead4(0x1bb)]()))[_0x32ead4(0x1a6)](function(_0x1159a8){var _0x16ecd9=_0x32ead4,_0x5ed0ff='KnowledgeBaseCategory',_0x34ce6b=GetItemTypeForListName(_0x5ed0ff),_0x316b81;_0x316b81={'__metadata':{'type':_0x34ce6b},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x16ecd9(0x185)](updateItemWithID(_0x5ed0ff,_0x316b81,$(_0x16ecd9(0x1ca))['val']()))[_0x16ecd9(0x1a6)](function(_0x375b06){var _0xf529a=_0x16ecd9;document['location'][_0xf529a(0x183)]=_0xf529a(0x166)+CompanyId+'';})[_0x16ecd9(0x1c6)](function(){var _0x59b2b2=_0x16ecd9;console[_0x59b2b2(0x1b2)](_0x59b2b2(0x1ad));});})[_0x32ead4(0x1c6)](function(){console['log']('Error\x20in\x20adding\x20Topic.');});},'error':function(_0x1dc01c){var _0x59eb19=_0x53039f;console[_0x59eb19(0x1b2)]('Something\x20went\x20wrong.');}});}function controlBoxesReadonly(){var _0x11f72f=a0_0x5f1448;$(_0x11f72f(0x1e4))[_0x11f72f(0x176)]('readonly',!![]),$(_0x11f72f(0x172))[_0x11f72f(0x176)](_0x11f72f(0x193),![]),$(_0x11f72f(0x1ca))[_0x11f72f(0x176)](_0x11f72f(0x177),!![]),$(_0x11f72f(0x1d4))[_0x11f72f(0x176)](_0x11f72f(0x177),_0x11f72f(0x177)),$(_0x11f72f(0x1ec))['prop'](_0x11f72f(0x177),!![]),$('#btnApproved')[_0x11f72f(0x17d)](),$(_0x11f72f(0x19d))[_0x11f72f(0x17d)](),$('#btnDelete')[_0x11f72f(0x17d)]();}function GetParameterValues(_0x25e11b){var _0xf22c62=a0_0x5f1448,_0x2b76ce=window['location'][_0xf22c62(0x183)][_0xf22c62(0x195)](window[_0xf22c62(0x1a3)][_0xf22c62(0x183)][_0xf22c62(0x1f1)]('?')+0x1)[_0xf22c62(0x160)]('&');for(var _0x258710=0x0;_0x258710<_0x2b76ce[_0xf22c62(0x16e)];_0x258710++){var _0x3433f3=_0x2b76ce[_0x258710][_0xf22c62(0x160)]('=');if(_0x3433f3[0x0]==_0x25e11b)return _0x3433f3[0x1];}}