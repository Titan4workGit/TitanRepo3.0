var a0_0x34973d=a0_0x1b28;(function(_0x7f1eb4,_0x27a27b){var _0x5d0056=a0_0x1b28,_0x49a67f=_0x7f1eb4();while(!![]){try{var _0x5910fe=-parseInt(_0x5d0056(0x1d5))/0x1*(parseInt(_0x5d0056(0x1af))/0x2)+-parseInt(_0x5d0056(0x1b2))/0x3+parseInt(_0x5d0056(0x1c1))/0x4+-parseInt(_0x5d0056(0x1ae))/0x5*(-parseInt(_0x5d0056(0x1ef))/0x6)+parseInt(_0x5d0056(0x1c5))/0x7+parseInt(_0x5d0056(0x1e4))/0x8+parseInt(_0x5d0056(0x1e9))/0x9*(-parseInt(_0x5d0056(0x1bb))/0xa);if(_0x5910fe===_0x27a27b)break;else _0x49a67f['push'](_0x49a67f['shift']());}catch(_0x2c74ca){_0x49a67f['push'](_0x49a67f['shift']());}}}(a0_0x56bd,0x4f7e5));var Attendancechck=!![];$(document)[a0_0x34973d(0x1d1)](function(){authentication(),GetManagerID();});function Attendance(){var _0x1413bc=a0_0x34973d,_0x478ae7=_spPageContextInfo['userId'];if(Attendancechck==![])return alert('This\x20feature\x20has\x20been\x20deactivated\x20!'),$(_0x1413bc(0x1e2))[_0x1413bc(0x1e8)]('toggle'),![];var _0x21fb63=new Date(ConvertDateTimeFormat($('#timesheetdate')[_0x1413bc(0x1da)](),'/')),_0x240923=_0x21fb63['getFullYear']()+'-'+(_0x21fb63[_0x1413bc(0x1b7)]()+0x1)+'-'+_0x21fb63['getDate'](),_0x30304e=_spPageContextInfo[_0x1413bc(0x1e5)]+_0x1413bc(0x1d7)+_0x478ae7+_0x1413bc(0x1dd)+_0x240923+_0x1413bc(0x1b3);$[_0x1413bc(0x1d0)]({'url':_0x30304e,'headers':{'Accept':_0x1413bc(0x1e0)},'async':![],'success':function(_0x2a4cfc){var _0x52c6dd=_0x1413bc,_0x5c9e73=_0x2a4cfc['d'][_0x52c6dd(0x1b4)];if(_0x5c9e73[_0x52c6dd(0x1d2)]>0x0){if(G_Validateholiday==!![]){if(confirm('This\x20is\x20a\x20Holiday,\x20are\x20you\x20sure\x20to\x20submit\x20your\x20attendance.')){var _0x35d297=_0x5c9e73[0x0]['ID'];UpdateAttendance(_0x35d297);}}else{var _0x35d297=_0x5c9e73[0x0]['ID'];UpdateAttendance(_0x35d297);}}else G_Validateholiday==!![]?confirm('This\x20is\x20a\x20Holiday,\x20are\x20you\x20sure\x20to\x20submit\x20your\x20attendance.')&&SetAttendance():SetAttendance();},'error':function(_0x55ca87){var _0x568995=_0x1413bc;console['log'](_0x568995(0x1cc)),console[_0x568995(0x1e1)](_0x55ca87);}});}function UpdateAttendance(_0x38d539){var _0x5199d2=a0_0x34973d,_0x3df9de=ConvertDateTimeFormat($(_0x5199d2(0x1ce))[_0x5199d2(0x1da)](),'/');_0x3df9de=new Date(_0x3df9de);;var _0xfb5ddc=_spPageContextInfo['userId'];$('#AttendanceDDL')[_0x5199d2(0x1da)]()!='0'&&$('#AttendanceDDL')[_0x5199d2(0x1da)]()!=_0x5199d2(0x1b9)||G_Validateholiday==!![]?$[_0x5199d2(0x1d0)]({'url':_spPageContextInfo[_0x5199d2(0x1e5)]+_0x5199d2(0x1e3)+_0x38d539+'\x27)','type':_0x5199d2(0x1e6),'data':JSON[_0x5199d2(0x1a6)]({'__metadata':{'type':_0x5199d2(0x1cb)},'Title':_0x5199d2(0x1ab),'EmployeeId':_0xfb5ddc,'ManagerIDId':parseInt(G_ManagerID),'AttendanceType':$('#AttendanceDDL')[_0x5199d2(0x1da)](),'AttendanceDate':_0x3df9de}),'headers':{'Accept':_0x5199d2(0x1e0),'Content-Type':'application/json;odata=verbose','X-RequestDigest':$(_0x5199d2(0x1ec))['val'](),'IF-MATCH':'*','X-HTTP-Method':_0x5199d2(0x1be)},'success':function(_0x436711,_0x13af83,_0x2e0642){var _0x1aa7b2=_0x5199d2;alert(_0x1aa7b2(0x1f0)),$('#MyAttendance')[_0x1aa7b2(0x1e8)]('toggle'),$(_0x1aa7b2(0x1ce))[_0x1aa7b2(0x1b6)]({'dateFormat':_0x1aa7b2(0x1c2),'maxDate':0x0})['datepicker'](_0x1aa7b2(0x1a9),new Date());},'error':function(_0x49e8e0){var _0x4554c9=_0x5199d2;console[_0x4554c9(0x1e1)](_0x4554c9(0x1bd)),console[_0x4554c9(0x1e1)](_0x49e8e0);}}):alert(_0x5199d2(0x1cf));}function a0_0x1b28(_0x2aa168,_0x116019){var _0x56bd4e=a0_0x56bd();return a0_0x1b28=function(_0x1b2839,_0x122e17){_0x1b2839=_0x1b2839-0x1a6;var _0x11cc0d=_0x56bd4e[_0x1b2839];return _0x11cc0d;},a0_0x1b28(_0x2aa168,_0x116019);}function SetAttendance(){var _0x3f068e=a0_0x34973d,_0xb40b44=ConvertDateTimeFormat($('#timesheetdate')[_0x3f068e(0x1da)](),'/');_0xb40b44=new Date(_0xb40b44);;var _0xb0d450=_spPageContextInfo[_0x3f068e(0x1bf)];$(_0x3f068e(0x1b0))[_0x3f068e(0x1da)]()!='0'&&$(_0x3f068e(0x1b0))['val']()!=_0x3f068e(0x1b9)||G_Validateholiday==!![]?$[_0x3f068e(0x1d0)]({'url':_spPageContextInfo[_0x3f068e(0x1e5)]+_0x3f068e(0x1bc),'type':_0x3f068e(0x1e6),'data':JSON[_0x3f068e(0x1a6)]({'__metadata':{'type':'SP.Data.EmpAttendanceListItem'},'Title':_0x3f068e(0x1ab),'EmployeeId':_0xb0d450,'ManagerIDId':parseInt(G_ManagerID),'AttendanceType':$('#AttendanceDDL')['val'](),'AttendanceDate':_0xb40b44}),'headers':{'Accept':_0x3f068e(0x1e0),'Content-Type':_0x3f068e(0x1e0),'X-RequestDigest':$(_0x3f068e(0x1ec))[_0x3f068e(0x1da)](),'X-HTTP-Method':'POST'},'success':function(_0x395261,_0x45809b,_0x4b7e46){var _0x256042=_0x3f068e;alert(_0x256042(0x1f0)),$(_0x256042(0x1e2))[_0x256042(0x1e8)](_0x256042(0x1c8)),$(_0x256042(0x1ce))[_0x256042(0x1b6)]({'dateFormat':_0x256042(0x1c2),'maxDate':0x0})[_0x256042(0x1b6)](_0x256042(0x1a9),new Date());},'error':function(_0x396d91){var _0x25d8e0=_0x3f068e;console['log'](_0x25d8e0(0x1db)),console[_0x25d8e0(0x1e1)](_0x396d91);}}):alert(_0x3f068e(0x1cf));}function SetAttendanceDDL(){var _0x3494b7=a0_0x34973d,_0x492db7=_spPageContextInfo[_0x3494b7(0x1bf)],_0x36617b=new Date(ConvertDateTimeFormat($(_0x3494b7(0x1ce))[_0x3494b7(0x1da)](),'/')),_0x588c2a=_0x36617b['getFullYear']()+'-'+(_0x36617b['getMonth']()+0x1)+'-'+_0x36617b[_0x3494b7(0x1c0)]();GetHolidays(_0x588c2a);var _0x278f1d=_spPageContextInfo[_0x3494b7(0x1e5)]+_0x3494b7(0x1d7)+_0x492db7+'\x27\x20and\x20AttendanceDate\x20eq\x20\x27'+_0x588c2a+'\x27';$[_0x3494b7(0x1d0)]({'url':_0x278f1d,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x471b99){var _0x3d8e0e=_0x3494b7,_0x2d8223=_0x471b99['d'][_0x3d8e0e(0x1b4)];_0x2d8223['length']>0x0?($(_0x3d8e0e(0x1b0))[_0x3d8e0e(0x1da)](_0x2d8223[0x0][_0x3d8e0e(0x1dc)]),_0x2d8223[0x0][_0x3d8e0e(0x1c4)]==!![]?($(_0x3d8e0e(0x1b0))['prop'](_0x3d8e0e(0x1a7),!![]),$(_0x3d8e0e(0x1b1))['css']('display',_0x3d8e0e(0x1a8)),$('#Submit-attendance')[_0x3d8e0e(0x1ed)]('display','none')):($(_0x3d8e0e(0x1b0))[_0x3d8e0e(0x1aa)]('disabled',![]),$(_0x3d8e0e(0x1b1))[_0x3d8e0e(0x1ed)]('display',_0x3d8e0e(0x1d6)),$(_0x3d8e0e(0x1ee))['css'](_0x3d8e0e(0x1c9),_0x3d8e0e(0x1b5)))):($(_0x3d8e0e(0x1b0))[_0x3d8e0e(0x1da)]()=='0'&&$(_0x3d8e0e(0x1b0))['val']('0'),$('#AttendanceDDL')[_0x3d8e0e(0x1aa)](_0x3d8e0e(0x1a7),![]),$(_0x3d8e0e(0x1b1))['css'](_0x3d8e0e(0x1c9),_0x3d8e0e(0x1d6)),$(_0x3d8e0e(0x1b0))[_0x3d8e0e(0x1da)]('0'),$('#Submit-attendance')[_0x3d8e0e(0x1ed)]('display',_0x3d8e0e(0x1b5)));},'error':function(_0x4d2616){var _0x254d64=_0x3494b7;console[_0x254d64(0x1e1)](_0x254d64(0x1cc)),console[_0x254d64(0x1e1)](_0x4d2616);}});}function ConvertDateTimeFormat(_0x1fe8a3,_0x1b7bd0){var _0x41f26a=a0_0x34973d;return _0x1fe8a3['split'](_0x1b7bd0)[0x1]+''+_0x1b7bd0+''+_0x1fe8a3[_0x41f26a(0x1ea)](_0x1b7bd0)[0x0]+''+_0x1b7bd0+''+_0x1fe8a3[_0x41f26a(0x1ea)](_0x1b7bd0)[0x2];}var G_ManagerID=0x0;function GetManagerID(){var _0x4a3655=a0_0x34973d,_0x2fe836=_spPageContextInfo[_0x4a3655(0x1e5)]+_0x4a3655(0x1d4)+_spPageContextInfo[_0x4a3655(0x1bf)]+'\x27)';$[_0x4a3655(0x1d0)]({'url':_0x2fe836,'headers':{'Accept':_0x4a3655(0x1e0)},'async':![],'success':function(_0x34dc5e){var _0xf3dd9=_0x4a3655,_0x502e19=_0x34dc5e['d'][_0xf3dd9(0x1b4)];_0x502e19[_0xf3dd9(0x1d2)]>0x0?G_ManagerID=_0x502e19[0x0][_0xf3dd9(0x1d3)]:G_ManagerID=0x0;},'error':function(_0x1248ae){var _0x3f7350=_0x4a3655;alert(_0x3f7350(0x1f1));}});}function SetCurrentdate(){var _0x48e97a=a0_0x34973d;$(_0x48e97a(0x1ce))[_0x48e97a(0x1b6)]({'dateFormat':'dd/mm/yy','maxDate':0x0})[_0x48e97a(0x1b6)]('setDate',new Date());}function a0_0x56bd(){var _0x24d2c3=['getMonth','Active','Holiday','Title','760370tAZboU','/_api/web/lists/GetByTitle(\x27EmpAttendance\x27)/items','UpdateAttendance\x20function\x20failed','MERGE','userId','getDate','1961692VgsEFf','dd/mm/yy','Attendance\x20Entry','HrAction','2445485avQxRV','\x27&$top=200&$orderby=Holiday_start\x20asc','userDisplayName','toggle','display','getQueryStringParameter','SP.Data.EmpAttendanceListItem','Attendance\x20function\x20failed','/_api/web/lists/getbytitle(\x27CompanyHoliday\x27)/items?$filter=OfficeLocationID\x20eq\x20(\x27','#timesheetdate','Plese\x20select\x20proper\x20attandence.','ajax','ready','length','ManagerLoginNameId','/_api/web/lists/getbytitle(\x27Employees\x27)/items?$filter=LogonName\x20eq\x20(\x27','193jJDoPF','none','/_api/web/lists/getbytitle(\x27EmpAttendance\x27)/items?$filter=EmployeeId\x20eq\x20\x27','\x27\x20and\x20CompanyID\x20eq\x20\x27','#Reports-menu>ul\x20li','val','SetAttendance\x20function\x20failed','AttendanceType','\x27\x20and\x20AttendanceDate\x20eq\x20\x27','#Timesheet-toggle-li','\x27)and\x20Holiday_start\x20eq\x20\x27','application/json;odata=verbose','log','#MyAttendance','/_api/web/lists/GetByTitle(\x27EmpAttendance\x27)/items(\x27','4458096NazVMG','webAbsoluteUrl','POST','hide','modal','45wlDmlW','split','text','#__REQUESTDIGEST','css','#Submit-attendance','2304TFSDJp','Attendance\x20has\x20been\x20saved.','An\x20error\x20occurred.\x20Please\x20try\x20again.','#Attendance-toggle-li','stringify','disabled','block','setDate','prop','Attendance','/_api/web/lists/getbytitle(\x27EnvironmentalSettings\x27)/items?$select=Title,Active,ListOfUsers/Title&$filter=Title\x20eq\x20\x27Attendance\x20Entry\x27\x20or\x20Title\x20eq\x20\x27Timesheet\x20Entry\x27\x20&$expand=ListOfUsers/Id','#HolidayMessage','415zluCOS','4964rCoBrs','#AttendanceDDL','#HR-Message','732288AGBley','\x27\x20\x20','results','inline-block','datepicker'];a0_0x56bd=function(){return _0x24d2c3;};return a0_0x56bd();}var G_Validateholiday=![];function GetHolidays(_0x524a44){var _0x29a0cb=a0_0x34973d,_0x2df99f=_spPageContextInfo[_0x29a0cb(0x1e5)]+_0x29a0cb(0x1cd)+Logged_Location+_0x29a0cb(0x1df)+_0x524a44+_0x29a0cb(0x1d8)+titanForWork[_0x29a0cb(0x1ca)]('CompanyId')+_0x29a0cb(0x1c6);$[_0x29a0cb(0x1d0)]({'url':_0x2df99f,'headers':{'Accept':_0x29a0cb(0x1e0)},'async':![],'success':function(_0x528035){var _0x1d6ec7=_0x29a0cb,_0x3f97e7=_0x528035['d'][_0x1d6ec7(0x1b4)];_0x3f97e7[_0x1d6ec7(0x1d2)]>0x0?($('#HolidayMessagediv')[_0x1d6ec7(0x1eb)](_0x3f97e7[0x0][_0x1d6ec7(0x1ba)]),$(_0x1d6ec7(0x1ad))[_0x1d6ec7(0x1ed)](_0x1d6ec7(0x1c9),_0x1d6ec7(0x1a8)),G_Validateholiday=!![]):($('#HolidayMessagediv')['text'](''),$('#HolidayMessage')[_0x1d6ec7(0x1ed)](_0x1d6ec7(0x1c9),_0x1d6ec7(0x1d6)),G_Validateholiday=![]);},'error':function(_0x1a72a3){var _0x534458=_0x29a0cb;alert(_0x534458(0x1f1));}});}var AttendanceEntry=!![];function authentication(){var _0x3edbb2=a0_0x34973d,_0x3cf670=_spPageContextInfo[_0x3edbb2(0x1c7)],_0x44ba2a=_spPageContextInfo[_0x3edbb2(0x1e5)]+_0x3edbb2(0x1ac);$[_0x3edbb2(0x1d0)]({'url':_0x44ba2a,'async':![],'type':'GET','headers':{'accept':'application/json;\x20odata=verbose'},'success':function(_0xf99410){var _0x5b0b6d=_0x3edbb2,_0x3794b9=_0xf99410['d'][_0x5b0b6d(0x1b4)];if(_0x3794b9[_0x5b0b6d(0x1d2)]>0x0)for(var _0x92abaa=0x0;_0x92abaa<_0x3794b9['length'];_0x92abaa++){_0x3794b9[_0x92abaa][_0x5b0b6d(0x1ba)]=='Timesheet\x20Entry'&&(_0x3794b9[_0x92abaa]['Active']==![]&&(Attendancechck=![],$(_0x5b0b6d(0x1de))['hide'](),$('#Reports-menu>ul\x20li')['eq'](0x2)[_0x5b0b6d(0x1ed)](_0x5b0b6d(0x1c9),_0x5b0b6d(0x1d6)))),_0x3794b9[_0x92abaa][_0x5b0b6d(0x1ba)]==_0x5b0b6d(0x1c3)&&(_0x3794b9[_0x92abaa][_0x5b0b6d(0x1b8)]==![]&&($(_0x5b0b6d(0x1f2))[_0x5b0b6d(0x1e7)](),$(_0x5b0b6d(0x1d9))['eq'](0x0)[_0x5b0b6d(0x1ed)](_0x5b0b6d(0x1c9),_0x5b0b6d(0x1d6)),$(_0x5b0b6d(0x1d9))['eq'](0x1)[_0x5b0b6d(0x1ed)](_0x5b0b6d(0x1c9),_0x5b0b6d(0x1d6))));}},'error':function(_0x41ae59){alert(JSON['stringify'](_0x41ae59));}});}