var a0_0x186092=a0_0x2381;(function(_0x54218a,_0x2c10c8){var _0x5d2d73=a0_0x2381,_0x28fbed=_0x54218a();while(!![]){try{var _0x38e35d=parseInt(_0x5d2d73(0xc3))/0x1*(parseInt(_0x5d2d73(0xc7))/0x2)+-parseInt(_0x5d2d73(0x10a))/0x3*(-parseInt(_0x5d2d73(0xe0))/0x4)+parseInt(_0x5d2d73(0xc9))/0x5*(parseInt(_0x5d2d73(0xf6))/0x6)+parseInt(_0x5d2d73(0x103))/0x7+-parseInt(_0x5d2d73(0x10c))/0x8+-parseInt(_0x5d2d73(0xbf))/0x9+parseInt(_0x5d2d73(0xd6))/0xa*(-parseInt(_0x5d2d73(0xd4))/0xb);if(_0x38e35d===_0x2c10c8)break;else _0x28fbed['push'](_0x28fbed['shift']());}catch(_0x4d9697){_0x28fbed['push'](_0x28fbed['shift']());}}}(a0_0x2be1,0x1edbb));var Attendancechck=!![];$(document)[a0_0x186092(0x105)](function(){authentication(),GetManagerID();});function Attendance(){var _0x1c29bb=a0_0x186092,_0x375641=_spPageContextInfo[_0x1c29bb(0xc1)];if(Attendancechck==![])return alert(_0x1c29bb(0xd5)),$(_0x1c29bb(0xe5))[_0x1c29bb(0xf2)]('toggle'),![];var _0x3561bf=new Date(ConvertDateTimeFormat($(_0x1c29bb(0xd2))['val'](),'/')),_0x4ee12e=_0x3561bf[_0x1c29bb(0xee)]()+'-'+(_0x3561bf['getMonth']()+0x1)+'-'+_0x3561bf[_0x1c29bb(0xe2)](),_0xbf43b8=_spPageContextInfo[_0x1c29bb(0x104)]+_0x1c29bb(0xfd)+_0x375641+_0x1c29bb(0xd8)+_0x4ee12e+_0x1c29bb(0xed);$[_0x1c29bb(0x101)]({'url':_0xbf43b8,'headers':{'Accept':_0x1c29bb(0xd3)},'async':![],'success':function(_0x4b167a){var _0x86736e=_0x1c29bb,_0x2ae012=_0x4b167a['d'][_0x86736e(0x10b)];if(_0x2ae012[_0x86736e(0xe8)]>0x0){if(G_Validateholiday==!![]){if(confirm(_0x86736e(0xf5))){var _0x2d81c5=_0x2ae012[0x0]['ID'];UpdateAttendance(_0x2d81c5);}}else{var _0x2d81c5=_0x2ae012[0x0]['ID'];UpdateAttendance(_0x2d81c5);}}else G_Validateholiday==!![]?confirm(_0x86736e(0xf5))&&SetAttendance():SetAttendance();},'error':function(_0x89da4){var _0x516863=_0x1c29bb;console['log'](_0x516863(0xc8)),console['log'](_0x89da4);}});}function a0_0x2381(_0x55b209,_0x53afd4){var _0x2be125=a0_0x2be1();return a0_0x2381=function(_0x238165,_0x526df2){_0x238165=_0x238165-0xbf;var _0x4fc168=_0x2be125[_0x238165];return _0x4fc168;},a0_0x2381(_0x55b209,_0x53afd4);}function UpdateAttendance(_0x5a3c54){var _0x2e3455=a0_0x186092,_0x530b8e=ConvertDateTimeFormat($('#timesheetdate')['val'](),'/');_0x530b8e=new Date(_0x530b8e);;var _0x4eb0b4=_spPageContextInfo[_0x2e3455(0xc1)];$(_0x2e3455(0xea))['val']()!='0'&&$(_0x2e3455(0xea))[_0x2e3455(0xff)]()!='Holiday'||G_Validateholiday==!![]?$[_0x2e3455(0x101)]({'url':_spPageContextInfo[_0x2e3455(0x104)]+'/_api/web/lists/GetByTitle(\x27EmpAttendance\x27)/items(\x27'+_0x5a3c54+'\x27)','type':_0x2e3455(0xc0),'data':JSON[_0x2e3455(0x106)]({'__metadata':{'type':_0x2e3455(0xf0)},'Title':_0x2e3455(0xdf),'EmployeeId':_0x4eb0b4,'ManagerIDId':parseInt(G_ManagerID),'AttendanceType':$(_0x2e3455(0xea))[_0x2e3455(0xff)](),'AttendanceDate':_0x530b8e}),'headers':{'Accept':_0x2e3455(0xd3),'Content-Type':'application/json;odata=verbose','X-RequestDigest':$('#__REQUESTDIGEST')[_0x2e3455(0xff)](),'IF-MATCH':'*','X-HTTP-Method':'MERGE'},'success':function(_0x19d12c,_0x1fc1ac,_0x596686){var _0xe3afed=_0x2e3455;alert(_0xe3afed(0xce)),$(_0xe3afed(0xe5))[_0xe3afed(0xf2)](_0xe3afed(0xfb)),$(_0xe3afed(0xd2))[_0xe3afed(0xe1)]({'dateFormat':_0xe3afed(0xfe),'maxDate':0x0})[_0xe3afed(0xe1)](_0xe3afed(0xe7),new Date());},'error':function(_0x42a22d){var _0x262633=_0x2e3455;console[_0x262633(0xd0)](_0x262633(0xc2)),console['log'](_0x42a22d);}}):alert(_0x2e3455(0xcf));}function a0_0x2be1(){var _0x2ce3fa=['userDisplayName','An\x20error\x20occurred.\x20Please\x20try\x20again.','/_api/web/lists/getbytitle(\x27CompanyHoliday\x27)/items?$filter=OfficeLocationID\x20eq\x20(\x27','toggle','GET','/_api/web/lists/getbytitle(\x27EmpAttendance\x27)/items?$filter=EmployeeId\x20eq\x20\x27','dd/mm/yy','val','\x27\x20and\x20CompanyID\x20eq\x20\x27','ajax','AttendanceType','1535408XvADhp','webAbsoluteUrl','ready','stringify','\x27&$top=200&$orderby=Holiday_start\x20asc','display','block','3YAsyij','results','1660016lKmAFr','getMonth','958374FOcqIl','POST','userId','UpdateAttendance\x20function\x20failed','14696OavOMo','\x27)and\x20Holiday_start\x20eq\x20\x27','HrAction','#HolidayMessagediv','14pUneuk','Attendance\x20function\x20failed','1465sqBcCJ','disabled','Timesheet\x20Entry','Attendance\x20Entry','#Reports-menu>ul\x20li','Attendance\x20has\x20been\x20saved.','Plese\x20select\x20proper\x20attandence.','log','/_api/web/lists/getbytitle(\x27Employees\x27)/items?$filter=LogonName\x20eq\x20(\x27','#timesheetdate','application/json;odata=verbose','11AtCJlt','This\x20feature\x20has\x20been\x20deactivated\x20!','1677110LmksdY','Holiday','\x27\x20and\x20AttendanceDate\x20eq\x20\x27','css','#HolidayMessage','text','hide','none','split','Attendance','994668vsnbVf','datepicker','getDate','#Attendance-toggle-li','application/json;\x20odata=verbose','#MyAttendance','Title','setDate','length','#HR-Message','#AttendanceDDL','/_api/web/lists/getbytitle(\x27EnvironmentalSettings\x27)/items?$select=Title,Active,ListOfUsers/Title&$filter=Title\x20eq\x20\x27Attendance\x20Entry\x27\x20or\x20Title\x20eq\x20\x27Timesheet\x20Entry\x27\x20&$expand=ListOfUsers/Id','CompanyId','\x27\x20\x20','getFullYear','/_api/web/lists/GetByTitle(\x27EmpAttendance\x27)/items','SP.Data.EmpAttendanceListItem','inline-block','modal','#Submit-attendance','#__REQUESTDIGEST','This\x20is\x20a\x20Holiday,\x20are\x20you\x20sure\x20to\x20submit\x20your\x20attendance.','762DVtKLV','prop'];a0_0x2be1=function(){return _0x2ce3fa;};return a0_0x2be1();}function SetAttendance(){var _0x2e2e6f=a0_0x186092,_0x43608f=ConvertDateTimeFormat($(_0x2e2e6f(0xd2))[_0x2e2e6f(0xff)](),'/');_0x43608f=new Date(_0x43608f);;var _0x4d3289=_spPageContextInfo['userId'];$(_0x2e2e6f(0xea))['val']()!='0'&&$('#AttendanceDDL')[_0x2e2e6f(0xff)]()!=_0x2e2e6f(0xd7)||G_Validateholiday==!![]?$[_0x2e2e6f(0x101)]({'url':_spPageContextInfo[_0x2e2e6f(0x104)]+_0x2e2e6f(0xef),'type':_0x2e2e6f(0xc0),'data':JSON[_0x2e2e6f(0x106)]({'__metadata':{'type':'SP.Data.EmpAttendanceListItem'},'Title':'Attendance','EmployeeId':_0x4d3289,'ManagerIDId':parseInt(G_ManagerID),'AttendanceType':$(_0x2e2e6f(0xea))[_0x2e2e6f(0xff)](),'AttendanceDate':_0x43608f}),'headers':{'Accept':'application/json;odata=verbose','Content-Type':'application/json;odata=verbose','X-RequestDigest':$(_0x2e2e6f(0xf4))['val'](),'X-HTTP-Method':_0x2e2e6f(0xc0)},'success':function(_0x3d2056,_0x2e9b4b,_0x3e0f3b){var _0x353131=_0x2e2e6f;alert(_0x353131(0xce)),$(_0x353131(0xe5))[_0x353131(0xf2)](_0x353131(0xfb)),$(_0x353131(0xd2))[_0x353131(0xe1)]({'dateFormat':_0x353131(0xfe),'maxDate':0x0})['datepicker']('setDate',new Date());},'error':function(_0x4540e2){var _0x495a5e=_0x2e2e6f;console['log']('SetAttendance\x20function\x20failed'),console[_0x495a5e(0xd0)](_0x4540e2);}}):alert(_0x2e2e6f(0xcf));}function SetAttendanceDDL(){var _0x160706=a0_0x186092,_0x1c08e6=_spPageContextInfo['userId'],_0x3d3876=new Date(ConvertDateTimeFormat($(_0x160706(0xd2))[_0x160706(0xff)](),'/')),_0x3065c6=_0x3d3876[_0x160706(0xee)]()+'-'+(_0x3d3876[_0x160706(0x10d)]()+0x1)+'-'+_0x3d3876['getDate']();GetHolidays(_0x3065c6);var _0x29d4c1=_spPageContextInfo[_0x160706(0x104)]+'/_api/web/lists/getbytitle(\x27EmpAttendance\x27)/items?$filter=EmployeeId\x20eq\x20\x27'+_0x1c08e6+_0x160706(0xd8)+_0x3065c6+'\x27';$['ajax']({'url':_0x29d4c1,'headers':{'Accept':_0x160706(0xd3)},'async':![],'success':function(_0xe613ee){var _0xad75b0=_0x160706,_0x33f328=_0xe613ee['d'][_0xad75b0(0x10b)];_0x33f328[_0xad75b0(0xe8)]>0x0?($(_0xad75b0(0xea))[_0xad75b0(0xff)](_0x33f328[0x0][_0xad75b0(0x102)]),_0x33f328[0x0][_0xad75b0(0xc5)]==!![]?($(_0xad75b0(0xea))[_0xad75b0(0xf7)](_0xad75b0(0xca),!![]),$('#HR-Message')[_0xad75b0(0xd9)](_0xad75b0(0x108),_0xad75b0(0x109)),$(_0xad75b0(0xf3))[_0xad75b0(0xd9)](_0xad75b0(0x108),_0xad75b0(0xdd))):($(_0xad75b0(0xea))[_0xad75b0(0xf7)](_0xad75b0(0xca),![]),$('#HR-Message')['css'](_0xad75b0(0x108),_0xad75b0(0xdd)),$(_0xad75b0(0xf3))[_0xad75b0(0xd9)](_0xad75b0(0x108),_0xad75b0(0xf1)))):($(_0xad75b0(0xea))[_0xad75b0(0xff)]()=='0'&&$(_0xad75b0(0xea))['val']('0'),$(_0xad75b0(0xea))[_0xad75b0(0xf7)]('disabled',![]),$(_0xad75b0(0xe9))[_0xad75b0(0xd9)](_0xad75b0(0x108),_0xad75b0(0xdd)),$('#AttendanceDDL')['val']('0'),$('#Submit-attendance')[_0xad75b0(0xd9)](_0xad75b0(0x108),_0xad75b0(0xf1)));},'error':function(_0x266b68){var _0x11c7fa=_0x160706;console['log'](_0x11c7fa(0xc8)),console[_0x11c7fa(0xd0)](_0x266b68);}});}function ConvertDateTimeFormat(_0x4dbe70,_0x58c02e){var _0x3489f0=a0_0x186092;return _0x4dbe70[_0x3489f0(0xde)](_0x58c02e)[0x1]+''+_0x58c02e+''+_0x4dbe70[_0x3489f0(0xde)](_0x58c02e)[0x0]+''+_0x58c02e+''+_0x4dbe70['split'](_0x58c02e)[0x2];}var G_ManagerID=0x0;function GetManagerID(){var _0x1209f7=a0_0x186092,_0x45e8b4=_spPageContextInfo['webAbsoluteUrl']+_0x1209f7(0xd1)+_spPageContextInfo[_0x1209f7(0xc1)]+'\x27)';$[_0x1209f7(0x101)]({'url':_0x45e8b4,'headers':{'Accept':_0x1209f7(0xd3)},'async':![],'success':function(_0xf41ea5){var _0x34b584=_0x1209f7,_0x2b1b96=_0xf41ea5['d'][_0x34b584(0x10b)];_0x2b1b96[_0x34b584(0xe8)]>0x0?G_ManagerID=_0x2b1b96[0x0]['ManagerLoginNameId']:G_ManagerID=0x0;},'error':function(_0x4b7ca6){var _0x52a674=_0x1209f7;alert(_0x52a674(0xf9));}});}function SetCurrentdate(){var _0x2da0f7=a0_0x186092;$(_0x2da0f7(0xd2))[_0x2da0f7(0xe1)]({'dateFormat':_0x2da0f7(0xfe),'maxDate':0x0})[_0x2da0f7(0xe1)](_0x2da0f7(0xe7),new Date());}var G_Validateholiday=![];function GetHolidays(_0x3ebe69){var _0x2ae674=a0_0x186092,_0x2f6fb6=_spPageContextInfo[_0x2ae674(0x104)]+_0x2ae674(0xfa)+Logged_Location+_0x2ae674(0xc4)+_0x3ebe69+_0x2ae674(0x100)+titanForWork['getQueryStringParameter'](_0x2ae674(0xec))+_0x2ae674(0x107);$[_0x2ae674(0x101)]({'url':_0x2f6fb6,'headers':{'Accept':_0x2ae674(0xd3)},'async':![],'success':function(_0x3aae32){var _0x583821=_0x2ae674,_0xc3533b=_0x3aae32['d']['results'];_0xc3533b[_0x583821(0xe8)]>0x0?($(_0x583821(0xc6))[_0x583821(0xdb)](_0xc3533b[0x0][_0x583821(0xe6)]),$(_0x583821(0xda))[_0x583821(0xd9)](_0x583821(0x108),_0x583821(0x109)),G_Validateholiday=!![]):($(_0x583821(0xc6))[_0x583821(0xdb)](''),$(_0x583821(0xda))[_0x583821(0xd9)](_0x583821(0x108),_0x583821(0xdd)),G_Validateholiday=![]);},'error':function(_0x314367){var _0x413e0d=_0x2ae674;alert(_0x413e0d(0xf9));}});}var AttendanceEntry=!![];function authentication(){var _0x1a91cb=a0_0x186092,_0x277b38=_spPageContextInfo[_0x1a91cb(0xf8)],_0x304e68=_spPageContextInfo[_0x1a91cb(0x104)]+_0x1a91cb(0xeb);$[_0x1a91cb(0x101)]({'url':_0x304e68,'async':![],'type':_0x1a91cb(0xfc),'headers':{'accept':_0x1a91cb(0xe4)},'success':function(_0x427a7a){var _0x281534=_0x1a91cb,_0xa3ca72=_0x427a7a['d']['results'];if(_0xa3ca72[_0x281534(0xe8)]>0x0)for(var _0x534713=0x0;_0x534713<_0xa3ca72[_0x281534(0xe8)];_0x534713++){_0xa3ca72[_0x534713][_0x281534(0xe6)]==_0x281534(0xcb)&&(_0xa3ca72[_0x534713]['Active']==![]&&(Attendancechck=![],$('#Timesheet-toggle-li')[_0x281534(0xdc)](),$(_0x281534(0xcd))['eq'](0x2)[_0x281534(0xd9)](_0x281534(0x108),_0x281534(0xdd)))),_0xa3ca72[_0x534713][_0x281534(0xe6)]==_0x281534(0xcc)&&(_0xa3ca72[_0x534713]['Active']==![]&&($(_0x281534(0xe3))[_0x281534(0xdc)](),$(_0x281534(0xcd))['eq'](0x0)[_0x281534(0xd9)]('display',_0x281534(0xdd)),$(_0x281534(0xcd))['eq'](0x1)['css']('display',_0x281534(0xdd))));}},'error':function(_0x74b72f){var _0x2f0f0c=_0x1a91cb;alert(JSON[_0x2f0f0c(0x106)](_0x74b72f));}});}