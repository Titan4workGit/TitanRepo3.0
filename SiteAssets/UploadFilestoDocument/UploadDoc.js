var a0_0x3697a4=a0_0x2626;function a0_0x5ed1(){var _0x4b6d5b=['click','/_api/web/folders','SP.Folder','79082wsiwJy','Documents','toLowerCase','name','GetContextWebInformation','upload\x20complete.','}&RootFolder=','#dms-creat-folder','reject','DemoLibrary/Test\x20By\x20Guatam/','POST','DONE','ListItemAllFields','indexOf','stringify','target','945621TSBQNz','GET','resolve','/_api/Web/GetFolderByServerRelativeUrl(\x27','webkitRelativePath','\x27)/Files/add(url=\x27','readAsArrayBuffer','__metadata','byteLength','\x27)?$select=Id','attachment','onloadend','Kindly\x20select\x20a\x20file\x20to\x20upload.!','SOD','\x27,overwrite=true)','/_api/contextinfo','Upload\x20Document\x20to\x20Upload\x20Library\x20By\x20Gautam','application/json;\x20odata=verbose','#__REQUESTDIGEST','fail','ajax','1231675GCYxWx','Select\x20a\x20file!','#attachment','1375608kbPXsa','Name','/_api/web/lists/getbytitle(\x27','results','getElementById','done','length','files','DemoLibrary','File\x20uploading\x20failed','modal','6ZLBdbl','Folders','/_api/web/GetFolderByServerRelativeUrl(\x27','responseJSON','hide','Shared%20Documents','application/json;odata=verbose','24wkwtVW','\x27)?@target=\x27','\x27&$expand=ListItemAllFields','182124pdLcAh','2554181RXVqWB','readyState','webAbsoluteUrl','Deferred','type','Error:\x20','/_api/Web/GetFolderByServerRelativeUrl(@target)/Files/add(overwrite=true,\x20url=\x27','log','val','split','error','execute','949701qKdwjY','sp.ui.dialog.js','result'];a0_0x5ed1=function(){return _0x4b6d5b;};return a0_0x5ed1();}function a0_0x2626(_0x54b744,_0x337e64){var _0x5ed116=a0_0x5ed1();return a0_0x2626=function(_0x26264e,_0x5b3716){_0x26264e=_0x26264e-0x75;var _0x277145=_0x5ed116[_0x26264e];return _0x277145;},a0_0x2626(_0x54b744,_0x337e64);}(function(_0x21a71d,_0x279e12){var _0x5a2410=a0_0x2626,_0x40dc91=_0x21a71d();while(!![]){try{var _0x120445=-parseInt(_0x5a2410(0xc4))/0x1+parseInt(_0x5a2410(0x9c))/0x2+-parseInt(_0x5a2410(0xbe))/0x3+-parseInt(_0x5a2410(0xb1))/0x4+-parseInt(_0x5a2410(0x99))/0x5+-parseInt(_0x5a2410(0xa7))/0x6*(-parseInt(_0x5a2410(0xb2))/0x7)+-parseInt(_0x5a2410(0xae))/0x8*(-parseInt(_0x5a2410(0x84))/0x9);if(_0x120445===_0x279e12)break;else _0x40dc91['push'](_0x40dc91['shift']());}catch(_0xb71f54){_0x40dc91['push'](_0x40dc91['shift']());}}}(a0_0x5ed1,0xa61bb));function uploadDocument(){var _0xaf22c0=a0_0x2626,_0x47a484=$(_0xaf22c0(0x9b))[0x0][_0xaf22c0(0xa3)],_0x1ddef6=_0xaf22c0(0x7d);for(var _0x3b753f=0x0;_0x3b753f<_0x47a484[_0xaf22c0(0xa2)];_0x3b753f++){_0x1ddef6=_0xaf22c0(0xa4);for(var _0x1849c2=0x0;_0x1849c2<_0x47a484[_0x3b753f][_0xaf22c0(0x88)][_0xaf22c0(0xbb)]('/')[_0xaf22c0(0xa2)]-0x1;_0x1849c2++){var _0x2977d2=ChekFolderExistOrNot(_0x1ddef6,_0x47a484[_0x3b753f][_0xaf22c0(0x88)][_0xaf22c0(0xbb)]('/')[_0x1849c2]);_0x2977d2==!![]?(CreateFolder(_0x47a484[_0x3b753f][_0xaf22c0(0x88)]['split']('/')[_0x1849c2],_0x1ddef6),_0x1ddef6+='/'+_0x47a484[_0x3b753f]['webkitRelativePath'][_0xaf22c0(0xbb)]('/')[_0x1849c2]):_0x1ddef6+='/'+_0x47a484[_0x3b753f][_0xaf22c0(0x88)][_0xaf22c0(0xbb)]('/')[_0x1849c2];}if(_0x47a484[_0xaf22c0(0xa2)]>0x0){fileName=_0x47a484[_0x3b753f][_0xaf22c0(0x77)];var _0x4880cc=_spPageContextInfo[_0xaf22c0(0xb4)],_0x33d696='DemoLibrary',_0x4bca02=_spPageContextInfo['webServerRelativeUrl']+'/'+_0x1ddef6,_0x777d85=_0x4880cc+_0xaf22c0(0xb8)+fileName+_0xaf22c0(0xaf)+_0x4bca02+_0xaf22c0(0xb0);uploadFileToFolder(_0x47a484[0x0],_0x777d85,function(_0x5defa3){var _0x147c5e=_0xaf22c0,_0x17839d=_0x5defa3['d'];DocFileName=_0x17839d[_0x147c5e(0x9d)];var _0xa56e70={'__metadata':{'type':_0x17839d[_0x147c5e(0x80)][_0x147c5e(0x8b)][_0x147c5e(0xb6)]},'FileLeafRef':DocFileName};},function(_0x1801eb){var _0x25ea18=_0xaf22c0;alert(_0x25ea18(0xa5));});}else alert(_0xaf22c0(0x90));}}function uploadFileToFolder(_0x2f1321,_0x4eaf94,_0x25569,_0x13254d){var _0x484440=a0_0x2626,_0x49dd0e=_0x4eaf94,_0x1a80af=getFileBuffer(_0x2f1321);_0x1a80af[_0x484440(0xa1)](function(_0x275387){var _0x8d4ebb=_0x484440;$['ajax']({'url':_0x49dd0e,'type':_0x8d4ebb(0x7e),'data':_0x275387,'processData':![],'async':![],'headers':{'accept':_0x8d4ebb(0xad),'X-RequestDigest':jQuery(_0x8d4ebb(0x96))[_0x8d4ebb(0xba)]()},'success':function(_0x425228){_0x25569(_0x425228);},'error':function(_0x3757ec){_0x25569(_0x3757ec);}});});}function getFileBuffer(_0x36448f){var _0xa419b8=a0_0x2626,_0xe5337=jQuery[_0xa419b8(0xb5)](),_0x1d6771=new FileReader();return _0x1d6771['onloadend']=function(_0x522393){var _0x2e7c6c=_0xa419b8;_0xe5337[_0x2e7c6c(0x86)](_0x522393['target'][_0x2e7c6c(0xc0)]);},_0x1d6771['onerror']=function(_0x33438b){var _0x38011e=_0xa419b8;_0xe5337[_0x38011e(0x7c)](_0x33438b[_0x38011e(0x83)][_0x38011e(0xbc)]);},_0x1d6771['readAsArrayBuffer'](_0x36448f),_0xe5337['promise']();}function upload(){var _0x174306=a0_0x2626,_0x114f7b=_0x174306(0xa4);GenerateButtonURL(_0x114f7b);}function onError(_0x55a142){alert(_0x55a142['responseText']);}var openDialog=function(_0x5256b3){var _0x1d13ec=a0_0x2626,_0x233aeb={'url':_0x5256b3,'title':_0x1d13ec(0x94),'allowMaximize':!![],'showClose':!![],'width':0x1f4,'height':0x12c};SP[_0x1d13ec(0x91)][_0x1d13ec(0xbd)](_0x1d13ec(0xbf),'SP.UI.ModalDialog.showModalDialog',_0x233aeb);},GenerateButtonURL=function(_0x4890f9){var _0x23b466=a0_0x2626;try{var _0x4e881f=_spPageContextInfo[_0x23b466(0xb4)];$[_0x23b466(0x98)]({'url':_0x4e881f+_0x23b466(0x9e)+_0x4890f9+_0x23b466(0x8d),'type':_0x23b466(0x85),'async':![],'headers':{'Accept':_0x23b466(0xad)},'success':function(_0x531a05,_0x1491b7,_0x13eb00){var _0x210b5d=_0x23b466;openDialog(_0x4e881f+'/_layouts/15/Upload.aspx?List={'+_0x531a05['d']['Id']+_0x210b5d(0x7a));},'error':function(_0xbc14cd,_0x3a87b3,_0x37c609){var _0x5a7c3d=_0x23b466;console[_0x5a7c3d(0xbc)](_0x5a7c3d(0xb7)+_0x3a87b3);}});}catch(_0x2d5d7d){console['error'](_0x2d5d7d);}},siteUrl=_spPageContextInfo['webAbsoluteUrl'],libraryTitle=a0_0x3697a4(0xa4);$(function(){var _0x58b1ab=a0_0x3697a4,_0x34d66e=getFormDigestValue();$('#addFileButton')[_0x58b1ab(0xc1)](function(){var _0x4b1f36=_0x58b1ab;if(document['getElementById']('attachment')[_0x4b1f36(0xa3)][_0x4b1f36(0xa2)]===0x0){alert(_0x4b1f36(0x9a));return;}for(var _0x36035e=0x0;_0x36035e<document[_0x4b1f36(0xa0)](_0x4b1f36(0x8e))[_0x4b1f36(0xa3)][_0x4b1f36(0xa2)];_0x36035e++){var _0x4b718a=document[_0x4b1f36(0xa0)]('attachment')[_0x4b1f36(0xa3)][_0x36035e];}alert(_0x4b1f36(0x79));});});function uploadFileSync(_0x58f050,_0x2fc454,_0x400b21,_0x18b6f2){var _0x20eec6=a0_0x3697a4,_0x47dfb7=new FileReader();_0x47dfb7[_0x20eec6(0x8f)]=function(_0x4fa693){var _0x129013=_0x20eec6;if(_0x4fa693[_0x129013(0x83)][_0x129013(0xb3)]==FileReader[_0x129013(0x7f)]){var _0x3181c9=_0x4fa693['target'][_0x129013(0xc0)],_0x393e4c=siteUrl+_0x129013(0xa9)+_0x58f050+_0x129013(0x89)+_0x2fc454+_0x129013(0x92);$[_0x129013(0x98)]({'url':_0x393e4c,'type':_0x129013(0x7e),'data':_0x3181c9,'async':![],'processData':![],'headers':{'accept':_0x129013(0xad),'X-RequestDigest':_0x18b6f2,'content-length':_0x3181c9[_0x129013(0x8c)]},'complete':function(_0x1673dd){},'error':function(_0x1b65d1){}});}},_0x47dfb7[_0x20eec6(0x8a)](_0x400b21);}function getFormDigestValue(){var _0x428d3f=a0_0x3697a4,_0x64a574='';return $['ajax']({'url':siteUrl+_0x428d3f(0x93),'method':_0x428d3f(0x7e),'async':![],'headers':{'Accept':_0x428d3f(0x95)},'success':function(_0x44419c){var _0x4529b8=_0x428d3f;_0x64a574=_0x44419c['d'][_0x4529b8(0x78)]['FormDigestValue'];},'error':function(_0x28272b){var _0x88cceb=_0x428d3f;console[_0x88cceb(0xb9)]('error\x20getting\x20the\x20digest\x20value');}}),_0x64a574;}function CreateFolder(_0x3051bf,_0x46e081){var _0x38bfed=a0_0x3697a4;$['when'](CreateDMSFolder(_0x46e081,_0x3051bf))[_0x38bfed(0xa1)](function(_0x1cb0d8){var _0x1ff3ee=_0x38bfed;$('#txtnewSubFolderName')['val'](''),$(_0x1ff3ee(0x7b))[_0x1ff3ee(0xa6)](_0x1ff3ee(0xab));var _0x89e8ba=_0x46e081;_0x46e081[_0x1ff3ee(0x81)](_0x1ff3ee(0x75))!=-0x1&&(_0x89e8ba=_0x1ff3ee(0xac));if(_0x89e8ba[_0x89e8ba['length']-0x1]=='/')var _0x2037c7=_0x89e8ba;else var _0x2037c7=_0x89e8ba+'/';});}function ChekFolderExistOrNot(_0x2151fa,_0x1fbcfd){var _0x2ce955=a0_0x3697a4,_0x47762e=!![],_0x2b41d9=_spPageContextInfo[_0x2ce955(0xb4)]+_0x2ce955(0x87)+_0x2151fa+'\x27)?$select=ID,File_x0020_Type&$expand=Folders';return $[_0x2ce955(0x98)]({'url':_0x2b41d9,'headers':{'Accept':_0x2ce955(0xad)},'async':![],'success':function(_0x2c51e5){var _0x4e37cc=_0x2ce955,_0x46b9cd=_0x2c51e5['d'][_0x4e37cc(0xa8)][_0x4e37cc(0x9f)];for(var _0xa7f342=0x0;_0xa7f342<_0x46b9cd[_0x4e37cc(0xa2)];_0xa7f342++){_0x46b9cd[_0xa7f342]['Name'][_0x4e37cc(0x76)]()==_0x1fbcfd[_0x4e37cc(0x76)]()&&(_0x47762e=![]);}},'eror':function(_0x3521ae){var _0x57df50=_0x2ce955;alert(JSON[_0x57df50(0x82)](_0x3521ae));}}),_0x47762e;}function CreateDMSFolder(_0xe40a14,_0x5ddeee){var _0x25ad10=a0_0x3697a4,_0x23151b=_spPageContextInfo[_0x25ad10(0xb4)];if(_0xe40a14[_0xe40a14[_0x25ad10(0xa2)]-0x1]=='/')var _0x4ad5a1=_0xe40a14+_0x5ddeee;else var _0x4ad5a1=_0xe40a14+'/'+_0x5ddeee;$['ajax']({'url':_0x23151b+_0x25ad10(0xc2),'type':_0x25ad10(0x7e),'data':JSON[_0x25ad10(0x82)]({'__metadata':{'type':_0x25ad10(0xc3)},'ServerRelativeUrl':_0x4ad5a1}),'async':![],'headers':{'accept':_0x25ad10(0xad),'content-type':'application/json;odata=verbose','X-RequestDigest':$(_0x25ad10(0x96))[_0x25ad10(0xba)]()},'success':function(_0x1d355e){},'error':function(_0x33361e){var _0x50ba3b=_0x25ad10;alert(JSON[_0x50ba3b(0x82)](_0x33361e));}})[_0x25ad10(0x97)](function(_0xb21c70){var _0x3d6f90=_0x25ad10;alert(_0xb21c70[_0x3d6f90(0xaa)][_0x3d6f90(0xbc)]['message']['value']);});}