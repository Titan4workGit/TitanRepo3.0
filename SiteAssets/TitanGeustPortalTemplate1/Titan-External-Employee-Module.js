var a0_0x22e0e6=a0_0x1a6b;(function(_0x454011,_0x15f81f){var _0x13473e=a0_0x1a6b,_0x4b79f2=_0x454011();while(!![]){try{var _0x2527a2=parseInt(_0x13473e(0x120))/0x1+-parseInt(_0x13473e(0x13a))/0x2+parseInt(_0x13473e(0x136))/0x3+parseInt(_0x13473e(0x142))/0x4+parseInt(_0x13473e(0x170))/0x5*(-parseInt(_0x13473e(0x131))/0x6)+parseInt(_0x13473e(0x148))/0x7*(parseInt(_0x13473e(0x14b))/0x8)+-parseInt(_0x13473e(0x169))/0x9*(parseInt(_0x13473e(0x166))/0xa);if(_0x2527a2===_0x15f81f)break;else _0x4b79f2['push'](_0x4b79f2['shift']());}catch(_0x275880){_0x4b79f2['push'](_0x4b79f2['shift']());}}}(a0_0x69b4,0x906bd));var txtProjectID=GetQueryStringValue(a0_0x22e0e6(0x15d)),UpdatePercentage=0x0;$(document)['ready'](function(){var _0x42007c=a0_0x22e0e6;GetAllModuleByProjectId(),$('#txtCompletionEdit')[_0x42007c(0x11c)](function(_0x4b9694){var _0x3449f9=_0x42007c;this['value']==_0x3449f9(0x164)&&$('#updateStatus')[_0x3449f9(0x10f)](_0x3449f9(0x119));}),$(_0x42007c(0x16d))['change'](function(_0x5c811f){var _0xf4ae79=_0x42007c;this[_0xf4ae79(0x173)]=='Completed'&&$(_0xf4ae79(0x175))[_0xf4ae79(0x10f)](_0xf4ae79(0x164));}),$('#txtCompletion')[_0x42007c(0x11c)](function(_0x59dd67){var _0x132ec6=_0x42007c;this[_0x132ec6(0x173)]=='100'&&$(_0x132ec6(0x167))['val'](_0x132ec6(0x119));}),$(_0x42007c(0x167))[_0x42007c(0x11c)](function(_0x456890){var _0x199fd7=_0x42007c;this[_0x199fd7(0x173)]=='Completed'&&$(_0x199fd7(0x132))[_0x199fd7(0x10f)]('100');}),$(_0x42007c(0x171))[_0x42007c(0x135)](function(){var _0x300c59=_0x42007c,_0x3a99f8=_0x300c59(0x137),_0xcbcee0=$('#txtTitlemodule')[_0x300c59(0x10f)](),_0x257c97=$('#txtBiomodule')[_0x300c59(0x10f)](),_0x565871=$('#txtProjectName')['text'](),_0x50eaf4=$(_0x300c59(0x13f))[_0x300c59(0x125)](),_0x353534=$(_0x300c59(0x144))[_0x300c59(0x10f)](),_0x3272e7=$(_0x300c59(0x132))[_0x300c59(0x10f)](),_0x575d86;if(ModuleValidation(_0xcbcee0,_0x257c97,_0x353534,_0x3272e7,_0x50eaf4)==!![]){var _0x291d2d=GetItemTypeForListName(_0x3a99f8);_0x575d86={'__metadata':{'type':_0x291d2d},'Title':_0xcbcee0,'Description':_0x257c97,'ProjectId':txtProjectID,'ProjectName':_0x565871,'Status':_0x50eaf4,'weightage':_0x353534,'CompletionPercentage':_0x3272e7},AddModule(_0x575d86,_0x3a99f8),$(_0x300c59(0x130))[_0x300c59(0x11a)](_0x300c59(0x110));}}),$('#btnupdateModule')[_0x42007c(0x135)](function(){var _0x2ad92d=_0x42007c,_0x486a70=_0x2ad92d(0x137),_0x482232=$(_0x2ad92d(0x109))[_0x2ad92d(0x10f)](),_0x44bb56=$('#updadteDescription')[_0x2ad92d(0x10f)](),_0x3f4e4f=$(_0x2ad92d(0x112))[_0x2ad92d(0x125)](),_0x120e60=$(_0x2ad92d(0x12c))[_0x2ad92d(0x10f)](),_0x3a7354=$(_0x2ad92d(0x175))['val']();if(ModuleValidation(_0x482232,_0x44bb56,_0x120e60,_0x3a7354,_0x3f4e4f)==!![]){var _0x3b0dd7,_0x578bab=GetItemTypeForListName(_0x486a70);_0x3b0dd7={'__metadata':{'type':_0x578bab},'Title':_0x482232,'Description':_0x44bb56,'Status':_0x3f4e4f,'weightage':_0x120e60,'CompletionPercentage':_0x3a7354},UpdateModule(_0x3b0dd7,_0x486a70),$(_0x2ad92d(0x126))[_0x2ad92d(0x11a)](_0x2ad92d(0x110));}}),$(_0x42007c(0x15a))[_0x42007c(0x135)](function(){var _0x27784e=_0x42007c;if(CanAddModule==!![])$(_0x27784e(0x130))['modal'](_0x27784e(0x16a));else return alert(_0x27784e(0x16b)),![];}),$('#btnCancelModule')[_0x42007c(0x135)](function(){var _0x286183=_0x42007c;$(_0x286183(0x117))[_0x286183(0x10f)](''),$(_0x286183(0x147))[_0x286183(0x10f)](''),$(_0x286183(0x144))['val']('1'),$(_0x286183(0x132))['val'](''),$('#ProjectSatus')[_0x286183(0x10f)]('Active');});});function a0_0x69b4(){var _0x167af3=['#ProjectWeightage','CompletionPercentage','results','#txtBiomodule','91qvRPml','html','POST','431120bniOed','Status','#updadteDescription','0\x200\x20200\x20200','tspan','Deferred','#CompletionPercent','SP.Data.','/_api/lists/getbytitle(\x27ProjectDetails\x27)/items(\x27','viewBox','#txtSomethingWentWrong','\x27)/items(\x27','toUpperCase','promise','#btnupdateModule','#btnaddModule','ProjectDetails','svg','projectId','Description','length','<td\x20class=\x22text-center\x22>0%</td>','attr','ListItem','\x27)/items?$select=*&$Filter=Id\x20eq\x20\x27','100','/_api/web/lists/getbytitle(\x27','30NTOdKw','#ProjectSatus','Kindly\x20fill\x20module\x20name.','4423131FJmmyR','show','You\x20are\x20not\x20authorized\x20to\x20perform\x20this\x20action.','</span></td>','#updateStatus','</tr>','Kindly\x20fill\x20module\x20description.','2360155oDvYoj','#btnsubmitModule','reject','value','#338AFF','#txtCompletionEdit','#updateModuleName','MERGE','Kindly\x20fill\x20module\x20completion.','<td\x20class=\x22text-center\x22><span\x20class=\x22\x20color-red2\x22>','stringify','An\x20error\x20occurred.\x20Please\x20try\x20again.','val','hide','</td>','#updateStatus\x20option:selected','normal','Completion\x20percentage\x20cannot\x20be\x20greater\x20than\x20hundered\x20or\x20less\x20than\x20zero.','application/json;odata=verbose','charAt','#txtTitlemodule','Inactive','Completed','modal','search','change','weightage','<a\x20href=\x22javascript:void(0);\x22\x20onclick=\x22BindProjectModule(','percentageLoader','280076PmNvux','exec','20px','<p\x20id=\x22percent\x22\x20style=\x22display:none;\x22></p>','<tr\x20class=\x22text-left\x22>','text','#edit-module-modal','<td><div\x20class=\x22attendance-view-btn-box\x20text-center\x22>','/_api/lists/getbytitle(\x27','disabled','Title','Active','#EditProjectWeightage','#viewALLModule','<td\x20class=\x22text-center\x22>','<td\x20colspan=\x225\x22\x20style=\x22text-align:\x20center;\x22>No\x20modules\x20are\x20found...!</td>','#add-module-modal','6PkdWru','#txtCompletion',');\x22\x20class=\x22custom-view-btn\x22><i\x20class=\x22fa\x20fa-pencil\x22></i></a></div></td>','#__REQUESTDIGEST','click','3383157khzRmU','ProjectModules','remove','%</td>','1114890hIpeZU','ajax','webAbsoluteUrl','<td\x20class=\x22text-center\x22><span\x20class=\x22\x20color-blue\x22>','replace','#ProjectSatus\x20option:selected','log','\x27)/items','3948148CGpqZz','resolve'];a0_0x69b4=function(){return _0x167af3;};return a0_0x69b4();}function ModuleValidation(_0x1fe4f5,_0x476d8a,_0x4d5981,_0x451321,_0x2b5739){var _0x165066=a0_0x22e0e6;if(_0x1fe4f5==''||_0x1fe4f5==null)return alert(_0x165066(0x168)),![];else{if(_0x476d8a==''||_0x476d8a==null)return alert(_0x165066(0x16f)),![];else{if(_0x451321==''||_0x451321==null)return alert(_0x165066(0x10b)),![];else return parseFloat(_0x451321)>0x64||parseFloat(_0x451321)<0x0?(alert(_0x165066(0x114)),![]):!![];}}}function a0_0x1a6b(_0x1bdf6b,_0x52ee03){var _0x69b47=a0_0x69b4();return a0_0x1a6b=function(_0x1a6b5a,_0x49b9f7){_0x1a6b5a=_0x1a6b5a-0x109;var _0x72e5a=_0x69b47[_0x1a6b5a];return _0x72e5a;},a0_0x1a6b(_0x1bdf6b,_0x52ee03);}function GetQueryStringValue(_0x2ccce1){var _0x12c89c=a0_0x22e0e6;_0x2ccce1=_0x2ccce1[_0x12c89c(0x13e)](/[\[]/,'\x5c[')[_0x12c89c(0x13e)](/[\]]/,'\x5c]');var _0x1a7c7b=new RegExp('[\x5c?&]'+_0x2ccce1+'=([^&#]*)'),_0xdae50a=_0x1a7c7b[_0x12c89c(0x121)](location[_0x12c89c(0x11b)]);return _0xdae50a===null?'':decodeURIComponent(_0xdae50a[0x1]['replace'](/\+/g,'\x20'));}function UpdateModule(_0x528c32,_0x7d77b7){var _0x15bb89=a0_0x22e0e6,_0x2fa7af=$['Deferred'](),_0x3db1bb=_spPageContextInfo['webAbsoluteUrl']+_0x15bb89(0x128)+_0x7d77b7+_0x15bb89(0x156)+EditId+'\x27)';return $[_0x15bb89(0x13b)]({'url':_0x3db1bb,'type':_0x15bb89(0x14a),'async':![],'headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$('#__REQUESTDIGEST')[_0x15bb89(0x10f)](),'content-Type':_0x15bb89(0x115),'IF-MATCH':'*','X-HTTP-Method':'MERGE'},'data':JSON[_0x15bb89(0x10d)](_0x528c32),'success':function(_0x2de296){var _0x10bb07=_0x15bb89;_0x2fa7af[_0x10bb07(0x143)](_0x2de296),alert('Module\x20updated\x20successfully'),$(_0x10bb07(0x126))['modal'](_0x10bb07(0x110)),GetAllModuleByProjectId(),updateCompletionPercent(),$('#updateModuleName')[_0x10bb07(0x10f)](''),$('#updateStatus\x20')[_0x10bb07(0x10f)](_0x10bb07(0x12b));},'eror':function(_0x34fcb0){var _0x11b96d=_0x15bb89;_0x2fa7af['reject'](_0x34fcb0),console[_0x11b96d(0x140)](_0x11b96d(0x10e));}}),_0x2fa7af[_0x15bb89(0x158)]();}function AddModule(_0x15c84a,_0x38b105){var _0x560cec=a0_0x22e0e6,_0x38c58b=$[_0x560cec(0x150)]();return $['ajax']({'url':_spPageContextInfo[_0x560cec(0x13c)]+_0x560cec(0x165)+_0x38b105+_0x560cec(0x141),'type':_0x560cec(0x14a),'async':![],'headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$(_0x560cec(0x134))['val'](),'content-Type':_0x560cec(0x115)},'data':JSON['stringify'](_0x15c84a),'success':function(_0x47ff44){var _0xd14390=_0x560cec;_0x38c58b[_0xd14390(0x143)](_0x47ff44),alert('Project\x20module\x20submitted.'),$(_0xd14390(0x130))[_0xd14390(0x11a)](_0xd14390(0x110)),GetAllModuleByProjectId(),updateCompletionPercent(),$('#txtTitlemodule')[_0xd14390(0x10f)](''),$('#txtBiomodule')['val'](''),$(_0xd14390(0x144))[_0xd14390(0x10f)]('1'),$(_0xd14390(0x132))[_0xd14390(0x10f)](''),$(_0xd14390(0x167))[_0xd14390(0x10f)](_0xd14390(0x12b));},'error':function(_0x545b1b){var _0x2052bf=_0x560cec;console[_0x2052bf(0x140)](JSON['stringify'](_0x545b1b)),_0x38c58b[_0x2052bf(0x172)](_0x545b1b);}}),_0x38c58b['promise']();}function updateCompletionPercent(){var _0x2c9aa2=a0_0x22e0e6,_0x51dafb,_0xe92de6=GetItemTypeForListName(_0x2c9aa2(0x15b));_0x51dafb={'__metadata':{'type':_0xe92de6},'CompletionPercentage':parseInt(UpdatePercentage)};var _0x4cdbd1=$[_0x2c9aa2(0x150)](),_0x499595=_spPageContextInfo['webAbsoluteUrl']+_0x2c9aa2(0x153)+txtProjectID+'\x27)';return $[_0x2c9aa2(0x13b)]({'url':_0x499595,'type':_0x2c9aa2(0x14a),'async':![],'headers':{'accept':_0x2c9aa2(0x115),'X-RequestDigest':$(_0x2c9aa2(0x134))['val'](),'content-Type':_0x2c9aa2(0x115),'IF-MATCH':'*','X-HTTP-Method':_0x2c9aa2(0x10a)},'data':JSON[_0x2c9aa2(0x10d)](_0x51dafb),'success':function(_0x402058){var _0x9b5195=_0x2c9aa2;_0x4cdbd1[_0x9b5195(0x143)](_0x402058);},'eror':function(_0x59fb7a){var _0x2c37f0=_0x2c9aa2;_0x4cdbd1[_0x2c37f0(0x172)](_0x59fb7a),console['log'](_0x2c37f0(0x10e));}}),_0x4cdbd1[_0x2c9aa2(0x158)]();}function GetAllModuleByProjectId(){var _0x26cd8c=a0_0x22e0e6;ExisitngTeamMemberArray=[];var _0x147e53=0x0,_0x3dc350=0x0,_0x2372b7=0x0,_0x437f20=0x0,_0x498c02=txtProjectID,_0x4f7f3f=_spPageContextInfo['webAbsoluteUrl']+'/_api/web/lists/getbytitle(\x27ProjectModules\x27)/items?$select=*&$Filter=ProjectId\x20eq\x20\x27'+_0x498c02+'\x27';$['ajax']({'url':_0x4f7f3f,'headers':{'Accept':_0x26cd8c(0x115)},'async':![],'success':function(_0x3b67a8){var _0x722b27=_0x26cd8c,_0x5b88ee=$(_0x722b27(0x12d));_0x5b88ee[_0x722b27(0x149)]('');var _0x17026d=_0x3b67a8['d'][_0x722b27(0x146)],_0x4f7f79;if(_0x17026d[_0x722b27(0x15f)]>0x0)for(var _0x45624d=0x0;_0x45624d<_0x17026d['length'];_0x45624d++){_0x17026d[_0x45624d][_0x722b27(0x14c)]!=_0x722b27(0x118)&&(_0x147e53=_0x17026d[_0x45624d][_0x722b27(0x11d)]*_0x17026d[_0x45624d][_0x722b27(0x145)],_0x3dc350=_0x3dc350+_0x147e53,_0x2372b7=_0x17026d[_0x45624d]['weightage']+_0x2372b7);_0x4f7f79+=_0x722b27(0x124),_0x4f7f79+='<td><span>'+_0x17026d[_0x45624d][_0x722b27(0x12a)]+_0x722b27(0x16c),_0x4f7f79+='<td><span>'+_0x17026d[_0x45624d][_0x722b27(0x15e)]+'</span></td>';_0x17026d[_0x45624d][_0x722b27(0x11d)]==null?_0x4f7f79+='<td\x20class=\x22text-center\x22>1</td>':_0x4f7f79+=_0x722b27(0x12e)+_0x17026d[_0x45624d][_0x722b27(0x11d)]+_0x722b27(0x111);_0x17026d[_0x45624d]['CompletionPercentage']==null?_0x4f7f79+=_0x722b27(0x160):_0x4f7f79+=_0x722b27(0x12e)+_0x17026d[_0x45624d][_0x722b27(0x145)]+_0x722b27(0x139);if(_0x17026d[_0x45624d][_0x722b27(0x14c)]=='Active')_0x4f7f79+=_0x722b27(0x13d)+_0x17026d[_0x45624d][_0x722b27(0x14c)]+'</span></td>';else{if(_0x17026d[_0x45624d][_0x722b27(0x14c)]=='Completed')_0x4f7f79+='<td\x20class=\x22text-center\x22><span\x20class=\x22\x20color-green\x22>'+_0x17026d[_0x45624d][_0x722b27(0x14c)]+'</span></td>';else _0x17026d[_0x45624d][_0x722b27(0x14c)]=='Hold'?_0x4f7f79+='<td\x20class=\x22text-center\x22><span\x20class=\x22\x20color-orange\x22>'+_0x17026d[_0x45624d][_0x722b27(0x14c)]+_0x722b27(0x16c):_0x4f7f79+=_0x722b27(0x10c)+_0x17026d[_0x45624d][_0x722b27(0x14c)]+_0x722b27(0x16c);}_0x4f7f79+=_0x722b27(0x127),_0x4f7f79+=_0x722b27(0x11e)+_0x17026d[_0x45624d]['Id']+_0x722b27(0x133),_0x4f7f79+=_0x722b27(0x16e);}else _0x4f7f79+='<tr>',_0x4f7f79+=_0x722b27(0x12f),_0x4f7f79+='</tr>';_0x5b88ee['append'](_0x4f7f79),_0x437f20=_0x3dc350/_0x2372b7,UpdatePercentage=_0x437f20,displayCompletionChart(_0x437f20);},'eror':function(_0x575c15){console['log']($('#txtSomethingWentWrong')['val']());}});}function BindProjectModule(_0x50c5fd){var _0x479073=a0_0x22e0e6,_0x5f274d=_0x479073(0x137);siteURL=_spPageContextInfo[_0x479073(0x13c)]+'/_api/web/lists/getbytitle(\x27'+_0x5f274d+_0x479073(0x163)+_0x50c5fd+'\x27',$[_0x479073(0x13b)]({'url':siteURL,'headers':{'Accept':_0x479073(0x115)},'async':![],'success':function(_0x404802){var _0x477eef=_0x479073;$(_0x477eef(0x126))[_0x477eef(0x11a)](_0x477eef(0x16a));var _0x1d43d4=_0x404802['d'][_0x477eef(0x146)];if(_0x1d43d4[_0x477eef(0x15f)]>0x0){$(_0x477eef(0x109))['val'](_0x1d43d4[0x0][_0x477eef(0x12a)]);var _0x52f310=$(_0x1d43d4[0x0]['Description'])[_0x477eef(0x125)]();$(_0x477eef(0x14d))[_0x477eef(0x10f)](_0x52f310),$(_0x477eef(0x16d))['val'](_0x1d43d4[0x0][_0x477eef(0x14c)]),_0x1d43d4[0x0]['weightage']==null?$(_0x477eef(0x12c))['val'](0x1):$(_0x477eef(0x12c))[_0x477eef(0x10f)](_0x1d43d4[0x0][_0x477eef(0x11d)]),_0x1d43d4[0x0]['CompletionPercentage']==null?$(_0x477eef(0x175))[_0x477eef(0x10f)](''):$(_0x477eef(0x175))[_0x477eef(0x10f)](_0x1d43d4[0x0][_0x477eef(0x145)]),EditId=_0x50c5fd,DisbledControls();}},'error':function(_0x3a30dd){var _0x58535f=_0x479073;alert($(_0x58535f(0x155))[_0x58535f(0x10f)]());}});}function GetItemTypeForListName(_0x36129c){var _0x37d179=a0_0x22e0e6;return _0x37d179(0x152)+_0x36129c[_0x37d179(0x116)](0x0)[_0x37d179(0x157)]()+_0x36129c['split']('\x20')['join']('')['slice'](0x1)+_0x37d179(0x162);}function displayCompletionChart(_0x5c5a20){var _0x483ff0=a0_0x22e0e6;$(_0x483ff0(0x151))[_0x483ff0(0x149)](''),$(_0x483ff0(0x151))['append'](_0x483ff0(0x123)),isNaN(_0x5c5a20)&&(_0x5c5a20=0x0),_0x5c5a20=_0x5c5a20+'%',$('#percent')[_0x483ff0(0x125)](_0x5c5a20),$(_0x483ff0(0x151))[_0x483ff0(0x11f)]({'strokeWidth':0x11,'bgColor':'#d9d9d9','ringColor':_0x483ff0(0x174),'textColor':'#9a9a9a','valElement':'p','fontSize':_0x483ff0(0x122),'fontWeight':_0x483ff0(0x113)}),$(_0x483ff0(0x14f))[_0x483ff0(0x161)]('dy','5'),$(_0x483ff0(0x15c))['attr'](_0x483ff0(0x154),_0x483ff0(0x14e));}function DisbledControls(){var _0xd7afb6=a0_0x22e0e6;CanAddModule==![]&&($(_0xd7afb6(0x109))[_0xd7afb6(0x161)](_0xd7afb6(0x129),_0xd7afb6(0x129)),$(_0xd7afb6(0x14d))[_0xd7afb6(0x161)](_0xd7afb6(0x129),_0xd7afb6(0x129)),$('#EditProjectWeightage')['attr'](_0xd7afb6(0x129),'disabled'),$(_0xd7afb6(0x175))[_0xd7afb6(0x161)]('disabled',_0xd7afb6(0x129)),$(_0xd7afb6(0x16d))[_0xd7afb6(0x161)](_0xd7afb6(0x129),_0xd7afb6(0x129)),$(_0xd7afb6(0x159))[_0xd7afb6(0x138)]());}